#! encoding="UTF-8"
#    Command line to run this workspace:
#        "C:\Program Files\FME\fme.exe" C:/!Capstone/repo/TL16/data-consolidation\wb-xlate-1723139089466_15652
#          --FME_LAUNCH_VIEWER_APP "YES"
#    

MACRO FME_MF_NAME parking_occupancy.fmw
MACRO FME_MF_NAME_MASTER parking_occupancy.fmw

FME_PYTHON_VERSION 310
ARCGIS_COMPATIBILITY ARCGIS_AUTO
# ============================================================================
DEFAULT_MACRO FME_DATA_REPOSITORY 

DEFAULT_MACRO FME_ENGINE 

DEFAULT_MACRO FME_JOB_ID 

DEFAULT_MACRO FME_SECURITY_ROLES 

DEFAULT_MACRO FME_SECURITY_USER 

DEFAULT_MACRO FME_SERVER_DEST_DIR 

DEFAULT_MACRO FME_SERVER_HOST 

DEFAULT_MACRO FME_SERVER_PORT 

DEFAULT_MACRO FME_SERVER_REQUEST_HEADERS 

DEFAULT_MACRO FME_SERVER_REQUEST_METHOD 

DEFAULT_MACRO FME_SERVER_REQUEST_PARAMETERS 

DEFAULT_MACRO FME_SERVER_REQUEST_URI 

DEFAULT_MACRO FME_SERVER_RUNTIME_USER 

DEFAULT_MACRO FME_SERVER_RUNTIME_USER_ID 

DEFAULT_MACRO FME_SERVER_WEB_URL 

DEFAULT_MACRO FME_SHAREDRESOURCE_BACKUP 

DEFAULT_MACRO FME_SHAREDRESOURCE_DASHBOARD 

DEFAULT_MACRO FME_SHAREDRESOURCE_DATA 

DEFAULT_MACRO FME_SHAREDRESOURCE_ENGINE 

DEFAULT_MACRO FME_SHAREDRESOURCE_LOG 

DEFAULT_MACRO FME_SHAREDRESOURCE_SYSTEM 

DEFAULT_MACRO FME_SHAREDRESOURCE_TEMP 

DEFAULT_MACRO FME_TOPIC 

DEFAULT_MACRO FME_TOPIC_MESSAGE 

# ============================================================================
#! START_HEADER
#! START_WB_HEADER
READER_TYPE MULTI_READER
WRITER_TYPE NULL
WRITER_KEYWORD NULL_DEST
NULL_DEST_DATASET null
#! END_WB_HEADER
#! START_WB_HEADER
#! END_WB_HEADER
#! END_HEADER

LOG_END_BANNER 
LOG_END_BANNER Feature caches have been recorded at every stage of the translation.
LOG_END_BANNER To inspect the recorded features,
LOG_END_BANNER click the feature cache icons next to the ports.
LOG_END_BANNER 
LOG_FILENAME "$(FME_MF_DIR)parking_occupancy.log"
LOG_APPEND NO
LOG_FILTER_MASK -1
LOG_MAX_FEATURES 200
LOG_MAX_RECORDED_FEATURES 200
FME_REPROJECTION_ENGINE FME
FME_IMPLICIT_CSMAP_REPROJECTION_MODE Auto
FME_GEOMETRY_HANDLING Enhanced
FME_STROKE_MAX_DEVIATION 0
FME_NAMES_ENCODING UTF-8
FME_BULK_MODE_THRESHOLD 2000
# -------------------------------------------------------------------------

MULTI_READER_CONTINUE_ON_READER_FAILURE No

# -------------------------------------------------------------------------

MACRO WORKSPACE_NAME parking_occupancy
MACRO FME_VIEWER_APP fmedatainspector
DEFAULT_MACRO WB_CURRENT_CONTEXT
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN Creator;2:Main
Tcl2 proc Creator_CoordSysRemover {} {   global FME_CoordSys;   set FME_CoordSys {}; }
MACRO Creator_XML     NOT_ACTIVATED
MACRO Creator_CLASSIC NOT_ACTIVATED
MACRO Creator_2D3D    2D_GEOMETRY
MACRO Creator_COORDS  <Unused>
INCLUDE [ if { {Geometry Object} == {Geometry Object} } {            puts {MACRO Creator_XML *} } ]
INCLUDE [ if { {Geometry Object} == {2D Coordinate List} } {            puts {MACRO Creator_2D3D 2D_GEOMETRY};            puts {MACRO Creator_CLASSIC *} } ]
INCLUDE [ if { {Geometry Object} == {3D Coordinate List} } {            puts {MACRO Creator_2D3D 3D_GEOMETRY};            puts {MACRO Creator_CLASSIC *} } ]
INCLUDE [ if { {Geometry Object} == {2D Min/Max Box} } {            set comment {                We need to turn the COORDS which are                    minX minY maxX maxY                into a full polygon list of coordinates            };            set splitCoords [split [string trim {<Unused>}]];            if { [llength $splitCoords] > 4} {               set trimmedCoords {};               foreach item $splitCoords { if { $item != {} } {lappend trimmedCoords $item} };               set splitCoords $trimmedCoords;            };            if { [llength $splitCoords] != 4 } {                error {Creator: Coordinate list is expected to be a space delimited list of four numbers as 'minx miny maxx maxy' - `<Unused>' is invalid};            };            set minX [lindex $splitCoords 0];            set minY [lindex $splitCoords 1];            set maxX [lindex $splitCoords 2];            set maxY [lindex $splitCoords 3];            puts "MACRO Creator_COORDS $minX $minY $minX $maxY $maxX $maxY $maxX $minY $minX $minY";            puts {MACRO Creator_2D3D 2D_GEOMETRY};            puts {MACRO Creator_CLASSIC *} } ]
FACTORY_DEF {$(Creator_XML)} CreationFactory    FACTORY_NAME { Creator_XML_Creator }    CREATE_AT_END { no }    OUTPUT { FEATURE_TYPE _____CREATED______        @Geometry(FROM_ENCODED_STRING,<lt>?xml<space>version=<quote>1.0<quote><space>encoding=<quote>US_ASCII<quote><space>standalone=<quote>no<quote><space>?<gt><lt>geometry<space>dimension=<quote>2<quote><gt><lt>null<solidus><gt><lt><solidus>geometry<gt>) }
FACTORY_DEF {$(Creator_CLASSIC)} CreationFactory    FACTORY_NAME { Creator_CLASSIC_Creator }    $(Creator_2D3D) { $(Creator_COORDS) }    CREATE_AT_END { no }    OUTPUT { FEATURE_TYPE _____CREATED______ }
FACTORY_DEF {*} TeeFactory    FACTORY_NAME { Creator_Cloner }    INPUT FEATURE_TYPE _____CREATED______        @Tcl2(Creator_CoordSysRemover)        @CoordSys()    NUMBER_OF_COPIES { 1 }    COPY_NUMBER_ATTRIBUTE { "_creation_instance" }    OUTPUT { FEATURE_TYPE Creator_CREATED        fme_feature_type Creator         }
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "Creator_CREATED Feature Recorder -1 2147549186" INPUT FEATURE_TYPE Creator_CREATED FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_Creator -1 2 fo 0 CREATED  0  372864ba811950f5b94f3a1d94d38c881107c5ec.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { _creation_instance,uint64 }  FEAT_TYPE_DISPLAY_NAME { Creator_Created } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF * TeeFactory   FACTORY_NAME "Creator CREATED Splitter"   INPUT FEATURE_TYPE Creator_CREATED   OUTPUT FEATURE_TYPE Creator_CREATED_0_GJAgmIF9G6c=   OUTPUT FEATURE_TYPE Creator_CREATED_1_Exx7idfjvCA=   OUTPUT FEATURE_TYPE Creator_CREATED_2_goANeUpBIDA=   OUTPUT FEATURE_TYPE Creator_CREATED_3_T6a7qEGs3cw=   OUTPUT FEATURE_TYPE Creator_CREATED_4_kL0twIhQOd0=   OUTPUT FEATURE_TYPE Creator_CREATED_5_HlnuBgcITog=   OUTPUT FEATURE_TYPE Creator_CREATED_6_62VWAKFdvog=
.metadata XFORMER_END Creator;2:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "Creator_CREATED_0_GJAgmIF9G6c= Feature Counter -1 19"   INPUT FEATURE_TYPE Creator_CREATED_0_GJAgmIF9G6c=   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 19")
FACTORY_DEF * BranchingFactory   FACTORY_NAME "Creator_CREATED_0_GJAgmIF9G6c= Brancher -1 19"   INPUT FEATURE_TYPE Creator_CREATED_0_GJAgmIF9G6c=   TARGET_FACTORY "$(WB_CURRENT_CONTEXT)_CREATOR_BRANCH_TARGET"   MAXIMUM_COUNT None   OUTPUT PASSED FEATURE_TYPE *
FACTORY_DEF * TeeFactory   FACTORY_NAME "Creator_CREATED_1_Exx7idfjvCA= Feature Counter -1 27"   INPUT FEATURE_TYPE Creator_CREATED_1_Exx7idfjvCA=   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 27")
FACTORY_DEF * BranchingFactory   FACTORY_NAME "Creator_CREATED_1_Exx7idfjvCA= Brancher -1 27"   INPUT FEATURE_TYPE Creator_CREATED_1_Exx7idfjvCA=   TARGET_FACTORY "$(WB_CURRENT_CONTEXT)_CREATOR_BRANCH_TARGET"   MAXIMUM_COUNT None   OUTPUT PASSED FEATURE_TYPE *
FACTORY_DEF * TeeFactory   FACTORY_NAME "Creator_CREATED_2_goANeUpBIDA= Feature Counter -1 28"   INPUT FEATURE_TYPE Creator_CREATED_2_goANeUpBIDA=   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 28")
FACTORY_DEF * BranchingFactory   FACTORY_NAME "Creator_CREATED_2_goANeUpBIDA= Brancher -1 28"   INPUT FEATURE_TYPE Creator_CREATED_2_goANeUpBIDA=   TARGET_FACTORY "$(WB_CURRENT_CONTEXT)_CREATOR_BRANCH_TARGET"   MAXIMUM_COUNT None   OUTPUT PASSED FEATURE_TYPE *
FACTORY_DEF * TeeFactory   FACTORY_NAME "Creator_CREATED_3_T6a7qEGs3cw= Feature Counter -1 29"   INPUT FEATURE_TYPE Creator_CREATED_3_T6a7qEGs3cw=   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 29")
FACTORY_DEF * BranchingFactory   FACTORY_NAME "Creator_CREATED_3_T6a7qEGs3cw= Brancher -1 29"   INPUT FEATURE_TYPE Creator_CREATED_3_T6a7qEGs3cw=   TARGET_FACTORY "$(WB_CURRENT_CONTEXT)_CREATOR_BRANCH_TARGET"   MAXIMUM_COUNT None   OUTPUT PASSED FEATURE_TYPE *
FACTORY_DEF * TeeFactory   FACTORY_NAME "Creator_CREATED_4_kL0twIhQOd0= Feature Counter -1 30"   INPUT FEATURE_TYPE Creator_CREATED_4_kL0twIhQOd0=   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 30")
FACTORY_DEF * BranchingFactory   FACTORY_NAME "Creator_CREATED_4_kL0twIhQOd0= Brancher -1 30"   INPUT FEATURE_TYPE Creator_CREATED_4_kL0twIhQOd0=   TARGET_FACTORY "$(WB_CURRENT_CONTEXT)_CREATOR_BRANCH_TARGET"   MAXIMUM_COUNT None   OUTPUT PASSED FEATURE_TYPE *
FACTORY_DEF * TeeFactory   FACTORY_NAME "Creator_CREATED_5_HlnuBgcITog= Feature Counter -1 31"   INPUT FEATURE_TYPE Creator_CREATED_5_HlnuBgcITog=   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 31")
FACTORY_DEF * BranchingFactory   FACTORY_NAME "Creator_CREATED_5_HlnuBgcITog= Brancher -1 31"   INPUT FEATURE_TYPE Creator_CREATED_5_HlnuBgcITog=   TARGET_FACTORY "$(WB_CURRENT_CONTEXT)_CREATOR_BRANCH_TARGET"   MAXIMUM_COUNT None   OUTPUT PASSED FEATURE_TYPE *
FACTORY_DEF * TeeFactory   FACTORY_NAME "Creator_CREATED_6_62VWAKFdvog= Feature Counter -1 32"   INPUT FEATURE_TYPE Creator_CREATED_6_62VWAKFdvog=   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 32")
FACTORY_DEF * BranchingFactory   FACTORY_NAME "Creator_CREATED_6_62VWAKFdvog= Brancher -1 32"   INPUT FEATURE_TYPE Creator_CREATED_6_62VWAKFdvog=   TARGET_FACTORY "$(WB_CURRENT_CONTEXT)_CREATOR_BRANCH_TARGET"   MAXIMUM_COUNT None   OUTPUT PASSED FEATURE_TYPE *
# -------------------------------------------------------------------------
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(WB_CURRENT_CONTEXT)_CREATOR_BRANCH_TARGET"   INPUT FEATURE_TYPE *  OUTPUT FEATURE_TYPE *
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN West_Parkade_Latest_Timestamp;18:Main
MACRO West_Parkade_Latest_Timestamp_DIRECTIVES APPLICATION_INTENT ReadWrite NAMED_CONNECTION AWS_UBCParking CREATE_FEATURE_TABLES_FROM_DATA Yes QUERY_FEATURE_TYPES_FOR_MERGE_FILTERS Yes QUERY_TIMEOUT 30
FACTORY_DEF {*} QueryFactory    FACTORY_NAME { West_Parkade_Latest_Timestamp }    INPUT  FEATURE_TYPE Creator_CREATED_0_GJAgmIF9G6c=    QUERY_SQL            { "SELECT<space>zone_id<comma><space>MAX<openparen>TimestampUnix<closeparen><space>AS<space>latest_timestamp<space>FROM<space>Parking.dbo.WestParkade_Occupancy<space>GROUP<space>BY<space>zone_id<lf>" }    READER_TYPE          { MSSQL_JDBC_NONSPATIAL_2 }    READER_DATASET       { "AWS_UBCParking" }    COMBINE_ATTRIBUTES   { RESULT_ONLY }    IGNORE_NULLS         { <Unused> }    COMBINE_GEOMETRY     { QUERY_ONLY }    QUERYFCT_OUTPUT      { "BASED_ON_CONNECTIONS" }    CONTINUE_ON_READER_ERROR YES    QUERYFCT_PROPAGATE_IDS_ON_SQL_EXECUTE YES    READER_PARAMS        { $(West_Parkade_Latest_Timestamp_DIRECTIVES) }    OUTPUT { RESULT FEATURE_TYPE West_Parkade_Latest_Timestamp_RESULT        @SupplyAttributes(fme_feature_type,West_Parkade_Latest_Timestamp)         }    OUTPUT { SCHEMA FEATURE_TYPE West_Parkade_Latest_Timestamp_<SCHEMA>           }    OUTPUT { QUERY FEATURE_TYPE West_Parkade_Latest_Timestamp_INITIATOR            }    OUTPUT { READER_ERROR FEATURE_TYPE West_Parkade_Latest_Timestamp_<REJECTED>         }
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "West_Parkade_Latest_Timestamp_<SCHEMA> Feature Recorder -1 2147614738" INPUT FEATURE_TYPE West_Parkade_Latest_Timestamp_<SCHEMA> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_West_Parkade_Latest_Timestamp -1 18 fo 0 _lt_SCHEMA_gt_  0  6d595f9600f55a639e21d9411bcda3554d9ae43b.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { fme_feature_type_name,buffer,attribute<opencurly><closecurly>.name,buffer,attribute<opencurly><closecurly>.fme_data_type,buffer,attribute<opencurly><closecurly>.native_data_type,buffer,fme_basename,buffer }  FEAT_TYPE_DISPLAY_NAME { West_Parkade_Latest_Timestamp_<lt>Schema<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "West_Parkade_Latest_Timestamp_RESULT Feature Recorder -1 2147680274" INPUT FEATURE_TYPE West_Parkade_Latest_Timestamp_RESULT FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_West_Parkade_Latest_Timestamp -1 18 fo 1 RESULT  0  0c8d9b4207e907f812f50e498c117b63b69d0498.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { zone_id,varchar<openparen>255<closeparen>,latest_timestamp,int64 }  FEAT_TYPE_DISPLAY_NAME { West_Parkade_Latest_Timestamp_Result } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "West_Parkade_Latest_Timestamp_INITIATOR Feature Recorder -1 2147745810" INPUT FEATURE_TYPE West_Parkade_Latest_Timestamp_INITIATOR FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_West_Parkade_Latest_Timestamp -1 18 fo 2 INITIATOR  0  ff65cf34e34c91a1344f7e442839d85e9c1f53f5.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { _creation_instance,uint64,_matched_records,uint32 }  FEAT_TYPE_DISPLAY_NAME { West_Parkade_Latest_Timestamp_Initiator } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "West_Parkade_Latest_Timestamp_<REJECTED> Feature Recorder -1 2147811346" INPUT FEATURE_TYPE West_Parkade_Latest_Timestamp_<REJECTED> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_West_Parkade_Latest_Timestamp -1 18 fo 3 _lt_REJECTED_gt_  0  27dbcfa74106b8c5b1f1a8f17b9ca24e59ea8116.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { _creation_instance,uint64,_reader_error,buffer,zone_id,varchar<openparen>255<closeparen>,latest_timestamp,int64 }  FEAT_TYPE_DISPLAY_NAME { West_Parkade_Latest_Timestamp_<lt>Rejected<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
.metadata XFORMER_END West_Parkade_Latest_Timestamp;18:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "West_Parkade_Latest_Timestamp_<SCHEMA> Feature Counter -1 2147614738"   INPUT FEATURE_TYPE West_Parkade_Latest_Timestamp_<SCHEMA>     @LogCount("PORT -1 2147614738")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "West_Parkade_Latest_Timestamp_RESULT Feature Counter -1 34"   INPUT FEATURE_TYPE West_Parkade_Latest_Timestamp_RESULT   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 34")
FACTORY_DEF * TeeFactory   FACTORY_NAME "West_Parkade_Latest_Timestamp_INITIATOR Feature Counter -1 2147745810"   INPUT FEATURE_TYPE West_Parkade_Latest_Timestamp_INITIATOR     @LogCount("PORT -1 2147745810")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "West_Parkade_Latest_Timestamp_<REJECTED> Feature Counter -1 2147811346"   INPUT FEATURE_TYPE West_Parkade_Latest_Timestamp_<REJECTED>     @LogCount("PORT -1 2147811346")   NO_LOGGING    OUTPUT FEATURE_TYPE *
DEFAULT_MACRO _WB_BYPASS_TERMINATION No
FACTORY_DEF * TeeFactory FACTORY_NAME West_Parkade_Latest_Timestamp_<Rejected> INPUT FEATURE_TYPE West_Parkade_Latest_Timestamp_<REJECTED>  NO_LOGGING   OUTPUT FAILED FEATURE_TYPE * @Abort(ENCODED, West_Parkade_Latest_Timestamp<space>output<space>a<space><lt>Rejected<gt><space>feature.<space><space>To<space>continue<space>translation<space>when<space>features<space>are<space>rejected<comma><space>change<space><apos>Workspace<space>Parameters<apos><space><gt><space>Translation<space><gt><space><apos>Rejected<space>Feature<space>Handling<apos><space>to<space><apos>Continue<space>Translation<apos>)
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN ReadNewOccupancy_WestParkade;33:Main
MACRO ReadNewOccupancy_WestParkade_DIRECTIVES QUERY_FEATURE_TYPES_FOR_MERGE_FILTERS Yes CREATE_FEATURE_TABLES_FROM_DATA Yes QUERY_TIMEOUT 30 NAMED_CONNECTION Autovu APPLICATION_INTENT ReadWrite
FACTORY_DEF {*} QueryFactory    FACTORY_NAME { ReadNewOccupancy_WestParkade }    INPUT  FEATURE_TYPE West_Parkade_Latest_Timestamp_RESULT    QUERY_SQL            { "@EvaluateExpression(FDIV,STRING_ENCODED,DECLARE<space><at>formatted_timestamp<space>VARCHAR<openparen>30<closeparen><semicolon><lf><lf>SET<space><at>formatted_timestamp<space>=<space>DATEADD<openparen>SECOND<comma><space><at>Value<openparen>latest_timestamp<closeparen><space>-<space>25200<comma><space><apos>1970-01-01<apos><closeparen><semicolon><lf><lf>SELECT<space>*<lf>FROM<space>dbo.ParkingOccupancies<lf>WHERE<space>Timestamp<space><gt><space><at>formatted_timestamp<lf><space><space>AND<space>ZoneId<space>=<space><apos><at>Value<openparen>zone_id<closeparen><apos><semicolon><lf>,ReadNewOccupancy_WestParkade)" }    READER_TYPE          { MSSQL_JDBC_NONSPATIAL_2 }    READER_DATASET       { "Autovu" }    COMBINE_ATTRIBUTES   { RESULT_ONLY }    IGNORE_NULLS         { <Unused> }    COMBINE_GEOMETRY     { QUERY_ONLY }    QUERYFCT_OUTPUT      { "BASED_ON_CONNECTIONS" }    CONTINUE_ON_READER_ERROR YES    QUERYFCT_PROPAGATE_IDS_ON_SQL_EXECUTE YES    READER_PARAMS        { $(ReadNewOccupancy_WestParkade_DIRECTIVES) }    OUTPUT { RESULT FEATURE_TYPE ReadNewOccupancy_WestParkade_RESULT        @SupplyAttributes(fme_feature_type,ReadNewOccupancy_WestParkade)         }    OUTPUT { SCHEMA FEATURE_TYPE ReadNewOccupancy_WestParkade_<SCHEMA>           }    OUTPUT { QUERY FEATURE_TYPE ReadNewOccupancy_WestParkade_INITIATOR            }    OUTPUT { READER_ERROR FEATURE_TYPE ReadNewOccupancy_WestParkade_<REJECTED>         }
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "ReadNewOccupancy_WestParkade_<SCHEMA> Feature Recorder -1 2147614753" INPUT FEATURE_TYPE ReadNewOccupancy_WestParkade_<SCHEMA> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_ReadNewOccupancy_WestParkade -1 33 fo 0 _lt_SCHEMA_gt_  0  c26ec792da63125428320f962765c59092fba856.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { fme_feature_type_name,buffer,attribute<opencurly><closecurly>.name,buffer,attribute<opencurly><closecurly>.fme_data_type,buffer,attribute<opencurly><closecurly>.native_data_type,buffer,fme_basename,buffer }  FEAT_TYPE_DISPLAY_NAME { ReadNewOccupancy_WestParkade_<lt>Schema<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "ReadNewOccupancy_WestParkade_RESULT Feature Recorder -1 2147680289" INPUT FEATURE_TYPE ReadNewOccupancy_WestParkade_RESULT FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_ReadNewOccupancy_WestParkade -1 33 fo 1 RESULT  0  01c4b4eddddd7d2bbd804b20bce2351351d7a66c.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { ZoneId,buffer,TimestampUtc,buffer,Timestamp,buffer,TimezoneId,buffer,Capacity,buffer,Vehicles,buffer,Violations,buffer,ViolationsEnforced,buffer }  FEAT_TYPE_DISPLAY_NAME { ReadNewOccupancy_WestParkade_Result } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "ReadNewOccupancy_WestParkade_INITIATOR Feature Recorder -1 2147745825" INPUT FEATURE_TYPE ReadNewOccupancy_WestParkade_INITIATOR FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_ReadNewOccupancy_WestParkade -1 33 fo 2 INITIATOR  0  2c238a03d441934cc8307bbbd4ed7c1d32736809.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { zone_id,varchar<openparen>255<closeparen>,latest_timestamp,int64,_matched_records,uint32 }  FEAT_TYPE_DISPLAY_NAME { ReadNewOccupancy_WestParkade_Initiator } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "ReadNewOccupancy_WestParkade_<REJECTED> Feature Recorder -1 2147811361" INPUT FEATURE_TYPE ReadNewOccupancy_WestParkade_<REJECTED> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_ReadNewOccupancy_WestParkade -1 33 fo 3 _lt_REJECTED_gt_  0  7a7e4d75a92a096bd25895c773051672f136a37b.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { zone_id,varchar<openparen>255<closeparen>,latest_timestamp,int64,_reader_error,buffer,ZoneId,buffer,TimestampUtc,buffer,Timestamp,buffer,TimezoneId,buffer,Capacity,buffer,Vehicles,buffer,Violations,buffer,ViolationsEnforced,buffer }  FEAT_TYPE_DISPLAY_NAME { ReadNewOccupancy_WestParkade_<lt>Rejected<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
.metadata XFORMER_END ReadNewOccupancy_WestParkade;33:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "ReadNewOccupancy_WestParkade_<SCHEMA> Feature Counter -1 2147614753"   INPUT FEATURE_TYPE ReadNewOccupancy_WestParkade_<SCHEMA>     @LogCount("PORT -1 2147614753")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "ReadNewOccupancy_WestParkade_RESULT Feature Counter -1 38"   INPUT FEATURE_TYPE ReadNewOccupancy_WestParkade_RESULT   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 38")
FACTORY_DEF * TeeFactory   FACTORY_NAME "ReadNewOccupancy_WestParkade_INITIATOR Feature Counter -1 2147745825"   INPUT FEATURE_TYPE ReadNewOccupancy_WestParkade_INITIATOR     @LogCount("PORT -1 2147745825")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "ReadNewOccupancy_WestParkade_<REJECTED> Feature Counter -1 2147811361"   INPUT FEATURE_TYPE ReadNewOccupancy_WestParkade_<REJECTED>     @LogCount("PORT -1 2147811361")   NO_LOGGING    OUTPUT FEATURE_TYPE *
DEFAULT_MACRO _WB_BYPASS_TERMINATION No
FACTORY_DEF * TeeFactory FACTORY_NAME ReadNewOccupancy_WestParkade_<Rejected> INPUT FEATURE_TYPE ReadNewOccupancy_WestParkade_<REJECTED>  NO_LOGGING   OUTPUT FAILED FEATURE_TYPE * @Abort(ENCODED, ReadNewOccupancy_WestParkade<space>output<space>a<space><lt>Rejected<gt><space>feature.<space><space>To<space>continue<space>translation<space>when<space>features<space>are<space>rejected<comma><space>change<space><apos>Workspace<space>Parameters<apos><space><gt><space>Translation<space><gt><space><apos>Rejected<space>Feature<space>Handling<apos><space>to<space><apos>Continue<space>Translation<apos>)
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN CreateSQL_Statements;37:Main
FME_PYTHON_PATH "$(FME_MF_DIR)"
FACTORY_DEF {*} PythonFactory    FACTORY_NAME { CreateSQL_Statements }    FLUSH_WHEN_GROUPS_CHANGE { <Unused> }    INPUT  FEATURE_TYPE ReadNewOccupancy_WestParkade_RESULT    SYMBOL_NAME { FeatureProcessor }    PYTHON_NAMESPACE FMEOBJECTS    SOURCE_CODE { import<space>fme<lf>import<space>fmeobjects<lf>import<space>datetime<lf>import<space>time<lf><lf>class<space>FeatureProcessor<openparen>object<closeparen>:<lf><space><space><space><space><quote><quote><quote>Template<space>Class<space>Interface:<lf><space><space><space><space>When<space>using<space>this<space>class<comma><space>make<space>sure<space>its<space>name<space>is<space>set<space>as<space>the<space>value<space>of<space>the<space><apos>Class<lf><space><space><space><space>to<space>Process<space>Features<apos><space>transformer<space>parameter.<lf><space><space><space><space><quote><quote><quote><lf><lf><space><space><space><space>def<space>__init__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote>Base<space>constructor<space>for<space>class<space>members.<quote><quote><quote><lf><space><space><space><space><space><space><space><space>self.accumulated_data<space>=<space><quote><openparen><quote><lf><space><space><space><space><space><space><space><space>self.counter<space>=<space>0<lf><space><space><space><space><space><space><space><space>pass<lf><lf><space><space><space><space>def<space>input<openparen>self<comma><space>feature<closeparen>:<lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>self.counter<space>=<space>self.counter<space>+<space>1<lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Get<space>the<space>required<space>attributes<space>from<space>the<space>feature<lf><space><space><space><space><space><space><space><space>zone_id<space>=<space>feature.getAttribute<openparen><apos>ZoneId<apos><closeparen><lf><space><space><space><space><space><space><space><space>timezone_id<space>=<space>feature.getAttribute<openparen><apos>TimezoneId<apos><closeparen><lf><space><space><space><space><space><space><space><space>capacity<space>=<space>feature.getAttribute<openparen><apos>Capacity<apos><closeparen><lf><space><space><space><space><space><space><space><space>vehicles<space>=<space>feature.getAttribute<openparen><apos>Vehicles<apos><closeparen><lf><space><space><space><space><space><space><space><space>violations<space>=<space>feature.getAttribute<openparen><apos>Violations<apos><closeparen><lf><space><space><space><space><space><space><space><space>enforced_violations<space>=<space>feature.getAttribute<openparen><apos>ViolationsEnforced<apos><closeparen><lf><space><space><space><space><space><space><space><space>timestamp_utc<space>=<space>feature.getAttribute<openparen><apos>TimestampUtc<apos><closeparen><lf><space><space><space><space><space><space><space><space>timestamp_str<space>=<space>feature.getAttribute<openparen><apos>Timestamp<apos><closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Define<space>the<space>format<space>of<space>the<space>incoming<space>timestamp<lf><space><space><space><space><space><space><space><space>format_str<space>=<space><apos>%Y%m%d%H%M%S.%f<apos><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Adjust<space>the<space>timestamp<space>string<space>to<space>ensure<space>it<space>matches<space>the<space>expected<space>format<lf><space><space><space><space><space><space><space><space>if<space>len<openparen>timestamp_str.split<openparen><apos>.<apos><closeparen><openbracket>1<closebracket><closeparen><space><gt><space>6:<lf><space><space><space><space><space><space><space><space><space><space><space><space>timestamp_str<space>=<space>timestamp_str<openbracket>:21<closebracket><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Convert<space>the<space>timestamp<space>string<space>to<space>a<space>datetime<space>object<lf><space><space><space><space><space><space><space><space>dt<space>=<space>datetime.datetime.strptime<openparen>timestamp_str<comma><space>format_str<closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Convert<space>the<space>datetime<space>object<space>to<space>a<space>Unix<space>timestamp<lf><space><space><space><space><space><space><space><space>unix_timestamp<space>=<space>int<openparen>time.mktime<openparen>dt.timetuple<openparen><closeparen><closeparen><closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Add<space>the<space>Unix<space>timestamp<space>as<space>a<space>new<space>attribute<lf><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>TimestampUnix<apos><comma><space>unix_timestamp<closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Concatenate<space>the<space>attributes<space>into<space>a<space>single<space>string<lf><space><space><space><space><space><space><space><space>feature_string<space>=<space>f<quote><apos><opencurly>zone_id<closecurly><apos><comma><apos><opencurly>timezone_id<closecurly><apos><comma><opencurly>capacity<closecurly><comma><opencurly>vehicles<closecurly><comma><opencurly>violations<closecurly><comma><opencurly>enforced_violations<closecurly><comma><opencurly>timestamp_utc<closecurly><comma><opencurly>timestamp_str<closecurly><comma><opencurly>unix_timestamp<closecurly><quote><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Append<space>the<space>feature<space>string<space>to<space>the<space>accumulated<space>string<lf><space><space><space><space><space><space><space><space>if<space>self.accumulated_data:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.accumulated_data<space>+=<space>f<quote><opencurly>feature_string<closecurly><closeparen><comma><space><openparen><quote><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>if<openparen>self.counter<space>==<space>999<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.accumulated_data<space>=<space>self.accumulated_data<openbracket>:-3<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>Create<space>a<space>new<space>output<space>feature<space>with<space>accumulated<space>data<lf><space><space><space><space><space><space><space><space><space><space><space><space>out_feature<space>=<space>fmeobjects.FMEFeature<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>out_feature.setAttribute<openparen><apos>accumulated_data<apos><comma><space>self.accumulated_data.strip<openparen><closeparen><closeparen><space><space>#<space>Remove<space>trailing<space>space<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.pyoutput<openparen>out_feature<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.accumulated_data<space>=<space><quote><openparen><quote><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.counter<space>=<space>0<lf><lf><space><space><space><space>def<space>close<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote>This<space>method<space>is<space>called<space>once<space>all<space>the<space>FME<space>Features<space>have<space>been<space>processed<lf><space><space><space><space><space><space><space><space>from<space>input<openparen><closeparen>.<lf><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space>if<openparen>self.accumulated_data<space>!=<space><quote><openparen><quote><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.accumulated_data<space>=<space>self.accumulated_data<openbracket>:-3<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>Create<space>a<space>new<space>output<space>feature<space>with<space>accumulated<space>data<lf><space><space><space><space><space><space><space><space><space><space><space><space>out_feature<space>=<space>fmeobjects.FMEFeature<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>out_feature.setAttribute<openparen><apos>accumulated_data<apos><comma><space>self.accumulated_data.strip<openparen><closeparen><closeparen><space><space>#<space>Remove<space>trailing<space>space<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.pyoutput<openparen>out_feature<closeparen><lf><space><space><space><space><space><space><space><space>pass<lf><lf><space><space><space><space>def<space>process_group<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote>When<space><apos>Group<space>By<apos><space>attribute<openparen>s<closeparen><space>are<space>specified<comma><space>this<space>method<space>is<space>called<space><lf><space><space><space><space><space><space><space><space>once<space>all<space>the<space>FME<space>Features<space>in<space>a<space>current<space>group<space>have<space>been<space>sent<space>to<space>input<openparen><closeparen>.<lf><lf><space><space><space><space><space><space><space><space>FME<space>Features<space>sent<space>to<space>input<openparen><closeparen><space>should<space>generally<space>be<space>cached<space>for<space>group-by<space><lf><space><space><space><space><space><space><space><space>processing<space>in<space>this<space>method<space>when<space>knowledge<space>of<space>all<space>Features<space>is<space>required.<space><lf><space><space><space><space><space><space><space><space>The<space>resulting<space>Feature<openparen>s<closeparen><space>from<space>the<space>group-by<space>processing<space>should<space>be<space>emitted<space><lf><space><space><space><space><space><space><space><space>through<space>self.pyoutput<openparen><closeparen>.<lf><lf><space><space><space><space><space><space><space><space>FME<space>will<space>continue<space>calling<space>input<openparen><closeparen><space>a<space>number<space>of<space>times<space>followed<lf><space><space><space><space><space><space><space><space>by<space>process_group<openparen><closeparen><space>for<space>each<space><apos>Group<space>By<apos><space>attribute<comma><space>so<space>this<space><lf><space><space><space><space><space><space><space><space>implementation<space>should<space>reset<space>any<space>class<space>members<space>for<space>the<space>next<space>group.<lf><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space>pass<lf><lf><space><space><space><space>def<space>has_support_for<openparen>self<comma><space>support_type<closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote>This<space>method<space>returns<space>whether<space>this<space>PythonCaller<space>supports<space>a<space>certain<space>type.<lf><space><space><space><space><space><space><space><space>The<space>only<space>supported<space>type<space>is<space>fmeobjects.FME_SUPPORT_FEATURE_TABLE_SHIM.<lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>:param<space>int<space>support_type:<space>The<space>support<space>type<space>being<space>queried.<lf><space><space><space><space><space><space><space><space>:returns:<space>True<space>if<space>the<space>passed<space>in<space>support<space>type<space>is<space>supported.<lf><space><space><space><space><space><space><space><space>:rtype:<space>bool<lf><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space>if<space>support_type<space>==<space>fmeobjects.FME_SUPPORT_FEATURE_TABLE_SHIM:<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>If<space>this<space>is<space>set<space>to<space>return<space>True<comma><space>FME<space>will<space>pass<space>features<space>to<space>the<space>input<openparen><closeparen><space>method<space>that<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>come<space>from<space>a<space>feature<space>table<space>object.<space>This<space>allows<space>for<space>significant<space>performance<space>gains<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>when<space>processing<space>large<space>numbers<space>of<space>features.<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>To<space>enable<space>this<comma><space>the<space>following<space>conditions<space>must<space>be<space>met:<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space><space><space>1<closeparen><space>features<space>passed<space>into<space>the<space>input<openparen><closeparen><space>method<space>cannot<space>be<space>copied<space>or<space>cached<space>for<space>later<space>use<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space><space><space>2<closeparen><space>features<space>cannot<space>be<space>read<space>or<space>modified<space>after<space>being<space>passed<space>to<space>self.pyoutput<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space><space><space>3<closeparen><space>Group<space>Processing<space>must<space>not<space>be<space>enabled<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>Violations<space>will<space>cause<space>undefined<space>behavior.<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>False<lf><space><lf><space><space><space><space><space><space><space><space>return<space>False<lf> }    OUTPUT { PYOUTPUT FEATURE_TYPE CreateSQL_Statements_OUTPUT         }
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "CreateSQL_Statements_OUTPUT Feature Recorder -1 2147614757" INPUT FEATURE_TYPE CreateSQL_Statements_OUTPUT FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_CreateSQL_Statements -1 37 fo 0 OUTPUT  0  7804261d2e9350751fa2e34a2429d005cd5e147b.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { ZoneId,buffer,TimestampUtc,buffer,Timestamp,buffer,TimezoneId,buffer,Capacity,buffer,Vehicles,buffer,Violations,buffer,ViolationsEnforced,buffer,accumulated_data,buffer }  FEAT_TYPE_DISPLAY_NAME { CreateSQL_Statements_Output } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
.metadata XFORMER_END CreateSQL_Statements;37:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "CreateSQL_Statements_OUTPUT Feature Counter -1 39"   INPUT FEATURE_TYPE CreateSQL_Statements_OUTPUT   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 39")
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN WriteNewOccupancy_WestParkade;40:Main
MACRO WriteNewOccupancy_WestParkade_DIRECTIVES APPLICATION_INTENT ReadWrite NAMED_CONNECTION AWS_UBCParking CREATE_FEATURE_TABLES_FROM_DATA Yes QUERY_FEATURE_TYPES_FOR_MERGE_FILTERS Yes QUERY_TIMEOUT 30
FACTORY_DEF {*} QueryFactory    FACTORY_NAME { WriteNewOccupancy_WestParkade }    INPUT  FEATURE_TYPE CreateSQL_Statements_OUTPUT    QUERY_SQL            { "@EvaluateExpression(FDIV,STRING_ENCODED,INSERT<space>INTO<space>WestParkade_Occupancy<space><openparen><lf><space><space><space><space><space><space><space><space>zone_id<comma><lf><space><space><space><space><space><space><space><space>TimezoneId<comma><lf><space><space><space><space><space><space><space><space>Capacity<comma><lf><space><space><space><space><space><space><space><space>Vehicles<comma><lf><space><space><space><space><space><space><space><space>Violations<comma><lf><space><space><space><space><space><space><space><space>ViolationsEnforced<comma><lf><space><space><space><space><space><space><space><space>TimestampUtc<comma><lf><space><space><space><space><space><space><space><space>Timestamp<comma><lf><space><space><space><space><space><space><space><space>TimestampUnix<space><closeparen><lf>VALUES<space><lf><space><space><space><space><at>Value<openparen>accumulated_data<closeparen><semicolon><lf>,WriteNewOccupancy_WestParkade)" }    READER_TYPE          { MSSQL_JDBC_NONSPATIAL_2 }    READER_DATASET       { "AWS_UBCParking" }    COMBINE_ATTRIBUTES   { RESULT_ONLY }    IGNORE_NULLS         { <Unused> }    COMBINE_GEOMETRY     { QUERY_ONLY }    QUERYFCT_OUTPUT      { "BASED_ON_CONNECTIONS" }    CONTINUE_ON_READER_ERROR YES    QUERYFCT_PROPAGATE_IDS_ON_SQL_EXECUTE YES    READER_PARAMS        { $(WriteNewOccupancy_WestParkade_DIRECTIVES) }    OUTPUT { RESULT FEATURE_TYPE WriteNewOccupancy_WestParkade_RESULT        @SupplyAttributes(fme_feature_type,WriteNewOccupancy_WestParkade)         }    OUTPUT { SCHEMA FEATURE_TYPE WriteNewOccupancy_WestParkade_<SCHEMA>           }    OUTPUT { QUERY FEATURE_TYPE WriteNewOccupancy_WestParkade_INITIATOR            }    OUTPUT { READER_ERROR FEATURE_TYPE WriteNewOccupancy_WestParkade_<REJECTED>         }
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "WriteNewOccupancy_WestParkade_<SCHEMA> Feature Recorder -1 2147614760" INPUT FEATURE_TYPE WriteNewOccupancy_WestParkade_<SCHEMA> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_WriteNewOccupancy_WestParkade -1 40 fo 0 _lt_SCHEMA_gt_  0  f6559a47edd2506aaa8c48f4330f635433de89f0.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { fme_feature_type_name,buffer,attribute<opencurly><closecurly>.name,buffer,attribute<opencurly><closecurly>.fme_data_type,buffer,attribute<opencurly><closecurly>.native_data_type,buffer,fme_basename,buffer }  FEAT_TYPE_DISPLAY_NAME { WriteNewOccupancy_WestParkade_<lt>Schema<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "WriteNewOccupancy_WestParkade_RESULT Feature Recorder -1 2147680296" INPUT FEATURE_TYPE WriteNewOccupancy_WestParkade_RESULT FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_WriteNewOccupancy_WestParkade -1 40 fo 1 RESULT  0  1890740f13427aa38070429b17a4173a5b942da9.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA {  }  FEAT_TYPE_DISPLAY_NAME { WriteNewOccupancy_WestParkade_Result } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "WriteNewOccupancy_WestParkade_INITIATOR Feature Recorder -1 2147745832" INPUT FEATURE_TYPE WriteNewOccupancy_WestParkade_INITIATOR FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_WriteNewOccupancy_WestParkade -1 40 fo 2 INITIATOR  0  eda07a23360b528b3cf7194431e9f07dcc43eac5.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { ZoneId,buffer,TimestampUtc,buffer,Timestamp,buffer,TimezoneId,buffer,Capacity,buffer,Vehicles,buffer,Violations,buffer,ViolationsEnforced,buffer,accumulated_data,buffer,_matched_records,uint32 }  FEAT_TYPE_DISPLAY_NAME { WriteNewOccupancy_WestParkade_Initiator } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "WriteNewOccupancy_WestParkade_<REJECTED> Feature Recorder -1 2147811368" INPUT FEATURE_TYPE WriteNewOccupancy_WestParkade_<REJECTED> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_WriteNewOccupancy_WestParkade -1 40 fo 3 _lt_REJECTED_gt_  0  271cb5c0e81e1c74fcfe4253848c9fd69c4206fd.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { ZoneId,buffer,TimestampUtc,buffer,Timestamp,buffer,TimezoneId,buffer,Capacity,buffer,Vehicles,buffer,Violations,buffer,ViolationsEnforced,buffer,accumulated_data,buffer,_reader_error,buffer }  FEAT_TYPE_DISPLAY_NAME { WriteNewOccupancy_WestParkade_<lt>Rejected<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
.metadata XFORMER_END WriteNewOccupancy_WestParkade;40:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "WriteNewOccupancy_WestParkade_<SCHEMA> Feature Counter -1 2147614760"   INPUT FEATURE_TYPE WriteNewOccupancy_WestParkade_<SCHEMA>     @LogCount("PORT -1 2147614760")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "WriteNewOccupancy_WestParkade_RESULT Feature Counter -1 2147680296"   INPUT FEATURE_TYPE WriteNewOccupancy_WestParkade_RESULT     @LogCount("PORT -1 2147680296")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "WriteNewOccupancy_WestParkade_INITIATOR Feature Counter -1 2147745832"   INPUT FEATURE_TYPE WriteNewOccupancy_WestParkade_INITIATOR     @LogCount("PORT -1 2147745832")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "WriteNewOccupancy_WestParkade_<REJECTED> Feature Counter -1 2147811368"   INPUT FEATURE_TYPE WriteNewOccupancy_WestParkade_<REJECTED>     @LogCount("PORT -1 2147811368")   NO_LOGGING    OUTPUT FEATURE_TYPE *
DEFAULT_MACRO _WB_BYPASS_TERMINATION No
FACTORY_DEF * TeeFactory FACTORY_NAME WriteNewOccupancy_WestParkade_<Rejected> INPUT FEATURE_TYPE WriteNewOccupancy_WestParkade_<REJECTED>  NO_LOGGING   OUTPUT FAILED FEATURE_TYPE * @Abort(ENCODED, WriteNewOccupancy_WestParkade<space>output<space>a<space><lt>Rejected<gt><space>feature.<space><space>To<space>continue<space>translation<space>when<space>features<space>are<space>rejected<comma><space>change<space><apos>Workspace<space>Parameters<apos><space><gt><space>Translation<space><gt><space><apos>Rejected<space>Feature<space>Handling<apos><space>to<space><apos>Continue<space>Translation<apos>)
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN North_Parkade_Latest_Timestamp;20:Main
MACRO North_Parkade_Latest_Timestamp_DIRECTIVES APPLICATION_INTENT ReadWrite NAMED_CONNECTION AWS_UBCParking CREATE_FEATURE_TABLES_FROM_DATA Yes QUERY_FEATURE_TYPES_FOR_MERGE_FILTERS Yes QUERY_TIMEOUT 30
FACTORY_DEF {*} QueryFactory    FACTORY_NAME { North_Parkade_Latest_Timestamp }    INPUT  FEATURE_TYPE Creator_CREATED_1_Exx7idfjvCA=    QUERY_SQL            { "SELECT<space>zone_id<comma><space>MAX<openparen>TimestampUnix<closeparen><space>AS<space>latest_timestamp<space>FROM<space>Parking.dbo.NorthParkade_Occupancy<space>GROUP<space>BY<space>zone_id<lf>" }    READER_TYPE          { MSSQL_JDBC_NONSPATIAL_2 }    READER_DATASET       { "AWS_UBCParking" }    COMBINE_ATTRIBUTES   { RESULT_ONLY }    IGNORE_NULLS         { <Unused> }    COMBINE_GEOMETRY     { QUERY_ONLY }    QUERYFCT_OUTPUT      { "BASED_ON_CONNECTIONS" }    CONTINUE_ON_READER_ERROR YES    QUERYFCT_PROPAGATE_IDS_ON_SQL_EXECUTE YES    READER_PARAMS        { $(North_Parkade_Latest_Timestamp_DIRECTIVES) }    OUTPUT { RESULT FEATURE_TYPE North_Parkade_Latest_Timestamp_RESULT        @SupplyAttributes(fme_feature_type,North_Parkade_Latest_Timestamp)         }    OUTPUT { SCHEMA FEATURE_TYPE North_Parkade_Latest_Timestamp_<SCHEMA>           }    OUTPUT { QUERY FEATURE_TYPE North_Parkade_Latest_Timestamp_INITIATOR            }    OUTPUT { READER_ERROR FEATURE_TYPE North_Parkade_Latest_Timestamp_<REJECTED>         }
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "North_Parkade_Latest_Timestamp_<SCHEMA> Feature Recorder -1 2147614740" INPUT FEATURE_TYPE North_Parkade_Latest_Timestamp_<SCHEMA> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_North_Parkade_Latest_Timestamp -1 20 fo 0 _lt_SCHEMA_gt_  0  1d352819b2043feba676449a98997a92d4ebfd0b.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { fme_feature_type_name,buffer,attribute<opencurly><closecurly>.name,buffer,attribute<opencurly><closecurly>.fme_data_type,buffer,attribute<opencurly><closecurly>.native_data_type,buffer,fme_basename,buffer }  FEAT_TYPE_DISPLAY_NAME { North_Parkade_Latest_Timestamp_<lt>Schema<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "North_Parkade_Latest_Timestamp_RESULT Feature Recorder -1 2147680276" INPUT FEATURE_TYPE North_Parkade_Latest_Timestamp_RESULT FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_North_Parkade_Latest_Timestamp -1 20 fo 1 RESULT  0  1c194a7d713f671ce4e420e24ed3321d46b28ca2.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { zone_id,varchar<openparen>255<closeparen>,latest_timestamp,int64 }  FEAT_TYPE_DISPLAY_NAME { North_Parkade_Latest_Timestamp_Result } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "North_Parkade_Latest_Timestamp_INITIATOR Feature Recorder -1 2147745812" INPUT FEATURE_TYPE North_Parkade_Latest_Timestamp_INITIATOR FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_North_Parkade_Latest_Timestamp -1 20 fo 2 INITIATOR  0  6282ba48c235bd27541c10e2cb7aa5fd18e49f5d.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { _creation_instance,uint64,_matched_records,uint32 }  FEAT_TYPE_DISPLAY_NAME { North_Parkade_Latest_Timestamp_Initiator } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "North_Parkade_Latest_Timestamp_<REJECTED> Feature Recorder -1 2147811348" INPUT FEATURE_TYPE North_Parkade_Latest_Timestamp_<REJECTED> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_North_Parkade_Latest_Timestamp -1 20 fo 3 _lt_REJECTED_gt_  0  e2d98fc094ac956bf912a709c9ac5f3853988117.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { _creation_instance,uint64,_reader_error,buffer,zone_id,varchar<openparen>255<closeparen>,latest_timestamp,int64 }  FEAT_TYPE_DISPLAY_NAME { North_Parkade_Latest_Timestamp_<lt>Rejected<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
.metadata XFORMER_END North_Parkade_Latest_Timestamp;20:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "North_Parkade_Latest_Timestamp_<SCHEMA> Feature Counter -1 2147614740"   INPUT FEATURE_TYPE North_Parkade_Latest_Timestamp_<SCHEMA>     @LogCount("PORT -1 2147614740")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "North_Parkade_Latest_Timestamp_RESULT Feature Counter -1 44"   INPUT FEATURE_TYPE North_Parkade_Latest_Timestamp_RESULT   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 44")
FACTORY_DEF * TeeFactory   FACTORY_NAME "North_Parkade_Latest_Timestamp_INITIATOR Feature Counter -1 2147745812"   INPUT FEATURE_TYPE North_Parkade_Latest_Timestamp_INITIATOR     @LogCount("PORT -1 2147745812")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "North_Parkade_Latest_Timestamp_<REJECTED> Feature Counter -1 2147811348"   INPUT FEATURE_TYPE North_Parkade_Latest_Timestamp_<REJECTED>     @LogCount("PORT -1 2147811348")   NO_LOGGING    OUTPUT FEATURE_TYPE *
DEFAULT_MACRO _WB_BYPASS_TERMINATION No
FACTORY_DEF * TeeFactory FACTORY_NAME North_Parkade_Latest_Timestamp_<Rejected> INPUT FEATURE_TYPE North_Parkade_Latest_Timestamp_<REJECTED>  NO_LOGGING   OUTPUT FAILED FEATURE_TYPE * @Abort(ENCODED, North_Parkade_Latest_Timestamp<space>output<space>a<space><lt>Rejected<gt><space>feature.<space><space>To<space>continue<space>translation<space>when<space>features<space>are<space>rejected<comma><space>change<space><apos>Workspace<space>Parameters<apos><space><gt><space>Translation<space><gt><space><apos>Rejected<space>Feature<space>Handling<apos><space>to<space><apos>Continue<space>Translation<apos>)
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN ReadNewOccupancy_NorthParkade;35:Main
MACRO ReadNewOccupancy_NorthParkade_DIRECTIVES QUERY_FEATURE_TYPES_FOR_MERGE_FILTERS Yes CREATE_FEATURE_TABLES_FROM_DATA Yes QUERY_TIMEOUT 30 NAMED_CONNECTION Autovu APPLICATION_INTENT ReadWrite
FACTORY_DEF {*} QueryFactory    FACTORY_NAME { ReadNewOccupancy_NorthParkade }    INPUT  FEATURE_TYPE North_Parkade_Latest_Timestamp_RESULT    QUERY_SQL            { "@EvaluateExpression(FDIV,STRING_ENCODED,DECLARE<space><at>formatted_timestamp<space>VARCHAR<openparen>30<closeparen><semicolon><lf><lf>SET<space><at>formatted_timestamp<space>=<space>DATEADD<openparen>SECOND<comma><space><at>Value<openparen>latest_timestamp<closeparen><space>-<space>25200<comma><space><apos>1970-01-01<apos><closeparen><semicolon><lf><lf>SELECT<space>*<lf>FROM<space>dbo.ParkingOccupancies<lf>WHERE<space>Timestamp<space><gt><space><at>formatted_timestamp<lf><space><space>AND<space>ZoneId<space>=<space><apos><at>Value<openparen>zone_id<closeparen><apos><semicolon><lf>,ReadNewOccupancy_NorthParkade)" }    READER_TYPE          { MSSQL_JDBC_NONSPATIAL_2 }    READER_DATASET       { "Autovu" }    COMBINE_ATTRIBUTES   { RESULT_ONLY }    IGNORE_NULLS         { <Unused> }    COMBINE_GEOMETRY     { QUERY_ONLY }    QUERYFCT_OUTPUT      { "BASED_ON_CONNECTIONS" }    CONTINUE_ON_READER_ERROR YES    QUERYFCT_PROPAGATE_IDS_ON_SQL_EXECUTE YES    READER_PARAMS        { $(ReadNewOccupancy_NorthParkade_DIRECTIVES) }    OUTPUT { RESULT FEATURE_TYPE ReadNewOccupancy_NorthParkade_RESULT        @SupplyAttributes(fme_feature_type,ReadNewOccupancy_NorthParkade)         }    OUTPUT { SCHEMA FEATURE_TYPE ReadNewOccupancy_NorthParkade_<SCHEMA>           }    OUTPUT { QUERY FEATURE_TYPE ReadNewOccupancy_NorthParkade_INITIATOR            }    OUTPUT { READER_ERROR FEATURE_TYPE ReadNewOccupancy_NorthParkade_<REJECTED>         }
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "ReadNewOccupancy_NorthParkade_<SCHEMA> Feature Recorder -1 2147614755" INPUT FEATURE_TYPE ReadNewOccupancy_NorthParkade_<SCHEMA> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_ReadNewOccupancy_NorthParkade -1 35 fo 0 _lt_SCHEMA_gt_  0  e4f13175190dd46364e736626e92d56b8ff66730.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { fme_feature_type_name,buffer,attribute<opencurly><closecurly>.name,buffer,attribute<opencurly><closecurly>.fme_data_type,buffer,attribute<opencurly><closecurly>.native_data_type,buffer,fme_basename,buffer }  FEAT_TYPE_DISPLAY_NAME { ReadNewOccupancy_NorthParkade_<lt>Schema<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "ReadNewOccupancy_NorthParkade_RESULT Feature Recorder -1 2147680291" INPUT FEATURE_TYPE ReadNewOccupancy_NorthParkade_RESULT FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_ReadNewOccupancy_NorthParkade -1 35 fo 1 RESULT  0  d850eeae39fbd15d0c85bf7d0b712856964d8650.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { ZoneId,buffer,TimestampUtc,buffer,Timestamp,buffer,TimezoneId,buffer,Capacity,buffer,Vehicles,buffer,Violations,buffer,ViolationsEnforced,buffer }  FEAT_TYPE_DISPLAY_NAME { ReadNewOccupancy_NorthParkade_Result } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "ReadNewOccupancy_NorthParkade_INITIATOR Feature Recorder -1 2147745827" INPUT FEATURE_TYPE ReadNewOccupancy_NorthParkade_INITIATOR FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_ReadNewOccupancy_NorthParkade -1 35 fo 2 INITIATOR  0  b96ecd8c8b4f622ef544b65aa6ccf1202a1577ab.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { zone_id,varchar<openparen>255<closeparen>,latest_timestamp,int64,_matched_records,uint32 }  FEAT_TYPE_DISPLAY_NAME { ReadNewOccupancy_NorthParkade_Initiator } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "ReadNewOccupancy_NorthParkade_<REJECTED> Feature Recorder -1 2147811363" INPUT FEATURE_TYPE ReadNewOccupancy_NorthParkade_<REJECTED> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_ReadNewOccupancy_NorthParkade -1 35 fo 3 _lt_REJECTED_gt_  0  916ae501307f5060897c9354450be2b57d3e4fb7.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { zone_id,varchar<openparen>255<closeparen>,latest_timestamp,int64,_reader_error,buffer,ZoneId,buffer,TimestampUtc,buffer,Timestamp,buffer,TimezoneId,buffer,Capacity,buffer,Vehicles,buffer,Violations,buffer,ViolationsEnforced,buffer }  FEAT_TYPE_DISPLAY_NAME { ReadNewOccupancy_NorthParkade_<lt>Rejected<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
.metadata XFORMER_END ReadNewOccupancy_NorthParkade;35:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "ReadNewOccupancy_NorthParkade_<SCHEMA> Feature Counter -1 2147614755"   INPUT FEATURE_TYPE ReadNewOccupancy_NorthParkade_<SCHEMA>     @LogCount("PORT -1 2147614755")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "ReadNewOccupancy_NorthParkade_RESULT Feature Counter -1 43"   INPUT FEATURE_TYPE ReadNewOccupancy_NorthParkade_RESULT   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 43")
FACTORY_DEF * TeeFactory   FACTORY_NAME "ReadNewOccupancy_NorthParkade_INITIATOR Feature Counter -1 2147745827"   INPUT FEATURE_TYPE ReadNewOccupancy_NorthParkade_INITIATOR     @LogCount("PORT -1 2147745827")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "ReadNewOccupancy_NorthParkade_<REJECTED> Feature Counter -1 2147811363"   INPUT FEATURE_TYPE ReadNewOccupancy_NorthParkade_<REJECTED>     @LogCount("PORT -1 2147811363")   NO_LOGGING    OUTPUT FEATURE_TYPE *
DEFAULT_MACRO _WB_BYPASS_TERMINATION No
FACTORY_DEF * TeeFactory FACTORY_NAME ReadNewOccupancy_NorthParkade_<Rejected> INPUT FEATURE_TYPE ReadNewOccupancy_NorthParkade_<REJECTED>  NO_LOGGING   OUTPUT FAILED FEATURE_TYPE * @Abort(ENCODED, ReadNewOccupancy_NorthParkade<space>output<space>a<space><lt>Rejected<gt><space>feature.<space><space>To<space>continue<space>translation<space>when<space>features<space>are<space>rejected<comma><space>change<space><apos>Workspace<space>Parameters<apos><space><gt><space>Translation<space><gt><space><apos>Rejected<space>Feature<space>Handling<apos><space>to<space><apos>Continue<space>Translation<apos>)
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN CreateSQL_Statements_2;36:Main
FME_PYTHON_PATH "$(FME_MF_DIR)"
FACTORY_DEF {*} PythonFactory    FACTORY_NAME { CreateSQL_Statements_2 }    FLUSH_WHEN_GROUPS_CHANGE { <Unused> }    INPUT  FEATURE_TYPE ReadNewOccupancy_NorthParkade_RESULT    SYMBOL_NAME { FeatureProcessor }    PYTHON_NAMESPACE FMEOBJECTS    SOURCE_CODE { import<space>fme<lf>import<space>fmeobjects<lf>import<space>datetime<lf>import<space>time<lf><lf>class<space>FeatureProcessor<openparen>object<closeparen>:<lf><space><space><space><space><quote><quote><quote>Template<space>Class<space>Interface:<lf><space><space><space><space>When<space>using<space>this<space>class<comma><space>make<space>sure<space>its<space>name<space>is<space>set<space>as<space>the<space>value<space>of<space>the<space><apos>Class<lf><space><space><space><space>to<space>Process<space>Features<apos><space>transformer<space>parameter.<lf><space><space><space><space><quote><quote><quote><lf><lf><space><space><space><space>def<space>__init__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote>Base<space>constructor<space>for<space>class<space>members.<quote><quote><quote><lf><space><space><space><space><space><space><space><space>self.accumulated_data<space>=<space><quote><openparen><quote><lf><space><space><space><space><space><space><space><space>self.counter<space>=<space>0<lf><space><space><space><space><space><space><space><space>pass<lf><lf><space><space><space><space>def<space>input<openparen>self<comma><space>feature<closeparen>:<lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>self.counter<space>=<space>self.counter<space>+<space>1<lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Get<space>the<space>required<space>attributes<space>from<space>the<space>feature<lf><space><space><space><space><space><space><space><space>zone_id<space>=<space>feature.getAttribute<openparen><apos>ZoneId<apos><closeparen><lf><space><space><space><space><space><space><space><space>timezone_id<space>=<space>feature.getAttribute<openparen><apos>TimezoneId<apos><closeparen><lf><space><space><space><space><space><space><space><space>capacity<space>=<space>feature.getAttribute<openparen><apos>Capacity<apos><closeparen><lf><space><space><space><space><space><space><space><space>vehicles<space>=<space>feature.getAttribute<openparen><apos>Vehicles<apos><closeparen><lf><space><space><space><space><space><space><space><space>violations<space>=<space>feature.getAttribute<openparen><apos>Violations<apos><closeparen><lf><space><space><space><space><space><space><space><space>enforced_violations<space>=<space>feature.getAttribute<openparen><apos>ViolationsEnforced<apos><closeparen><lf><space><space><space><space><space><space><space><space>timestamp_utc<space>=<space>feature.getAttribute<openparen><apos>TimestampUtc<apos><closeparen><lf><space><space><space><space><space><space><space><space>timestamp_str<space>=<space>feature.getAttribute<openparen><apos>Timestamp<apos><closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Define<space>the<space>format<space>of<space>the<space>incoming<space>timestamp<lf><space><space><space><space><space><space><space><space>format_str<space>=<space><apos>%Y%m%d%H%M%S.%f<apos><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Adjust<space>the<space>timestamp<space>string<space>to<space>ensure<space>it<space>matches<space>the<space>expected<space>format<lf><space><space><space><space><space><space><space><space>if<space>len<openparen>timestamp_str.split<openparen><apos>.<apos><closeparen><openbracket>1<closebracket><closeparen><space><gt><space>6:<lf><space><space><space><space><space><space><space><space><space><space><space><space>timestamp_str<space>=<space>timestamp_str<openbracket>:21<closebracket><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Convert<space>the<space>timestamp<space>string<space>to<space>a<space>datetime<space>object<lf><space><space><space><space><space><space><space><space>dt<space>=<space>datetime.datetime.strptime<openparen>timestamp_str<comma><space>format_str<closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Convert<space>the<space>datetime<space>object<space>to<space>a<space>Unix<space>timestamp<lf><space><space><space><space><space><space><space><space>unix_timestamp<space>=<space>int<openparen>time.mktime<openparen>dt.timetuple<openparen><closeparen><closeparen><closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Add<space>the<space>Unix<space>timestamp<space>as<space>a<space>new<space>attribute<lf><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>TimestampUnix<apos><comma><space>unix_timestamp<closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Concatenate<space>the<space>attributes<space>into<space>a<space>single<space>string<lf><space><space><space><space><space><space><space><space>feature_string<space>=<space>f<quote><apos><opencurly>zone_id<closecurly><apos><comma><apos><opencurly>timezone_id<closecurly><apos><comma><opencurly>capacity<closecurly><comma><opencurly>vehicles<closecurly><comma><opencurly>violations<closecurly><comma><opencurly>enforced_violations<closecurly><comma><opencurly>timestamp_utc<closecurly><comma><opencurly>timestamp_str<closecurly><comma><opencurly>unix_timestamp<closecurly><quote><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Append<space>the<space>feature<space>string<space>to<space>the<space>accumulated<space>string<lf><space><space><space><space><space><space><space><space>if<space>self.accumulated_data:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.accumulated_data<space>+=<space>f<quote><opencurly>feature_string<closecurly><closeparen><comma><space><openparen><quote><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>if<openparen>self.counter<space>==<space>999<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.accumulated_data<space>=<space>self.accumulated_data<openbracket>:-3<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>Create<space>a<space>new<space>output<space>feature<space>with<space>accumulated<space>data<lf><space><space><space><space><space><space><space><space><space><space><space><space>out_feature<space>=<space>fmeobjects.FMEFeature<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>out_feature.setAttribute<openparen><apos>accumulated_data<apos><comma><space>self.accumulated_data.strip<openparen><closeparen><closeparen><space><space>#<space>Remove<space>trailing<space>space<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.pyoutput<openparen>out_feature<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.accumulated_data<space>=<space><quote><openparen><quote><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.counter<space>=<space>0<lf><lf><space><space><space><space>def<space>close<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote>This<space>method<space>is<space>called<space>once<space>all<space>the<space>FME<space>Features<space>have<space>been<space>processed<lf><space><space><space><space><space><space><space><space>from<space>input<openparen><closeparen>.<lf><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space>if<openparen>self.accumulated_data<space>!=<space><quote><openparen><quote><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.accumulated_data<space>=<space>self.accumulated_data<openbracket>:-3<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>Create<space>a<space>new<space>output<space>feature<space>with<space>accumulated<space>data<lf><space><space><space><space><space><space><space><space><space><space><space><space>out_feature<space>=<space>fmeobjects.FMEFeature<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>out_feature.setAttribute<openparen><apos>accumulated_data<apos><comma><space>self.accumulated_data.strip<openparen><closeparen><closeparen><space><space>#<space>Remove<space>trailing<space>space<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.pyoutput<openparen>out_feature<closeparen><lf><space><space><space><space><space><space><space><space>pass<lf><lf><space><space><space><space>def<space>process_group<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote>When<space><apos>Group<space>By<apos><space>attribute<openparen>s<closeparen><space>are<space>specified<comma><space>this<space>method<space>is<space>called<space><lf><space><space><space><space><space><space><space><space>once<space>all<space>the<space>FME<space>Features<space>in<space>a<space>current<space>group<space>have<space>been<space>sent<space>to<space>input<openparen><closeparen>.<lf><lf><space><space><space><space><space><space><space><space>FME<space>Features<space>sent<space>to<space>input<openparen><closeparen><space>should<space>generally<space>be<space>cached<space>for<space>group-by<space><lf><space><space><space><space><space><space><space><space>processing<space>in<space>this<space>method<space>when<space>knowledge<space>of<space>all<space>Features<space>is<space>required.<space><lf><space><space><space><space><space><space><space><space>The<space>resulting<space>Feature<openparen>s<closeparen><space>from<space>the<space>group-by<space>processing<space>should<space>be<space>emitted<space><lf><space><space><space><space><space><space><space><space>through<space>self.pyoutput<openparen><closeparen>.<lf><lf><space><space><space><space><space><space><space><space>FME<space>will<space>continue<space>calling<space>input<openparen><closeparen><space>a<space>number<space>of<space>times<space>followed<lf><space><space><space><space><space><space><space><space>by<space>process_group<openparen><closeparen><space>for<space>each<space><apos>Group<space>By<apos><space>attribute<comma><space>so<space>this<space><lf><space><space><space><space><space><space><space><space>implementation<space>should<space>reset<space>any<space>class<space>members<space>for<space>the<space>next<space>group.<lf><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space>pass<lf><lf><space><space><space><space>def<space>has_support_for<openparen>self<comma><space>support_type<closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote>This<space>method<space>returns<space>whether<space>this<space>PythonCaller<space>supports<space>a<space>certain<space>type.<lf><space><space><space><space><space><space><space><space>The<space>only<space>supported<space>type<space>is<space>fmeobjects.FME_SUPPORT_FEATURE_TABLE_SHIM.<lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>:param<space>int<space>support_type:<space>The<space>support<space>type<space>being<space>queried.<lf><space><space><space><space><space><space><space><space>:returns:<space>True<space>if<space>the<space>passed<space>in<space>support<space>type<space>is<space>supported.<lf><space><space><space><space><space><space><space><space>:rtype:<space>bool<lf><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space>if<space>support_type<space>==<space>fmeobjects.FME_SUPPORT_FEATURE_TABLE_SHIM:<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>If<space>this<space>is<space>set<space>to<space>return<space>True<comma><space>FME<space>will<space>pass<space>features<space>to<space>the<space>input<openparen><closeparen><space>method<space>that<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>come<space>from<space>a<space>feature<space>table<space>object.<space>This<space>allows<space>for<space>significant<space>performance<space>gains<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>when<space>processing<space>large<space>numbers<space>of<space>features.<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>To<space>enable<space>this<comma><space>the<space>following<space>conditions<space>must<space>be<space>met:<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space><space><space>1<closeparen><space>features<space>passed<space>into<space>the<space>input<openparen><closeparen><space>method<space>cannot<space>be<space>copied<space>or<space>cached<space>for<space>later<space>use<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space><space><space>2<closeparen><space>features<space>cannot<space>be<space>read<space>or<space>modified<space>after<space>being<space>passed<space>to<space>self.pyoutput<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space><space><space>3<closeparen><space>Group<space>Processing<space>must<space>not<space>be<space>enabled<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>Violations<space>will<space>cause<space>undefined<space>behavior.<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>False<lf><space><lf><space><space><space><space><space><space><space><space>return<space>False }    OUTPUT { PYOUTPUT FEATURE_TYPE CreateSQL_Statements_2_OUTPUT         }
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "CreateSQL_Statements_2_OUTPUT Feature Recorder -1 2147614756" INPUT FEATURE_TYPE CreateSQL_Statements_2_OUTPUT FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_CreateSQL_Statements_2 -1 36 fo 0 OUTPUT  0  5c392f0270d551f435f452dddec538177f9debb7.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { ZoneId,buffer,TimestampUtc,buffer,Timestamp,buffer,TimezoneId,buffer,Capacity,buffer,Vehicles,buffer,Violations,buffer,ViolationsEnforced,buffer,accumulated_data,buffer }  FEAT_TYPE_DISPLAY_NAME { CreateSQL_Statements_2_Output } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
.metadata XFORMER_END CreateSQL_Statements_2;36:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "CreateSQL_Statements_2_OUTPUT Feature Counter -1 42"   INPUT FEATURE_TYPE CreateSQL_Statements_2_OUTPUT   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 42")
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN WriteNewOccupancy_NorthParkade;41:Main
MACRO WriteNewOccupancy_NorthParkade_DIRECTIVES APPLICATION_INTENT ReadWrite NAMED_CONNECTION AWS_UBCParking CREATE_FEATURE_TABLES_FROM_DATA Yes QUERY_FEATURE_TYPES_FOR_MERGE_FILTERS Yes QUERY_TIMEOUT 30
FACTORY_DEF {*} QueryFactory    FACTORY_NAME { WriteNewOccupancy_NorthParkade }    INPUT  FEATURE_TYPE CreateSQL_Statements_2_OUTPUT    QUERY_SQL            { "@EvaluateExpression(FDIV,STRING_ENCODED,INSERT<space>INTO<space>NorthParkade_Occupancy<space><openparen><lf><space><space><space><space><space><space><space><space>zone_id<comma><lf><space><space><space><space><space><space><space><space>TimezoneId<comma><lf><space><space><space><space><space><space><space><space>Capacity<comma><lf><space><space><space><space><space><space><space><space>Vehicles<comma><lf><space><space><space><space><space><space><space><space>Violations<comma><lf><space><space><space><space><space><space><space><space>ViolationsEnforced<comma><lf><space><space><space><space><space><space><space><space>TimestampUtc<comma><lf><space><space><space><space><space><space><space><space>Timestamp<comma><lf><space><space><space><space><space><space><space><space>TimestampUnix<space><closeparen><lf>VALUES<space><lf><space><space><space><space><at>Value<openparen>accumulated_data<closeparen><semicolon><lf>,WriteNewOccupancy_NorthParkade)" }    READER_TYPE          { MSSQL_JDBC_NONSPATIAL_2 }    READER_DATASET       { "AWS_UBCParking" }    COMBINE_ATTRIBUTES   { RESULT_ONLY }    IGNORE_NULLS         { <Unused> }    COMBINE_GEOMETRY     { QUERY_ONLY }    QUERYFCT_OUTPUT      { "BASED_ON_CONNECTIONS" }    CONTINUE_ON_READER_ERROR YES    QUERYFCT_PROPAGATE_IDS_ON_SQL_EXECUTE YES    READER_PARAMS        { $(WriteNewOccupancy_NorthParkade_DIRECTIVES) }    OUTPUT { RESULT FEATURE_TYPE WriteNewOccupancy_NorthParkade_RESULT        @SupplyAttributes(fme_feature_type,WriteNewOccupancy_NorthParkade)         }    OUTPUT { SCHEMA FEATURE_TYPE WriteNewOccupancy_NorthParkade_<SCHEMA>           }    OUTPUT { QUERY FEATURE_TYPE WriteNewOccupancy_NorthParkade_INITIATOR            }    OUTPUT { READER_ERROR FEATURE_TYPE WriteNewOccupancy_NorthParkade_<REJECTED>         }
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "WriteNewOccupancy_NorthParkade_<SCHEMA> Feature Recorder -1 2147614761" INPUT FEATURE_TYPE WriteNewOccupancy_NorthParkade_<SCHEMA> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_WriteNewOccupancy_NorthParkade -1 41 fo 0 _lt_SCHEMA_gt_  0  c09a8668515bbae8c0d8af2d58cae3534c28b18d.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { fme_feature_type_name,buffer,attribute<opencurly><closecurly>.name,buffer,attribute<opencurly><closecurly>.fme_data_type,buffer,attribute<opencurly><closecurly>.native_data_type,buffer,fme_basename,buffer }  FEAT_TYPE_DISPLAY_NAME { WriteNewOccupancy_NorthParkade_<lt>Schema<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "WriteNewOccupancy_NorthParkade_RESULT Feature Recorder -1 2147680297" INPUT FEATURE_TYPE WriteNewOccupancy_NorthParkade_RESULT FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_WriteNewOccupancy_NorthParkade -1 41 fo 1 RESULT  0  45a493116e8d1805244d74b484ff9cd6fd1ba471.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA {  }  FEAT_TYPE_DISPLAY_NAME { WriteNewOccupancy_NorthParkade_Result } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "WriteNewOccupancy_NorthParkade_INITIATOR Feature Recorder -1 2147745833" INPUT FEATURE_TYPE WriteNewOccupancy_NorthParkade_INITIATOR FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_WriteNewOccupancy_NorthParkade -1 41 fo 2 INITIATOR  0  7d6a29d47a7a7beb427b1b00e9ece1dd4d245271.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { ZoneId,buffer,TimestampUtc,buffer,Timestamp,buffer,TimezoneId,buffer,Capacity,buffer,Vehicles,buffer,Violations,buffer,ViolationsEnforced,buffer,accumulated_data,buffer,_matched_records,uint32 }  FEAT_TYPE_DISPLAY_NAME { WriteNewOccupancy_NorthParkade_Initiator } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "WriteNewOccupancy_NorthParkade_<REJECTED> Feature Recorder -1 2147811369" INPUT FEATURE_TYPE WriteNewOccupancy_NorthParkade_<REJECTED> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_WriteNewOccupancy_NorthParkade -1 41 fo 3 _lt_REJECTED_gt_  0  51b2bebc674ece728075725e92ed07a4b9d425cd.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { ZoneId,buffer,TimestampUtc,buffer,Timestamp,buffer,TimezoneId,buffer,Capacity,buffer,Vehicles,buffer,Violations,buffer,ViolationsEnforced,buffer,accumulated_data,buffer,_reader_error,buffer }  FEAT_TYPE_DISPLAY_NAME { WriteNewOccupancy_NorthParkade_<lt>Rejected<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
.metadata XFORMER_END WriteNewOccupancy_NorthParkade;41:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "WriteNewOccupancy_NorthParkade_<SCHEMA> Feature Counter -1 2147614761"   INPUT FEATURE_TYPE WriteNewOccupancy_NorthParkade_<SCHEMA>     @LogCount("PORT -1 2147614761")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "WriteNewOccupancy_NorthParkade_RESULT Feature Counter -1 2147680297"   INPUT FEATURE_TYPE WriteNewOccupancy_NorthParkade_RESULT     @LogCount("PORT -1 2147680297")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "WriteNewOccupancy_NorthParkade_INITIATOR Feature Counter -1 2147745833"   INPUT FEATURE_TYPE WriteNewOccupancy_NorthParkade_INITIATOR     @LogCount("PORT -1 2147745833")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "WriteNewOccupancy_NorthParkade_<REJECTED> Feature Counter -1 2147811369"   INPUT FEATURE_TYPE WriteNewOccupancy_NorthParkade_<REJECTED>     @LogCount("PORT -1 2147811369")   NO_LOGGING    OUTPUT FEATURE_TYPE *
DEFAULT_MACRO _WB_BYPASS_TERMINATION No
FACTORY_DEF * TeeFactory FACTORY_NAME WriteNewOccupancy_NorthParkade_<Rejected> INPUT FEATURE_TYPE WriteNewOccupancy_NorthParkade_<REJECTED>  NO_LOGGING   OUTPUT FAILED FEATURE_TYPE * @Abort(ENCODED, WriteNewOccupancy_NorthParkade<space>output<space>a<space><lt>Rejected<gt><space>feature.<space><space>To<space>continue<space>translation<space>when<space>features<space>are<space>rejected<comma><space>change<space><apos>Workspace<space>Parameters<apos><space><gt><space>Translation<space><gt><space><apos>Rejected<space>Feature<space>Handling<apos><space>to<space><apos>Continue<space>Translation<apos>)
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN Fraser_Parkade_Latest_Timestamp;22:Main
MACRO Fraser_Parkade_Latest_Timestamp_DIRECTIVES APPLICATION_INTENT ReadWrite NAMED_CONNECTION AWS_UBCParking CREATE_FEATURE_TABLES_FROM_DATA Yes QUERY_FEATURE_TYPES_FOR_MERGE_FILTERS Yes QUERY_TIMEOUT 30
FACTORY_DEF {*} QueryFactory    FACTORY_NAME { Fraser_Parkade_Latest_Timestamp }    INPUT  FEATURE_TYPE Creator_CREATED_2_goANeUpBIDA=    QUERY_SQL            { "SELECT<space>zone_id<comma><space>MAX<openparen>TimestampUnix<closeparen><space>AS<space>latest_timestamp<space>FROM<space>Parking.dbo.FraserParkade_Occupancy<space>GROUP<space>BY<space>zone_id<lf>" }    READER_TYPE          { MSSQL_JDBC_NONSPATIAL_2 }    READER_DATASET       { "AWS_UBCParking" }    COMBINE_ATTRIBUTES   { RESULT_ONLY }    IGNORE_NULLS         { <Unused> }    COMBINE_GEOMETRY     { QUERY_ONLY }    QUERYFCT_OUTPUT      { "BASED_ON_CONNECTIONS" }    CONTINUE_ON_READER_ERROR YES    QUERYFCT_PROPAGATE_IDS_ON_SQL_EXECUTE YES    READER_PARAMS        { $(Fraser_Parkade_Latest_Timestamp_DIRECTIVES) }    OUTPUT { RESULT FEATURE_TYPE Fraser_Parkade_Latest_Timestamp_RESULT        @SupplyAttributes(fme_feature_type,Fraser_Parkade_Latest_Timestamp)         }    OUTPUT { SCHEMA FEATURE_TYPE Fraser_Parkade_Latest_Timestamp_<SCHEMA>           }    OUTPUT { QUERY FEATURE_TYPE Fraser_Parkade_Latest_Timestamp_INITIATOR            }    OUTPUT { READER_ERROR FEATURE_TYPE Fraser_Parkade_Latest_Timestamp_<REJECTED>         }
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "Fraser_Parkade_Latest_Timestamp_<SCHEMA> Feature Recorder -1 2147614742" INPUT FEATURE_TYPE Fraser_Parkade_Latest_Timestamp_<SCHEMA> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_Fraser_Parkade_Latest_Timestamp -1 22 fo 0 _lt_SCHEMA_gt_  0  8eeca6b0970ef3105535fe607846d127697a1fa3.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { fme_feature_type_name,buffer,attribute<opencurly><closecurly>.name,buffer,attribute<opencurly><closecurly>.fme_data_type,buffer,attribute<opencurly><closecurly>.native_data_type,buffer,fme_basename,buffer }  FEAT_TYPE_DISPLAY_NAME { Fraser_Parkade_Latest_Timestamp_<lt>Schema<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "Fraser_Parkade_Latest_Timestamp_RESULT Feature Recorder -1 2147680278" INPUT FEATURE_TYPE Fraser_Parkade_Latest_Timestamp_RESULT FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_Fraser_Parkade_Latest_Timestamp -1 22 fo 1 RESULT  0  17a1ff88bab56d0c518f69e2bbb29095eea11daa.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { zone_id,varchar<openparen>255<closeparen>,latest_timestamp,int64 }  FEAT_TYPE_DISPLAY_NAME { Fraser_Parkade_Latest_Timestamp_Result } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "Fraser_Parkade_Latest_Timestamp_INITIATOR Feature Recorder -1 2147745814" INPUT FEATURE_TYPE Fraser_Parkade_Latest_Timestamp_INITIATOR FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_Fraser_Parkade_Latest_Timestamp -1 22 fo 2 INITIATOR  0  9efeb21f37ee00d3e399b73ea5d54eea78ca9d02.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { _creation_instance,uint64,_matched_records,uint32 }  FEAT_TYPE_DISPLAY_NAME { Fraser_Parkade_Latest_Timestamp_Initiator } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "Fraser_Parkade_Latest_Timestamp_<REJECTED> Feature Recorder -1 2147811350" INPUT FEATURE_TYPE Fraser_Parkade_Latest_Timestamp_<REJECTED> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_Fraser_Parkade_Latest_Timestamp -1 22 fo 3 _lt_REJECTED_gt_  0  ff092442f44fd94ae5762d76d98b7e9e5ca60be2.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { _creation_instance,uint64,_reader_error,buffer,zone_id,varchar<openparen>255<closeparen>,latest_timestamp,int64 }  FEAT_TYPE_DISPLAY_NAME { Fraser_Parkade_Latest_Timestamp_<lt>Rejected<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
.metadata XFORMER_END Fraser_Parkade_Latest_Timestamp;22:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "Fraser_Parkade_Latest_Timestamp_<SCHEMA> Feature Counter -1 2147614742"   INPUT FEATURE_TYPE Fraser_Parkade_Latest_Timestamp_<SCHEMA>     @LogCount("PORT -1 2147614742")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "Fraser_Parkade_Latest_Timestamp_RESULT Feature Counter -1 50"   INPUT FEATURE_TYPE Fraser_Parkade_Latest_Timestamp_RESULT   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 50")
FACTORY_DEF * TeeFactory   FACTORY_NAME "Fraser_Parkade_Latest_Timestamp_INITIATOR Feature Counter -1 2147745814"   INPUT FEATURE_TYPE Fraser_Parkade_Latest_Timestamp_INITIATOR     @LogCount("PORT -1 2147745814")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "Fraser_Parkade_Latest_Timestamp_<REJECTED> Feature Counter -1 2147811350"   INPUT FEATURE_TYPE Fraser_Parkade_Latest_Timestamp_<REJECTED>     @LogCount("PORT -1 2147811350")   NO_LOGGING    OUTPUT FEATURE_TYPE *
DEFAULT_MACRO _WB_BYPASS_TERMINATION No
FACTORY_DEF * TeeFactory FACTORY_NAME Fraser_Parkade_Latest_Timestamp_<Rejected> INPUT FEATURE_TYPE Fraser_Parkade_Latest_Timestamp_<REJECTED>  NO_LOGGING   OUTPUT FAILED FEATURE_TYPE * @Abort(ENCODED, Fraser_Parkade_Latest_Timestamp<space>output<space>a<space><lt>Rejected<gt><space>feature.<space><space>To<space>continue<space>translation<space>when<space>features<space>are<space>rejected<comma><space>change<space><apos>Workspace<space>Parameters<apos><space><gt><space>Translation<space><gt><space><apos>Rejected<space>Feature<space>Handling<apos><space>to<space><apos>Continue<space>Translation<apos>)
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN ReadNewOccupancy_FraserParkade;45:Main
MACRO ReadNewOccupancy_FraserParkade_DIRECTIVES QUERY_FEATURE_TYPES_FOR_MERGE_FILTERS Yes CREATE_FEATURE_TABLES_FROM_DATA Yes QUERY_TIMEOUT 30 NAMED_CONNECTION Autovu APPLICATION_INTENT ReadWrite
FACTORY_DEF {*} QueryFactory    FACTORY_NAME { ReadNewOccupancy_FraserParkade }    INPUT  FEATURE_TYPE Fraser_Parkade_Latest_Timestamp_RESULT    QUERY_SQL            { "@EvaluateExpression(FDIV,STRING_ENCODED,DECLARE<space><at>formatted_timestamp<space>VARCHAR<openparen>30<closeparen><semicolon><lf><lf>SET<space><at>formatted_timestamp<space>=<space>DATEADD<openparen>SECOND<comma><space><at>Value<openparen>latest_timestamp<closeparen><space>-<space>25200<comma><space><apos>1970-01-01<apos><closeparen><semicolon><lf><lf>SELECT<space>*<lf>FROM<space>dbo.ParkingOccupancies<lf>WHERE<space>Timestamp<space><gt><space><at>formatted_timestamp<lf><space><space>AND<space>ZoneId<space>=<space><apos><at>Value<openparen>zone_id<closeparen><apos><semicolon><lf>,ReadNewOccupancy_FraserParkade)" }    READER_TYPE          { MSSQL_JDBC_NONSPATIAL_2 }    READER_DATASET       { "Autovu" }    COMBINE_ATTRIBUTES   { RESULT_ONLY }    IGNORE_NULLS         { <Unused> }    COMBINE_GEOMETRY     { QUERY_ONLY }    QUERYFCT_OUTPUT      { "BASED_ON_CONNECTIONS" }    CONTINUE_ON_READER_ERROR YES    QUERYFCT_PROPAGATE_IDS_ON_SQL_EXECUTE YES    READER_PARAMS        { $(ReadNewOccupancy_FraserParkade_DIRECTIVES) }    OUTPUT { RESULT FEATURE_TYPE ReadNewOccupancy_FraserParkade_RESULT        @SupplyAttributes(fme_feature_type,ReadNewOccupancy_FraserParkade)         }    OUTPUT { SCHEMA FEATURE_TYPE ReadNewOccupancy_FraserParkade_<SCHEMA>           }    OUTPUT { QUERY FEATURE_TYPE ReadNewOccupancy_FraserParkade_INITIATOR            }    OUTPUT { READER_ERROR FEATURE_TYPE ReadNewOccupancy_FraserParkade_<REJECTED>         }
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "ReadNewOccupancy_FraserParkade_<SCHEMA> Feature Recorder -1 2147614765" INPUT FEATURE_TYPE ReadNewOccupancy_FraserParkade_<SCHEMA> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_ReadNewOccupancy_FraserParkade -1 45 fo 0 _lt_SCHEMA_gt_  0  c82e97836b15af2fb292cd9c9f8592174bd395bd.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { fme_feature_type_name,buffer,attribute<opencurly><closecurly>.name,buffer,attribute<opencurly><closecurly>.fme_data_type,buffer,attribute<opencurly><closecurly>.native_data_type,buffer,fme_basename,buffer }  FEAT_TYPE_DISPLAY_NAME { ReadNewOccupancy_FraserParkade_<lt>Schema<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "ReadNewOccupancy_FraserParkade_RESULT Feature Recorder -1 2147680301" INPUT FEATURE_TYPE ReadNewOccupancy_FraserParkade_RESULT FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_ReadNewOccupancy_FraserParkade -1 45 fo 1 RESULT  0  2c51916bddcbda5078fa3b07cfe495cd8bf3885f.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { ZoneId,buffer,TimestampUtc,buffer,Timestamp,buffer,TimezoneId,buffer,Capacity,buffer,Vehicles,buffer,Violations,buffer,ViolationsEnforced,buffer }  FEAT_TYPE_DISPLAY_NAME { ReadNewOccupancy_FraserParkade_Result } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "ReadNewOccupancy_FraserParkade_INITIATOR Feature Recorder -1 2147745837" INPUT FEATURE_TYPE ReadNewOccupancy_FraserParkade_INITIATOR FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_ReadNewOccupancy_FraserParkade -1 45 fo 2 INITIATOR  0  b1246539cf404a63cfaf88b75f83fcf89f92e1a7.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { zone_id,varchar<openparen>255<closeparen>,latest_timestamp,int64,_matched_records,uint32 }  FEAT_TYPE_DISPLAY_NAME { ReadNewOccupancy_FraserParkade_Initiator } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "ReadNewOccupancy_FraserParkade_<REJECTED> Feature Recorder -1 2147811373" INPUT FEATURE_TYPE ReadNewOccupancy_FraserParkade_<REJECTED> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_ReadNewOccupancy_FraserParkade -1 45 fo 3 _lt_REJECTED_gt_  0  30ef34e96e23e3dd61dec4dfe503f1e9493ffaaa.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { zone_id,varchar<openparen>255<closeparen>,latest_timestamp,int64,_reader_error,buffer,ZoneId,buffer,TimestampUtc,buffer,Timestamp,buffer,TimezoneId,buffer,Capacity,buffer,Vehicles,buffer,Violations,buffer,ViolationsEnforced,buffer }  FEAT_TYPE_DISPLAY_NAME { ReadNewOccupancy_FraserParkade_<lt>Rejected<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
.metadata XFORMER_END ReadNewOccupancy_FraserParkade;45:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "ReadNewOccupancy_FraserParkade_<SCHEMA> Feature Counter -1 2147614765"   INPUT FEATURE_TYPE ReadNewOccupancy_FraserParkade_<SCHEMA>     @LogCount("PORT -1 2147614765")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "ReadNewOccupancy_FraserParkade_RESULT Feature Counter -1 49"   INPUT FEATURE_TYPE ReadNewOccupancy_FraserParkade_RESULT   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 49")
FACTORY_DEF * TeeFactory   FACTORY_NAME "ReadNewOccupancy_FraserParkade_INITIATOR Feature Counter -1 2147745837"   INPUT FEATURE_TYPE ReadNewOccupancy_FraserParkade_INITIATOR     @LogCount("PORT -1 2147745837")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "ReadNewOccupancy_FraserParkade_<REJECTED> Feature Counter -1 2147811373"   INPUT FEATURE_TYPE ReadNewOccupancy_FraserParkade_<REJECTED>     @LogCount("PORT -1 2147811373")   NO_LOGGING    OUTPUT FEATURE_TYPE *
DEFAULT_MACRO _WB_BYPASS_TERMINATION No
FACTORY_DEF * TeeFactory FACTORY_NAME ReadNewOccupancy_FraserParkade_<Rejected> INPUT FEATURE_TYPE ReadNewOccupancy_FraserParkade_<REJECTED>  NO_LOGGING   OUTPUT FAILED FEATURE_TYPE * @Abort(ENCODED, ReadNewOccupancy_FraserParkade<space>output<space>a<space><lt>Rejected<gt><space>feature.<space><space>To<space>continue<space>translation<space>when<space>features<space>are<space>rejected<comma><space>change<space><apos>Workspace<space>Parameters<apos><space><gt><space>Translation<space><gt><space><apos>Rejected<space>Feature<space>Handling<apos><space>to<space><apos>Continue<space>Translation<apos>)
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN CreateSQL_Statements_3;46:Main
FME_PYTHON_PATH "$(FME_MF_DIR)"
FACTORY_DEF {*} PythonFactory    FACTORY_NAME { CreateSQL_Statements_3 }    FLUSH_WHEN_GROUPS_CHANGE { <Unused> }    INPUT  FEATURE_TYPE ReadNewOccupancy_FraserParkade_RESULT    SYMBOL_NAME { FeatureProcessor }    PYTHON_NAMESPACE FMEOBJECTS    SOURCE_CODE { import<space>fme<lf>import<space>fmeobjects<lf>import<space>datetime<lf>import<space>time<lf><lf>class<space>FeatureProcessor<openparen>object<closeparen>:<lf><space><space><space><space><quote><quote><quote>Template<space>Class<space>Interface:<lf><space><space><space><space>When<space>using<space>this<space>class<comma><space>make<space>sure<space>its<space>name<space>is<space>set<space>as<space>the<space>value<space>of<space>the<space><apos>Class<lf><space><space><space><space>to<space>Process<space>Features<apos><space>transformer<space>parameter.<lf><space><space><space><space><quote><quote><quote><lf><lf><space><space><space><space>def<space>__init__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote>Base<space>constructor<space>for<space>class<space>members.<quote><quote><quote><lf><space><space><space><space><space><space><space><space>self.accumulated_data<space>=<space><quote><openparen><quote><lf><space><space><space><space><space><space><space><space>self.counter<space>=<space>0<lf><space><space><space><space><space><space><space><space>pass<lf><lf><space><space><space><space>def<space>input<openparen>self<comma><space>feature<closeparen>:<lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>self.counter<space>=<space>self.counter<space>+<space>1<lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Get<space>the<space>required<space>attributes<space>from<space>the<space>feature<lf><space><space><space><space><space><space><space><space>zone_id<space>=<space>feature.getAttribute<openparen><apos>ZoneId<apos><closeparen><lf><space><space><space><space><space><space><space><space>timezone_id<space>=<space>feature.getAttribute<openparen><apos>TimezoneId<apos><closeparen><lf><space><space><space><space><space><space><space><space>capacity<space>=<space>feature.getAttribute<openparen><apos>Capacity<apos><closeparen><lf><space><space><space><space><space><space><space><space>vehicles<space>=<space>feature.getAttribute<openparen><apos>Vehicles<apos><closeparen><lf><space><space><space><space><space><space><space><space>violations<space>=<space>feature.getAttribute<openparen><apos>Violations<apos><closeparen><lf><space><space><space><space><space><space><space><space>enforced_violations<space>=<space>feature.getAttribute<openparen><apos>ViolationsEnforced<apos><closeparen><lf><space><space><space><space><space><space><space><space>timestamp_utc<space>=<space>feature.getAttribute<openparen><apos>TimestampUtc<apos><closeparen><lf><space><space><space><space><space><space><space><space>timestamp_str<space>=<space>feature.getAttribute<openparen><apos>Timestamp<apos><closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Define<space>the<space>format<space>of<space>the<space>incoming<space>timestamp<lf><space><space><space><space><space><space><space><space>format_str<space>=<space><apos>%Y%m%d%H%M%S.%f<apos><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Adjust<space>the<space>timestamp<space>string<space>to<space>ensure<space>it<space>matches<space>the<space>expected<space>format<lf><space><space><space><space><space><space><space><space>if<space>len<openparen>timestamp_str.split<openparen><apos>.<apos><closeparen><openbracket>1<closebracket><closeparen><space><gt><space>6:<lf><space><space><space><space><space><space><space><space><space><space><space><space>timestamp_str<space>=<space>timestamp_str<openbracket>:21<closebracket><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Convert<space>the<space>timestamp<space>string<space>to<space>a<space>datetime<space>object<lf><space><space><space><space><space><space><space><space>dt<space>=<space>datetime.datetime.strptime<openparen>timestamp_str<comma><space>format_str<closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Convert<space>the<space>datetime<space>object<space>to<space>a<space>Unix<space>timestamp<lf><space><space><space><space><space><space><space><space>unix_timestamp<space>=<space>int<openparen>time.mktime<openparen>dt.timetuple<openparen><closeparen><closeparen><closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Add<space>the<space>Unix<space>timestamp<space>as<space>a<space>new<space>attribute<lf><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>TimestampUnix<apos><comma><space>unix_timestamp<closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Concatenate<space>the<space>attributes<space>into<space>a<space>single<space>string<lf><space><space><space><space><space><space><space><space>feature_string<space>=<space>f<quote><apos><opencurly>zone_id<closecurly><apos><comma><apos><opencurly>timezone_id<closecurly><apos><comma><opencurly>capacity<closecurly><comma><opencurly>vehicles<closecurly><comma><opencurly>violations<closecurly><comma><opencurly>enforced_violations<closecurly><comma><opencurly>timestamp_utc<closecurly><comma><opencurly>timestamp_str<closecurly><comma><opencurly>unix_timestamp<closecurly><quote><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Append<space>the<space>feature<space>string<space>to<space>the<space>accumulated<space>string<lf><space><space><space><space><space><space><space><space>if<space>self.accumulated_data:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.accumulated_data<space>+=<space>f<quote><opencurly>feature_string<closecurly><closeparen><comma><space><openparen><quote><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>if<openparen>self.counter<space>==<space>999<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.accumulated_data<space>=<space>self.accumulated_data<openbracket>:-3<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>Create<space>a<space>new<space>output<space>feature<space>with<space>accumulated<space>data<lf><space><space><space><space><space><space><space><space><space><space><space><space>out_feature<space>=<space>fmeobjects.FMEFeature<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>out_feature.setAttribute<openparen><apos>accumulated_data<apos><comma><space>self.accumulated_data.strip<openparen><closeparen><closeparen><space><space>#<space>Remove<space>trailing<space>space<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.pyoutput<openparen>out_feature<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.accumulated_data<space>=<space><quote><openparen><quote><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.counter<space>=<space>0<lf><lf><space><space><space><space>def<space>close<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote>This<space>method<space>is<space>called<space>once<space>all<space>the<space>FME<space>Features<space>have<space>been<space>processed<lf><space><space><space><space><space><space><space><space>from<space>input<openparen><closeparen>.<lf><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space>if<openparen>self.accumulated_data<space>!=<space><quote><openparen><quote><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.accumulated_data<space>=<space>self.accumulated_data<openbracket>:-3<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>Create<space>a<space>new<space>output<space>feature<space>with<space>accumulated<space>data<lf><space><space><space><space><space><space><space><space><space><space><space><space>out_feature<space>=<space>fmeobjects.FMEFeature<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>out_feature.setAttribute<openparen><apos>accumulated_data<apos><comma><space>self.accumulated_data.strip<openparen><closeparen><closeparen><space><space>#<space>Remove<space>trailing<space>space<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.pyoutput<openparen>out_feature<closeparen><lf><space><space><space><space><space><space><space><space>pass<lf><lf><space><space><space><space>def<space>process_group<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote>When<space><apos>Group<space>By<apos><space>attribute<openparen>s<closeparen><space>are<space>specified<comma><space>this<space>method<space>is<space>called<space><lf><space><space><space><space><space><space><space><space>once<space>all<space>the<space>FME<space>Features<space>in<space>a<space>current<space>group<space>have<space>been<space>sent<space>to<space>input<openparen><closeparen>.<lf><lf><space><space><space><space><space><space><space><space>FME<space>Features<space>sent<space>to<space>input<openparen><closeparen><space>should<space>generally<space>be<space>cached<space>for<space>group-by<space><lf><space><space><space><space><space><space><space><space>processing<space>in<space>this<space>method<space>when<space>knowledge<space>of<space>all<space>Features<space>is<space>required.<space><lf><space><space><space><space><space><space><space><space>The<space>resulting<space>Feature<openparen>s<closeparen><space>from<space>the<space>group-by<space>processing<space>should<space>be<space>emitted<space><lf><space><space><space><space><space><space><space><space>through<space>self.pyoutput<openparen><closeparen>.<lf><lf><space><space><space><space><space><space><space><space>FME<space>will<space>continue<space>calling<space>input<openparen><closeparen><space>a<space>number<space>of<space>times<space>followed<lf><space><space><space><space><space><space><space><space>by<space>process_group<openparen><closeparen><space>for<space>each<space><apos>Group<space>By<apos><space>attribute<comma><space>so<space>this<space><lf><space><space><space><space><space><space><space><space>implementation<space>should<space>reset<space>any<space>class<space>members<space>for<space>the<space>next<space>group.<lf><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space>pass<lf><lf><space><space><space><space>def<space>has_support_for<openparen>self<comma><space>support_type<closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote>This<space>method<space>returns<space>whether<space>this<space>PythonCaller<space>supports<space>a<space>certain<space>type.<lf><space><space><space><space><space><space><space><space>The<space>only<space>supported<space>type<space>is<space>fmeobjects.FME_SUPPORT_FEATURE_TABLE_SHIM.<lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>:param<space>int<space>support_type:<space>The<space>support<space>type<space>being<space>queried.<lf><space><space><space><space><space><space><space><space>:returns:<space>True<space>if<space>the<space>passed<space>in<space>support<space>type<space>is<space>supported.<lf><space><space><space><space><space><space><space><space>:rtype:<space>bool<lf><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space>if<space>support_type<space>==<space>fmeobjects.FME_SUPPORT_FEATURE_TABLE_SHIM:<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>If<space>this<space>is<space>set<space>to<space>return<space>True<comma><space>FME<space>will<space>pass<space>features<space>to<space>the<space>input<openparen><closeparen><space>method<space>that<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>come<space>from<space>a<space>feature<space>table<space>object.<space>This<space>allows<space>for<space>significant<space>performance<space>gains<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>when<space>processing<space>large<space>numbers<space>of<space>features.<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>To<space>enable<space>this<comma><space>the<space>following<space>conditions<space>must<space>be<space>met:<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space><space><space>1<closeparen><space>features<space>passed<space>into<space>the<space>input<openparen><closeparen><space>method<space>cannot<space>be<space>copied<space>or<space>cached<space>for<space>later<space>use<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space><space><space>2<closeparen><space>features<space>cannot<space>be<space>read<space>or<space>modified<space>after<space>being<space>passed<space>to<space>self.pyoutput<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space><space><space>3<closeparen><space>Group<space>Processing<space>must<space>not<space>be<space>enabled<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>Violations<space>will<space>cause<space>undefined<space>behavior.<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>False<lf><space><lf><space><space><space><space><space><space><space><space>return<space>False<lf> }    OUTPUT { PYOUTPUT FEATURE_TYPE CreateSQL_Statements_3_OUTPUT         }
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "CreateSQL_Statements_3_OUTPUT Feature Recorder -1 2147614766" INPUT FEATURE_TYPE CreateSQL_Statements_3_OUTPUT FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_CreateSQL_Statements_3 -1 46 fo 0 OUTPUT  0  546044948ff74c02581b12674a686a2fdb77cb09.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { ZoneId,buffer,TimestampUtc,buffer,Timestamp,buffer,TimezoneId,buffer,Capacity,buffer,Vehicles,buffer,Violations,buffer,ViolationsEnforced,buffer,accumulated_data,buffer }  FEAT_TYPE_DISPLAY_NAME { CreateSQL_Statements_3_Output } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
.metadata XFORMER_END CreateSQL_Statements_3;46:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "CreateSQL_Statements_3_OUTPUT Feature Counter -1 48"   INPUT FEATURE_TYPE CreateSQL_Statements_3_OUTPUT   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 48")
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN WriteNewOccupancy_FraserParkade;47:Main
MACRO WriteNewOccupancy_FraserParkade_DIRECTIVES APPLICATION_INTENT ReadWrite NAMED_CONNECTION AWS_UBCParking CREATE_FEATURE_TABLES_FROM_DATA Yes QUERY_FEATURE_TYPES_FOR_MERGE_FILTERS Yes QUERY_TIMEOUT 30
FACTORY_DEF {*} QueryFactory    FACTORY_NAME { WriteNewOccupancy_FraserParkade }    INPUT  FEATURE_TYPE CreateSQL_Statements_3_OUTPUT    QUERY_SQL            { "@EvaluateExpression(FDIV,STRING_ENCODED,INSERT<space>INTO<space>FraserParkade_Occupancy<space><openparen><lf><space><space><space><space><space><space><space><space>zone_id<comma><lf><space><space><space><space><space><space><space><space>TimezoneId<comma><lf><space><space><space><space><space><space><space><space>Capacity<comma><lf><space><space><space><space><space><space><space><space>Vehicles<comma><lf><space><space><space><space><space><space><space><space>Violations<comma><lf><space><space><space><space><space><space><space><space>ViolationsEnforced<comma><lf><space><space><space><space><space><space><space><space>TimestampUtc<comma><lf><space><space><space><space><space><space><space><space>Timestamp<comma><lf><space><space><space><space><space><space><space><space>TimestampUnix<space><closeparen><lf>VALUES<space><lf><space><space><space><space><at>Value<openparen>accumulated_data<closeparen><semicolon><lf>,WriteNewOccupancy_FraserParkade)" }    READER_TYPE          { MSSQL_JDBC_NONSPATIAL_2 }    READER_DATASET       { "AWS_UBCParking" }    COMBINE_ATTRIBUTES   { RESULT_ONLY }    IGNORE_NULLS         { <Unused> }    COMBINE_GEOMETRY     { QUERY_ONLY }    QUERYFCT_OUTPUT      { "BASED_ON_CONNECTIONS" }    CONTINUE_ON_READER_ERROR YES    QUERYFCT_PROPAGATE_IDS_ON_SQL_EXECUTE YES    READER_PARAMS        { $(WriteNewOccupancy_FraserParkade_DIRECTIVES) }    OUTPUT { RESULT FEATURE_TYPE WriteNewOccupancy_FraserParkade_RESULT        @SupplyAttributes(fme_feature_type,WriteNewOccupancy_FraserParkade)         }    OUTPUT { SCHEMA FEATURE_TYPE WriteNewOccupancy_FraserParkade_<SCHEMA>           }    OUTPUT { QUERY FEATURE_TYPE WriteNewOccupancy_FraserParkade_INITIATOR            }    OUTPUT { READER_ERROR FEATURE_TYPE WriteNewOccupancy_FraserParkade_<REJECTED>         }
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "WriteNewOccupancy_FraserParkade_<SCHEMA> Feature Recorder -1 2147614767" INPUT FEATURE_TYPE WriteNewOccupancy_FraserParkade_<SCHEMA> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_WriteNewOccupancy_FraserParkade -1 47 fo 0 _lt_SCHEMA_gt_  0  ac018bd3965327328d1b5a6c70cfad71f0961be2.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { fme_feature_type_name,buffer,attribute<opencurly><closecurly>.name,buffer,attribute<opencurly><closecurly>.fme_data_type,buffer,attribute<opencurly><closecurly>.native_data_type,buffer,fme_basename,buffer }  FEAT_TYPE_DISPLAY_NAME { WriteNewOccupancy_FraserParkade_<lt>Schema<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "WriteNewOccupancy_FraserParkade_RESULT Feature Recorder -1 2147680303" INPUT FEATURE_TYPE WriteNewOccupancy_FraserParkade_RESULT FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_WriteNewOccupancy_FraserParkade -1 47 fo 1 RESULT  0  a9ff811518aa5fa6678d9a9c103c2f9a0fcfae05.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA {  }  FEAT_TYPE_DISPLAY_NAME { WriteNewOccupancy_FraserParkade_Result } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "WriteNewOccupancy_FraserParkade_INITIATOR Feature Recorder -1 2147745839" INPUT FEATURE_TYPE WriteNewOccupancy_FraserParkade_INITIATOR FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_WriteNewOccupancy_FraserParkade -1 47 fo 2 INITIATOR  0  ad2ec9f3c8e65a825c59330cd3b270221b317f29.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { ZoneId,buffer,TimestampUtc,buffer,Timestamp,buffer,TimezoneId,buffer,Capacity,buffer,Vehicles,buffer,Violations,buffer,ViolationsEnforced,buffer,accumulated_data,buffer,_matched_records,uint32 }  FEAT_TYPE_DISPLAY_NAME { WriteNewOccupancy_FraserParkade_Initiator } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "WriteNewOccupancy_FraserParkade_<REJECTED> Feature Recorder -1 2147811375" INPUT FEATURE_TYPE WriteNewOccupancy_FraserParkade_<REJECTED> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_WriteNewOccupancy_FraserParkade -1 47 fo 3 _lt_REJECTED_gt_  0  9c6e87bf98442dca72e390b286367fb0999576e9.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { ZoneId,buffer,TimestampUtc,buffer,Timestamp,buffer,TimezoneId,buffer,Capacity,buffer,Vehicles,buffer,Violations,buffer,ViolationsEnforced,buffer,accumulated_data,buffer,_reader_error,buffer }  FEAT_TYPE_DISPLAY_NAME { WriteNewOccupancy_FraserParkade_<lt>Rejected<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
.metadata XFORMER_END WriteNewOccupancy_FraserParkade;47:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "WriteNewOccupancy_FraserParkade_<SCHEMA> Feature Counter -1 2147614767"   INPUT FEATURE_TYPE WriteNewOccupancy_FraserParkade_<SCHEMA>     @LogCount("PORT -1 2147614767")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "WriteNewOccupancy_FraserParkade_RESULT Feature Counter -1 2147680303"   INPUT FEATURE_TYPE WriteNewOccupancy_FraserParkade_RESULT     @LogCount("PORT -1 2147680303")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "WriteNewOccupancy_FraserParkade_INITIATOR Feature Counter -1 2147745839"   INPUT FEATURE_TYPE WriteNewOccupancy_FraserParkade_INITIATOR     @LogCount("PORT -1 2147745839")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "WriteNewOccupancy_FraserParkade_<REJECTED> Feature Counter -1 2147811375"   INPUT FEATURE_TYPE WriteNewOccupancy_FraserParkade_<REJECTED>     @LogCount("PORT -1 2147811375")   NO_LOGGING    OUTPUT FEATURE_TYPE *
DEFAULT_MACRO _WB_BYPASS_TERMINATION No
FACTORY_DEF * TeeFactory FACTORY_NAME WriteNewOccupancy_FraserParkade_<Rejected> INPUT FEATURE_TYPE WriteNewOccupancy_FraserParkade_<REJECTED>  NO_LOGGING   OUTPUT FAILED FEATURE_TYPE * @Abort(ENCODED, WriteNewOccupancy_FraserParkade<space>output<space>a<space><lt>Rejected<gt><space>feature.<space><space>To<space>continue<space>translation<space>when<space>features<space>are<space>rejected<comma><space>change<space><apos>Workspace<space>Parameters<apos><space><gt><space>Translation<space><gt><space><apos>Rejected<space>Feature<space>Handling<apos><space>to<space><apos>Continue<space>Translation<apos>)
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN Thunderbird_Parkade_Latest_Timestamp;23:Main
MACRO Thunderbird_Parkade_Latest_Timestamp_DIRECTIVES APPLICATION_INTENT ReadWrite NAMED_CONNECTION AWS_UBCParking CREATE_FEATURE_TABLES_FROM_DATA Yes QUERY_FEATURE_TYPES_FOR_MERGE_FILTERS Yes QUERY_TIMEOUT 30
FACTORY_DEF {*} QueryFactory    FACTORY_NAME { Thunderbird_Parkade_Latest_Timestamp }    INPUT  FEATURE_TYPE Creator_CREATED_3_T6a7qEGs3cw=    QUERY_SQL            { "SELECT<space>zone_id<comma><space>MAX<openparen>TimestampUnix<closeparen><space>AS<space>latest_timestamp<space>FROM<space>Parking.dbo.ThunderbirdParkade_Occupancy<space>GROUP<space>BY<space>zone_id<lf>" }    READER_TYPE          { MSSQL_JDBC_NONSPATIAL_2 }    READER_DATASET       { "AWS_UBCParking" }    COMBINE_ATTRIBUTES   { RESULT_ONLY }    IGNORE_NULLS         { <Unused> }    COMBINE_GEOMETRY     { QUERY_ONLY }    QUERYFCT_OUTPUT      { "BASED_ON_CONNECTIONS" }    CONTINUE_ON_READER_ERROR YES    QUERYFCT_PROPAGATE_IDS_ON_SQL_EXECUTE YES    READER_PARAMS        { $(Thunderbird_Parkade_Latest_Timestamp_DIRECTIVES) }    OUTPUT { RESULT FEATURE_TYPE Thunderbird_Parkade_Latest_Timestamp_RESULT        @SupplyAttributes(fme_feature_type,Thunderbird_Parkade_Latest_Timestamp)         }    OUTPUT { SCHEMA FEATURE_TYPE Thunderbird_Parkade_Latest_Timestamp_<SCHEMA>           }    OUTPUT { QUERY FEATURE_TYPE Thunderbird_Parkade_Latest_Timestamp_INITIATOR            }    OUTPUT { READER_ERROR FEATURE_TYPE Thunderbird_Parkade_Latest_Timestamp_<REJECTED>         }
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "Thunderbird_Parkade_Latest_Timestamp_<SCHEMA> Feature Recorder -1 2147614743" INPUT FEATURE_TYPE Thunderbird_Parkade_Latest_Timestamp_<SCHEMA> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_Thunderbird_Parkade_Latest_Times -1 23 fo 0 _lt_SCHEMA_gt_  0  a31cd384eb05d533c70f34513502ef49b365dd00.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { fme_feature_type_name,buffer,attribute<opencurly><closecurly>.name,buffer,attribute<opencurly><closecurly>.fme_data_type,buffer,attribute<opencurly><closecurly>.native_data_type,buffer,fme_basename,buffer }  FEAT_TYPE_DISPLAY_NAME { Thunderbird_Parkade_Latest_Timestamp_<lt>Schema<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "Thunderbird_Parkade_Latest_Timestamp_RESULT Feature Recorder -1 2147680279" INPUT FEATURE_TYPE Thunderbird_Parkade_Latest_Timestamp_RESULT FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_Thunderbird_Parkade_Latest_Times -1 23 fo 1 RESULT  0  4280a339c0a7682ef5803a67c47c7c5e9e5bcdee.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { zone_id,varchar<openparen>255<closeparen>,latest_timestamp,int64 }  FEAT_TYPE_DISPLAY_NAME { Thunderbird_Parkade_Latest_Timestamp_Result } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "Thunderbird_Parkade_Latest_Timestamp_INITIATOR Feature Recorder -1 2147745815" INPUT FEATURE_TYPE Thunderbird_Parkade_Latest_Timestamp_INITIATOR FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_Thunderbird_Parkade_Latest_Times -1 23 fo 2 INITIATOR  0  beed3c9c13a8bfca368fde61487ef7c573ca116b.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { _creation_instance,uint64,_matched_records,uint32 }  FEAT_TYPE_DISPLAY_NAME { Thunderbird_Parkade_Latest_Timestamp_Initiator } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "Thunderbird_Parkade_Latest_Timestamp_<REJECTED> Feature Recorder -1 2147811351" INPUT FEATURE_TYPE Thunderbird_Parkade_Latest_Timestamp_<REJECTED> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_Thunderbird_Parkade_Latest_Times -1 23 fo 3 _lt_REJECTED_gt_  0  55bf689a43af5cf446f4958cf2a9dfdb0d665a2f.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { _creation_instance,uint64,_reader_error,buffer,zone_id,varchar<openparen>255<closeparen>,latest_timestamp,int64 }  FEAT_TYPE_DISPLAY_NAME { Thunderbird_Parkade_Latest_Timestamp_<lt>Rejected<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
.metadata XFORMER_END Thunderbird_Parkade_Latest_Timestamp;23:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "Thunderbird_Parkade_Latest_Timestamp_<SCHEMA> Feature Counter -1 2147614743"   INPUT FEATURE_TYPE Thunderbird_Parkade_Latest_Timestamp_<SCHEMA>     @LogCount("PORT -1 2147614743")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "Thunderbird_Parkade_Latest_Timestamp_RESULT Feature Counter -1 56"   INPUT FEATURE_TYPE Thunderbird_Parkade_Latest_Timestamp_RESULT   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 56")
FACTORY_DEF * TeeFactory   FACTORY_NAME "Thunderbird_Parkade_Latest_Timestamp_INITIATOR Feature Counter -1 2147745815"   INPUT FEATURE_TYPE Thunderbird_Parkade_Latest_Timestamp_INITIATOR     @LogCount("PORT -1 2147745815")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "Thunderbird_Parkade_Latest_Timestamp_<REJECTED> Feature Counter -1 2147811351"   INPUT FEATURE_TYPE Thunderbird_Parkade_Latest_Timestamp_<REJECTED>     @LogCount("PORT -1 2147811351")   NO_LOGGING    OUTPUT FEATURE_TYPE *
DEFAULT_MACRO _WB_BYPASS_TERMINATION No
FACTORY_DEF * TeeFactory FACTORY_NAME Thunderbird_Parkade_Latest_Timestamp_<Rejected> INPUT FEATURE_TYPE Thunderbird_Parkade_Latest_Timestamp_<REJECTED>  NO_LOGGING   OUTPUT FAILED FEATURE_TYPE * @Abort(ENCODED, Thunderbird_Parkade_Latest_Timestamp<space>output<space>a<space><lt>Rejected<gt><space>feature.<space><space>To<space>continue<space>translation<space>when<space>features<space>are<space>rejected<comma><space>change<space><apos>Workspace<space>Parameters<apos><space><gt><space>Translation<space><gt><space><apos>Rejected<space>Feature<space>Handling<apos><space>to<space><apos>Continue<space>Translation<apos>)
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN ReadNewOccupancy_ThunderbirdParkade;51:Main
MACRO ReadNewOccupancy_ThunderbirdParkade_DIRECTIVES QUERY_FEATURE_TYPES_FOR_MERGE_FILTERS Yes CREATE_FEATURE_TABLES_FROM_DATA Yes QUERY_TIMEOUT 30 NAMED_CONNECTION Autovu APPLICATION_INTENT ReadWrite
FACTORY_DEF {*} QueryFactory    FACTORY_NAME { ReadNewOccupancy_ThunderbirdParkade }    INPUT  FEATURE_TYPE Thunderbird_Parkade_Latest_Timestamp_RESULT    QUERY_SQL            { "@EvaluateExpression(FDIV,STRING_ENCODED,DECLARE<space><at>formatted_timestamp<space>VARCHAR<openparen>30<closeparen><semicolon><lf><lf>SET<space><at>formatted_timestamp<space>=<space>DATEADD<openparen>SECOND<comma><space><at>Value<openparen>latest_timestamp<closeparen><space>-<space>25200<comma><space><apos>1970-01-01<apos><closeparen><semicolon><lf><lf>SELECT<space>*<lf>FROM<space>dbo.ParkingOccupancies<lf>WHERE<space>Timestamp<space><gt><space><at>formatted_timestamp<lf><space><space>AND<space>ZoneId<space>=<space><apos><at>Value<openparen>zone_id<closeparen><apos><semicolon><lf>,ReadNewOccupancy_ThunderbirdParkade)" }    READER_TYPE          { MSSQL_JDBC_NONSPATIAL_2 }    READER_DATASET       { "Autovu" }    COMBINE_ATTRIBUTES   { RESULT_ONLY }    IGNORE_NULLS         { <Unused> }    COMBINE_GEOMETRY     { QUERY_ONLY }    QUERYFCT_OUTPUT      { "BASED_ON_CONNECTIONS" }    CONTINUE_ON_READER_ERROR YES    QUERYFCT_PROPAGATE_IDS_ON_SQL_EXECUTE YES    READER_PARAMS        { $(ReadNewOccupancy_ThunderbirdParkade_DIRECTIVES) }    OUTPUT { RESULT FEATURE_TYPE ReadNewOccupancy_ThunderbirdParkade_RESULT        @SupplyAttributes(fme_feature_type,ReadNewOccupancy_ThunderbirdParkade)         }    OUTPUT { SCHEMA FEATURE_TYPE ReadNewOccupancy_ThunderbirdParkade_<SCHEMA>           }    OUTPUT { QUERY FEATURE_TYPE ReadNewOccupancy_ThunderbirdParkade_INITIATOR            }    OUTPUT { READER_ERROR FEATURE_TYPE ReadNewOccupancy_ThunderbirdParkade_<REJECTED>         }
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "ReadNewOccupancy_ThunderbirdParkade_<SCHEMA> Feature Recorder -1 2147614771" INPUT FEATURE_TYPE ReadNewOccupancy_ThunderbirdParkade_<SCHEMA> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_ReadNewOccupancy_ThunderbirdPark -1 51 fo 0 _lt_SCHEMA_gt_  0  09afdab24e313533023cacb0bcebb0e810c2deb6.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { fme_feature_type_name,buffer,attribute<opencurly><closecurly>.name,buffer,attribute<opencurly><closecurly>.fme_data_type,buffer,attribute<opencurly><closecurly>.native_data_type,buffer,fme_basename,buffer }  FEAT_TYPE_DISPLAY_NAME { ReadNewOccupancy_ThunderbirdParkade_<lt>Schema<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "ReadNewOccupancy_ThunderbirdParkade_RESULT Feature Recorder -1 2147680307" INPUT FEATURE_TYPE ReadNewOccupancy_ThunderbirdParkade_RESULT FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_ReadNewOccupancy_ThunderbirdPark -1 51 fo 1 RESULT  0  7afb419c2ca1ee705c7470507b97f74d752ef97b.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { ZoneId,buffer,TimestampUtc,buffer,Timestamp,buffer,TimezoneId,buffer,Capacity,buffer,Vehicles,buffer,Violations,buffer,ViolationsEnforced,buffer }  FEAT_TYPE_DISPLAY_NAME { ReadNewOccupancy_ThunderbirdParkade_Result } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "ReadNewOccupancy_ThunderbirdParkade_INITIATOR Feature Recorder -1 2147745843" INPUT FEATURE_TYPE ReadNewOccupancy_ThunderbirdParkade_INITIATOR FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_ReadNewOccupancy_ThunderbirdPark -1 51 fo 2 INITIATOR  0  34802e10530cf3c84c66339d6848589916972293.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { zone_id,varchar<openparen>255<closeparen>,latest_timestamp,int64,_matched_records,uint32 }  FEAT_TYPE_DISPLAY_NAME { ReadNewOccupancy_ThunderbirdParkade_Initiator } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "ReadNewOccupancy_ThunderbirdParkade_<REJECTED> Feature Recorder -1 2147811379" INPUT FEATURE_TYPE ReadNewOccupancy_ThunderbirdParkade_<REJECTED> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_ReadNewOccupancy_ThunderbirdPark -1 51 fo 3 _lt_REJECTED_gt_  0  88c42537469440a1cf175e4e95ec83615a9dfbe5.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { zone_id,varchar<openparen>255<closeparen>,latest_timestamp,int64,_reader_error,buffer,ZoneId,buffer,TimestampUtc,buffer,Timestamp,buffer,TimezoneId,buffer,Capacity,buffer,Vehicles,buffer,Violations,buffer,ViolationsEnforced,buffer }  FEAT_TYPE_DISPLAY_NAME { ReadNewOccupancy_ThunderbirdParkade_<lt>Rejected<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
.metadata XFORMER_END ReadNewOccupancy_ThunderbirdParkade;51:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "ReadNewOccupancy_ThunderbirdParkade_<SCHEMA> Feature Counter -1 2147614771"   INPUT FEATURE_TYPE ReadNewOccupancy_ThunderbirdParkade_<SCHEMA>     @LogCount("PORT -1 2147614771")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "ReadNewOccupancy_ThunderbirdParkade_RESULT Feature Counter -1 55"   INPUT FEATURE_TYPE ReadNewOccupancy_ThunderbirdParkade_RESULT   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 55")
FACTORY_DEF * TeeFactory   FACTORY_NAME "ReadNewOccupancy_ThunderbirdParkade_INITIATOR Feature Counter -1 2147745843"   INPUT FEATURE_TYPE ReadNewOccupancy_ThunderbirdParkade_INITIATOR     @LogCount("PORT -1 2147745843")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "ReadNewOccupancy_ThunderbirdParkade_<REJECTED> Feature Counter -1 2147811379"   INPUT FEATURE_TYPE ReadNewOccupancy_ThunderbirdParkade_<REJECTED>     @LogCount("PORT -1 2147811379")   NO_LOGGING    OUTPUT FEATURE_TYPE *
DEFAULT_MACRO _WB_BYPASS_TERMINATION No
FACTORY_DEF * TeeFactory FACTORY_NAME ReadNewOccupancy_ThunderbirdParkade_<Rejected> INPUT FEATURE_TYPE ReadNewOccupancy_ThunderbirdParkade_<REJECTED>  NO_LOGGING   OUTPUT FAILED FEATURE_TYPE * @Abort(ENCODED, ReadNewOccupancy_ThunderbirdParkade<space>output<space>a<space><lt>Rejected<gt><space>feature.<space><space>To<space>continue<space>translation<space>when<space>features<space>are<space>rejected<comma><space>change<space><apos>Workspace<space>Parameters<apos><space><gt><space>Translation<space><gt><space><apos>Rejected<space>Feature<space>Handling<apos><space>to<space><apos>Continue<space>Translation<apos>)
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN CreateSQL_Statements_4;52:Main
FME_PYTHON_PATH "$(FME_MF_DIR)"
FACTORY_DEF {*} PythonFactory    FACTORY_NAME { CreateSQL_Statements_4 }    FLUSH_WHEN_GROUPS_CHANGE { <Unused> }    INPUT  FEATURE_TYPE ReadNewOccupancy_ThunderbirdParkade_RESULT    SYMBOL_NAME { FeatureProcessor }    PYTHON_NAMESPACE FMEOBJECTS    SOURCE_CODE { import<space>fme<lf>import<space>fmeobjects<lf>import<space>datetime<lf>import<space>time<lf><lf>class<space>FeatureProcessor<openparen>object<closeparen>:<lf><space><space><space><space><quote><quote><quote>Template<space>Class<space>Interface:<lf><space><space><space><space>When<space>using<space>this<space>class<comma><space>make<space>sure<space>its<space>name<space>is<space>set<space>as<space>the<space>value<space>of<space>the<space><apos>Class<lf><space><space><space><space>to<space>Process<space>Features<apos><space>transformer<space>parameter.<lf><space><space><space><space><quote><quote><quote><lf><lf><space><space><space><space>def<space>__init__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote>Base<space>constructor<space>for<space>class<space>members.<quote><quote><quote><lf><space><space><space><space><space><space><space><space>self.accumulated_data<space>=<space><quote><openparen><quote><lf><space><space><space><space><space><space><space><space>self.counter<space>=<space>0<lf><space><space><space><space><space><space><space><space>pass<lf><lf><space><space><space><space>def<space>input<openparen>self<comma><space>feature<closeparen>:<lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>self.counter<space>=<space>self.counter<space>+<space>1<lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Get<space>the<space>required<space>attributes<space>from<space>the<space>feature<lf><space><space><space><space><space><space><space><space>zone_id<space>=<space>feature.getAttribute<openparen><apos>ZoneId<apos><closeparen><lf><space><space><space><space><space><space><space><space>timezone_id<space>=<space>feature.getAttribute<openparen><apos>TimezoneId<apos><closeparen><lf><space><space><space><space><space><space><space><space>capacity<space>=<space>feature.getAttribute<openparen><apos>Capacity<apos><closeparen><lf><space><space><space><space><space><space><space><space>vehicles<space>=<space>feature.getAttribute<openparen><apos>Vehicles<apos><closeparen><lf><space><space><space><space><space><space><space><space>violations<space>=<space>feature.getAttribute<openparen><apos>Violations<apos><closeparen><lf><space><space><space><space><space><space><space><space>enforced_violations<space>=<space>feature.getAttribute<openparen><apos>ViolationsEnforced<apos><closeparen><lf><space><space><space><space><space><space><space><space>timestamp_utc<space>=<space>feature.getAttribute<openparen><apos>TimestampUtc<apos><closeparen><lf><space><space><space><space><space><space><space><space>timestamp_str<space>=<space>feature.getAttribute<openparen><apos>Timestamp<apos><closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Define<space>the<space>format<space>of<space>the<space>incoming<space>timestamp<lf><space><space><space><space><space><space><space><space>format_str<space>=<space><apos>%Y%m%d%H%M%S.%f<apos><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Adjust<space>the<space>timestamp<space>string<space>to<space>ensure<space>it<space>matches<space>the<space>expected<space>format<lf><space><space><space><space><space><space><space><space>if<space>len<openparen>timestamp_str.split<openparen><apos>.<apos><closeparen><openbracket>1<closebracket><closeparen><space><gt><space>6:<lf><space><space><space><space><space><space><space><space><space><space><space><space>timestamp_str<space>=<space>timestamp_str<openbracket>:21<closebracket><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Convert<space>the<space>timestamp<space>string<space>to<space>a<space>datetime<space>object<lf><space><space><space><space><space><space><space><space>dt<space>=<space>datetime.datetime.strptime<openparen>timestamp_str<comma><space>format_str<closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Convert<space>the<space>datetime<space>object<space>to<space>a<space>Unix<space>timestamp<lf><space><space><space><space><space><space><space><space>unix_timestamp<space>=<space>int<openparen>time.mktime<openparen>dt.timetuple<openparen><closeparen><closeparen><closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Add<space>the<space>Unix<space>timestamp<space>as<space>a<space>new<space>attribute<lf><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>TimestampUnix<apos><comma><space>unix_timestamp<closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Concatenate<space>the<space>attributes<space>into<space>a<space>single<space>string<lf><space><space><space><space><space><space><space><space>feature_string<space>=<space>f<quote><apos><opencurly>zone_id<closecurly><apos><comma><apos><opencurly>timezone_id<closecurly><apos><comma><opencurly>capacity<closecurly><comma><opencurly>vehicles<closecurly><comma><opencurly>violations<closecurly><comma><opencurly>enforced_violations<closecurly><comma><opencurly>timestamp_utc<closecurly><comma><opencurly>timestamp_str<closecurly><comma><opencurly>unix_timestamp<closecurly><quote><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Append<space>the<space>feature<space>string<space>to<space>the<space>accumulated<space>string<lf><space><space><space><space><space><space><space><space>if<space>self.accumulated_data:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.accumulated_data<space>+=<space>f<quote><opencurly>feature_string<closecurly><closeparen><comma><space><openparen><quote><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>if<openparen>self.counter<space>==<space>999<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.accumulated_data<space>=<space>self.accumulated_data<openbracket>:-3<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>Create<space>a<space>new<space>output<space>feature<space>with<space>accumulated<space>data<lf><space><space><space><space><space><space><space><space><space><space><space><space>out_feature<space>=<space>fmeobjects.FMEFeature<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>out_feature.setAttribute<openparen><apos>accumulated_data<apos><comma><space>self.accumulated_data.strip<openparen><closeparen><closeparen><space><space>#<space>Remove<space>trailing<space>space<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.pyoutput<openparen>out_feature<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.accumulated_data<space>=<space><quote><openparen><quote><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.counter<space>=<space>0<lf><lf><space><space><space><space>def<space>close<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote>This<space>method<space>is<space>called<space>once<space>all<space>the<space>FME<space>Features<space>have<space>been<space>processed<lf><space><space><space><space><space><space><space><space>from<space>input<openparen><closeparen>.<lf><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space>if<openparen>self.accumulated_data<space>!=<space><quote><openparen><quote><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.accumulated_data<space>=<space>self.accumulated_data<openbracket>:-3<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>Create<space>a<space>new<space>output<space>feature<space>with<space>accumulated<space>data<lf><space><space><space><space><space><space><space><space><space><space><space><space>out_feature<space>=<space>fmeobjects.FMEFeature<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>out_feature.setAttribute<openparen><apos>accumulated_data<apos><comma><space>self.accumulated_data.strip<openparen><closeparen><closeparen><space><space>#<space>Remove<space>trailing<space>space<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.pyoutput<openparen>out_feature<closeparen><lf><space><space><space><space><space><space><space><space>pass<lf><lf><space><space><space><space>def<space>process_group<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote>When<space><apos>Group<space>By<apos><space>attribute<openparen>s<closeparen><space>are<space>specified<comma><space>this<space>method<space>is<space>called<space><lf><space><space><space><space><space><space><space><space>once<space>all<space>the<space>FME<space>Features<space>in<space>a<space>current<space>group<space>have<space>been<space>sent<space>to<space>input<openparen><closeparen>.<lf><lf><space><space><space><space><space><space><space><space>FME<space>Features<space>sent<space>to<space>input<openparen><closeparen><space>should<space>generally<space>be<space>cached<space>for<space>group-by<space><lf><space><space><space><space><space><space><space><space>processing<space>in<space>this<space>method<space>when<space>knowledge<space>of<space>all<space>Features<space>is<space>required.<space><lf><space><space><space><space><space><space><space><space>The<space>resulting<space>Feature<openparen>s<closeparen><space>from<space>the<space>group-by<space>processing<space>should<space>be<space>emitted<space><lf><space><space><space><space><space><space><space><space>through<space>self.pyoutput<openparen><closeparen>.<lf><lf><space><space><space><space><space><space><space><space>FME<space>will<space>continue<space>calling<space>input<openparen><closeparen><space>a<space>number<space>of<space>times<space>followed<lf><space><space><space><space><space><space><space><space>by<space>process_group<openparen><closeparen><space>for<space>each<space><apos>Group<space>By<apos><space>attribute<comma><space>so<space>this<space><lf><space><space><space><space><space><space><space><space>implementation<space>should<space>reset<space>any<space>class<space>members<space>for<space>the<space>next<space>group.<lf><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space>pass<lf><lf><space><space><space><space>def<space>has_support_for<openparen>self<comma><space>support_type<closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote>This<space>method<space>returns<space>whether<space>this<space>PythonCaller<space>supports<space>a<space>certain<space>type.<lf><space><space><space><space><space><space><space><space>The<space>only<space>supported<space>type<space>is<space>fmeobjects.FME_SUPPORT_FEATURE_TABLE_SHIM.<lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>:param<space>int<space>support_type:<space>The<space>support<space>type<space>being<space>queried.<lf><space><space><space><space><space><space><space><space>:returns:<space>True<space>if<space>the<space>passed<space>in<space>support<space>type<space>is<space>supported.<lf><space><space><space><space><space><space><space><space>:rtype:<space>bool<lf><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space>if<space>support_type<space>==<space>fmeobjects.FME_SUPPORT_FEATURE_TABLE_SHIM:<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>If<space>this<space>is<space>set<space>to<space>return<space>True<comma><space>FME<space>will<space>pass<space>features<space>to<space>the<space>input<openparen><closeparen><space>method<space>that<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>come<space>from<space>a<space>feature<space>table<space>object.<space>This<space>allows<space>for<space>significant<space>performance<space>gains<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>when<space>processing<space>large<space>numbers<space>of<space>features.<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>To<space>enable<space>this<comma><space>the<space>following<space>conditions<space>must<space>be<space>met:<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space><space><space>1<closeparen><space>features<space>passed<space>into<space>the<space>input<openparen><closeparen><space>method<space>cannot<space>be<space>copied<space>or<space>cached<space>for<space>later<space>use<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space><space><space>2<closeparen><space>features<space>cannot<space>be<space>read<space>or<space>modified<space>after<space>being<space>passed<space>to<space>self.pyoutput<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space><space><space>3<closeparen><space>Group<space>Processing<space>must<space>not<space>be<space>enabled<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>Violations<space>will<space>cause<space>undefined<space>behavior.<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>False<lf><space><lf><space><space><space><space><space><space><space><space>return<space>False<lf> }    OUTPUT { PYOUTPUT FEATURE_TYPE CreateSQL_Statements_4_OUTPUT         }
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "CreateSQL_Statements_4_OUTPUT Feature Recorder -1 2147614772" INPUT FEATURE_TYPE CreateSQL_Statements_4_OUTPUT FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_CreateSQL_Statements_4 -1 52 fo 0 OUTPUT  0  b9d8d48645421c3e6db500f74ce0ddaf3fd7c3d6.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { ZoneId,buffer,TimestampUtc,buffer,Timestamp,buffer,TimezoneId,buffer,Capacity,buffer,Vehicles,buffer,Violations,buffer,ViolationsEnforced,buffer,accumulated_data,buffer }  FEAT_TYPE_DISPLAY_NAME { CreateSQL_Statements_4_Output } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
.metadata XFORMER_END CreateSQL_Statements_4;52:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "CreateSQL_Statements_4_OUTPUT Feature Counter -1 54"   INPUT FEATURE_TYPE CreateSQL_Statements_4_OUTPUT   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 54")
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN WriteNewOccupancy_ThunderbirdParkade;53:Main
MACRO WriteNewOccupancy_ThunderbirdParkade_DIRECTIVES APPLICATION_INTENT ReadWrite NAMED_CONNECTION AWS_UBCParking CREATE_FEATURE_TABLES_FROM_DATA Yes QUERY_FEATURE_TYPES_FOR_MERGE_FILTERS Yes QUERY_TIMEOUT 30
FACTORY_DEF {*} QueryFactory    FACTORY_NAME { WriteNewOccupancy_ThunderbirdParkade }    INPUT  FEATURE_TYPE CreateSQL_Statements_4_OUTPUT    QUERY_SQL            { "@EvaluateExpression(FDIV,STRING_ENCODED,INSERT<space>INTO<space>ThunderbirdParkade_Occupancy<space><openparen><lf><space><space><space><space><space><space><space><space>zone_id<comma><lf><space><space><space><space><space><space><space><space>TimezoneId<comma><lf><space><space><space><space><space><space><space><space>Capacity<comma><lf><space><space><space><space><space><space><space><space>Vehicles<comma><lf><space><space><space><space><space><space><space><space>Violations<comma><lf><space><space><space><space><space><space><space><space>ViolationsEnforced<comma><lf><space><space><space><space><space><space><space><space>TimestampUtc<comma><lf><space><space><space><space><space><space><space><space>Timestamp<comma><lf><space><space><space><space><space><space><space><space>TimestampUnix<space><closeparen><lf>VALUES<space><lf><space><space><space><space><at>Value<openparen>accumulated_data<closeparen><semicolon><lf>,WriteNewOccupancy_ThunderbirdParkade)" }    READER_TYPE          { MSSQL_JDBC_NONSPATIAL_2 }    READER_DATASET       { "AWS_UBCParking" }    COMBINE_ATTRIBUTES   { RESULT_ONLY }    IGNORE_NULLS         { <Unused> }    COMBINE_GEOMETRY     { QUERY_ONLY }    QUERYFCT_OUTPUT      { "BASED_ON_CONNECTIONS" }    CONTINUE_ON_READER_ERROR YES    QUERYFCT_PROPAGATE_IDS_ON_SQL_EXECUTE YES    READER_PARAMS        { $(WriteNewOccupancy_ThunderbirdParkade_DIRECTIVES) }    OUTPUT { RESULT FEATURE_TYPE WriteNewOccupancy_ThunderbirdParkade_RESULT        @SupplyAttributes(fme_feature_type,WriteNewOccupancy_ThunderbirdParkade)         }    OUTPUT { SCHEMA FEATURE_TYPE WriteNewOccupancy_ThunderbirdParkade_<SCHEMA>           }    OUTPUT { QUERY FEATURE_TYPE WriteNewOccupancy_ThunderbirdParkade_INITIATOR            }    OUTPUT { READER_ERROR FEATURE_TYPE WriteNewOccupancy_ThunderbirdParkade_<REJECTED>         }
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "WriteNewOccupancy_ThunderbirdParkade_<SCHEMA> Feature Recorder -1 2147614773" INPUT FEATURE_TYPE WriteNewOccupancy_ThunderbirdParkade_<SCHEMA> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_WriteNewOccupancy_ThunderbirdPar -1 53 fo 0 _lt_SCHEMA_gt_  0  9e20156e2f6c3ed226688c28e6f099c74b954e14.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { fme_feature_type_name,buffer,attribute<opencurly><closecurly>.name,buffer,attribute<opencurly><closecurly>.fme_data_type,buffer,attribute<opencurly><closecurly>.native_data_type,buffer,fme_basename,buffer }  FEAT_TYPE_DISPLAY_NAME { WriteNewOccupancy_ThunderbirdParkade_<lt>Schema<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "WriteNewOccupancy_ThunderbirdParkade_RESULT Feature Recorder -1 2147680309" INPUT FEATURE_TYPE WriteNewOccupancy_ThunderbirdParkade_RESULT FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_WriteNewOccupancy_ThunderbirdPar -1 53 fo 1 RESULT  0  2360fc88ed105cc5cbd4dac92789ffee2872abde.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA {  }  FEAT_TYPE_DISPLAY_NAME { WriteNewOccupancy_ThunderbirdParkade_Result } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "WriteNewOccupancy_ThunderbirdParkade_INITIATOR Feature Recorder -1 2147745845" INPUT FEATURE_TYPE WriteNewOccupancy_ThunderbirdParkade_INITIATOR FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_WriteNewOccupancy_ThunderbirdPar -1 53 fo 2 INITIATOR  0  e73426db860a582ee5c56ee0f93602e05daefd79.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { ZoneId,buffer,TimestampUtc,buffer,Timestamp,buffer,TimezoneId,buffer,Capacity,buffer,Vehicles,buffer,Violations,buffer,ViolationsEnforced,buffer,accumulated_data,buffer,_matched_records,uint32 }  FEAT_TYPE_DISPLAY_NAME { WriteNewOccupancy_ThunderbirdParkade_Initiator } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "WriteNewOccupancy_ThunderbirdParkade_<REJECTED> Feature Recorder -1 2147811381" INPUT FEATURE_TYPE WriteNewOccupancy_ThunderbirdParkade_<REJECTED> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_WriteNewOccupancy_ThunderbirdPar -1 53 fo 3 _lt_REJECTED_gt_  0  658fc048d0eb712c7a1dd05d3bdbedb6609d3f89.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { ZoneId,buffer,TimestampUtc,buffer,Timestamp,buffer,TimezoneId,buffer,Capacity,buffer,Vehicles,buffer,Violations,buffer,ViolationsEnforced,buffer,accumulated_data,buffer,_reader_error,buffer }  FEAT_TYPE_DISPLAY_NAME { WriteNewOccupancy_ThunderbirdParkade_<lt>Rejected<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
.metadata XFORMER_END WriteNewOccupancy_ThunderbirdParkade;53:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "WriteNewOccupancy_ThunderbirdParkade_<SCHEMA> Feature Counter -1 2147614773"   INPUT FEATURE_TYPE WriteNewOccupancy_ThunderbirdParkade_<SCHEMA>     @LogCount("PORT -1 2147614773")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "WriteNewOccupancy_ThunderbirdParkade_RESULT Feature Counter -1 2147680309"   INPUT FEATURE_TYPE WriteNewOccupancy_ThunderbirdParkade_RESULT     @LogCount("PORT -1 2147680309")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "WriteNewOccupancy_ThunderbirdParkade_INITIATOR Feature Counter -1 2147745845"   INPUT FEATURE_TYPE WriteNewOccupancy_ThunderbirdParkade_INITIATOR     @LogCount("PORT -1 2147745845")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "WriteNewOccupancy_ThunderbirdParkade_<REJECTED> Feature Counter -1 2147811381"   INPUT FEATURE_TYPE WriteNewOccupancy_ThunderbirdParkade_<REJECTED>     @LogCount("PORT -1 2147811381")   NO_LOGGING    OUTPUT FEATURE_TYPE *
DEFAULT_MACRO _WB_BYPASS_TERMINATION No
FACTORY_DEF * TeeFactory FACTORY_NAME WriteNewOccupancy_ThunderbirdParkade_<Rejected> INPUT FEATURE_TYPE WriteNewOccupancy_ThunderbirdParkade_<REJECTED>  NO_LOGGING   OUTPUT FAILED FEATURE_TYPE * @Abort(ENCODED, WriteNewOccupancy_ThunderbirdParkade<space>output<space>a<space><lt>Rejected<gt><space>feature.<space><space>To<space>continue<space>translation<space>when<space>features<space>are<space>rejected<comma><space>change<space><apos>Workspace<space>Parameters<apos><space><gt><space>Translation<space><gt><space><apos>Rejected<space>Feature<space>Handling<apos><space>to<space><apos>Continue<space>Translation<apos>)
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN RoseGarden_Parkade_Latest_Timestamp;24:Main
MACRO RoseGarden_Parkade_Latest_Timestamp_DIRECTIVES APPLICATION_INTENT ReadWrite NAMED_CONNECTION AWS_UBCParking CREATE_FEATURE_TABLES_FROM_DATA Yes QUERY_FEATURE_TYPES_FOR_MERGE_FILTERS Yes QUERY_TIMEOUT 30
FACTORY_DEF {*} QueryFactory    FACTORY_NAME { RoseGarden_Parkade_Latest_Timestamp }    INPUT  FEATURE_TYPE Creator_CREATED_4_kL0twIhQOd0=    QUERY_SQL            { "SELECT<space>zone_id<comma><space>MAX<openparen>TimestampUnix<closeparen><space>AS<space>latest_timestamp<space>FROM<space>Parking.dbo.RoseGardenParkade_Occupancy<space>GROUP<space>BY<space>zone_id<lf>" }    READER_TYPE          { MSSQL_JDBC_NONSPATIAL_2 }    READER_DATASET       { "AWS_UBCParking" }    COMBINE_ATTRIBUTES   { RESULT_ONLY }    IGNORE_NULLS         { <Unused> }    COMBINE_GEOMETRY     { QUERY_ONLY }    QUERYFCT_OUTPUT      { "BASED_ON_CONNECTIONS" }    CONTINUE_ON_READER_ERROR YES    QUERYFCT_PROPAGATE_IDS_ON_SQL_EXECUTE YES    READER_PARAMS        { $(RoseGarden_Parkade_Latest_Timestamp_DIRECTIVES) }    OUTPUT { RESULT FEATURE_TYPE RoseGarden_Parkade_Latest_Timestamp_RESULT        @SupplyAttributes(fme_feature_type,RoseGarden_Parkade_Latest_Timestamp)         }    OUTPUT { SCHEMA FEATURE_TYPE RoseGarden_Parkade_Latest_Timestamp_<SCHEMA>           }    OUTPUT { QUERY FEATURE_TYPE RoseGarden_Parkade_Latest_Timestamp_INITIATOR            }    OUTPUT { READER_ERROR FEATURE_TYPE RoseGarden_Parkade_Latest_Timestamp_<REJECTED>         }
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "RoseGarden_Parkade_Latest_Timestamp_<SCHEMA> Feature Recorder -1 2147614744" INPUT FEATURE_TYPE RoseGarden_Parkade_Latest_Timestamp_<SCHEMA> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_RoseGarden_Parkade_Latest_Timest -1 24 fo 0 _lt_SCHEMA_gt_  0  03abea4d3380485554296244bacb3ea94a1e956a.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { fme_feature_type_name,buffer,attribute<opencurly><closecurly>.name,buffer,attribute<opencurly><closecurly>.fme_data_type,buffer,attribute<opencurly><closecurly>.native_data_type,buffer,fme_basename,buffer }  FEAT_TYPE_DISPLAY_NAME { RoseGarden_Parkade_Latest_Timestamp_<lt>Schema<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "RoseGarden_Parkade_Latest_Timestamp_RESULT Feature Recorder -1 2147680280" INPUT FEATURE_TYPE RoseGarden_Parkade_Latest_Timestamp_RESULT FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_RoseGarden_Parkade_Latest_Timest -1 24 fo 1 RESULT  0  855288285f1e037cb25433282bdd05b87f485530.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { zone_id,varchar<openparen>255<closeparen>,latest_timestamp,int64 }  FEAT_TYPE_DISPLAY_NAME { RoseGarden_Parkade_Latest_Timestamp_Result } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "RoseGarden_Parkade_Latest_Timestamp_INITIATOR Feature Recorder -1 2147745816" INPUT FEATURE_TYPE RoseGarden_Parkade_Latest_Timestamp_INITIATOR FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_RoseGarden_Parkade_Latest_Timest -1 24 fo 2 INITIATOR  0  9629bae8a2b13a94f14c833eef59646f81e30159.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { _creation_instance,uint64,_matched_records,uint32 }  FEAT_TYPE_DISPLAY_NAME { RoseGarden_Parkade_Latest_Timestamp_Initiator } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "RoseGarden_Parkade_Latest_Timestamp_<REJECTED> Feature Recorder -1 2147811352" INPUT FEATURE_TYPE RoseGarden_Parkade_Latest_Timestamp_<REJECTED> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_RoseGarden_Parkade_Latest_Timest -1 24 fo 3 _lt_REJECTED_gt_  0  9575a7c6292cca2b0bfb8e63ab2e4bb14c2abbc9.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { _creation_instance,uint64,_reader_error,buffer,zone_id,varchar<openparen>255<closeparen>,latest_timestamp,int64 }  FEAT_TYPE_DISPLAY_NAME { RoseGarden_Parkade_Latest_Timestamp_<lt>Rejected<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
.metadata XFORMER_END RoseGarden_Parkade_Latest_Timestamp;24:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "RoseGarden_Parkade_Latest_Timestamp_<SCHEMA> Feature Counter -1 2147614744"   INPUT FEATURE_TYPE RoseGarden_Parkade_Latest_Timestamp_<SCHEMA>     @LogCount("PORT -1 2147614744")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "RoseGarden_Parkade_Latest_Timestamp_RESULT Feature Counter -1 62"   INPUT FEATURE_TYPE RoseGarden_Parkade_Latest_Timestamp_RESULT   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 62")
FACTORY_DEF * TeeFactory   FACTORY_NAME "RoseGarden_Parkade_Latest_Timestamp_INITIATOR Feature Counter -1 2147745816"   INPUT FEATURE_TYPE RoseGarden_Parkade_Latest_Timestamp_INITIATOR     @LogCount("PORT -1 2147745816")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "RoseGarden_Parkade_Latest_Timestamp_<REJECTED> Feature Counter -1 2147811352"   INPUT FEATURE_TYPE RoseGarden_Parkade_Latest_Timestamp_<REJECTED>     @LogCount("PORT -1 2147811352")   NO_LOGGING    OUTPUT FEATURE_TYPE *
DEFAULT_MACRO _WB_BYPASS_TERMINATION No
FACTORY_DEF * TeeFactory FACTORY_NAME RoseGarden_Parkade_Latest_Timestamp_<Rejected> INPUT FEATURE_TYPE RoseGarden_Parkade_Latest_Timestamp_<REJECTED>  NO_LOGGING   OUTPUT FAILED FEATURE_TYPE * @Abort(ENCODED, RoseGarden_Parkade_Latest_Timestamp<space>output<space>a<space><lt>Rejected<gt><space>feature.<space><space>To<space>continue<space>translation<space>when<space>features<space>are<space>rejected<comma><space>change<space><apos>Workspace<space>Parameters<apos><space><gt><space>Translation<space><gt><space><apos>Rejected<space>Feature<space>Handling<apos><space>to<space><apos>Continue<space>Translation<apos>)
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN ReadNewOccupancy_RoseGardenParkade;57:Main
MACRO ReadNewOccupancy_RoseGardenParkade_DIRECTIVES QUERY_FEATURE_TYPES_FOR_MERGE_FILTERS Yes CREATE_FEATURE_TABLES_FROM_DATA Yes QUERY_TIMEOUT 30 NAMED_CONNECTION Autovu APPLICATION_INTENT ReadWrite
FACTORY_DEF {*} QueryFactory    FACTORY_NAME { ReadNewOccupancy_RoseGardenParkade }    INPUT  FEATURE_TYPE RoseGarden_Parkade_Latest_Timestamp_RESULT    QUERY_SQL            { "@EvaluateExpression(FDIV,STRING_ENCODED,DECLARE<space><at>formatted_timestamp<space>VARCHAR<openparen>30<closeparen><semicolon><lf><lf>SET<space><at>formatted_timestamp<space>=<space>DATEADD<openparen>SECOND<comma><space><at>Value<openparen>latest_timestamp<closeparen><space>-<space>25200<comma><space><apos>1970-01-01<apos><closeparen><semicolon><lf><lf>SELECT<space>*<lf>FROM<space>dbo.ParkingOccupancies<lf>WHERE<space>Timestamp<space><gt><space><at>formatted_timestamp<lf><space><space>AND<space>ZoneId<space>=<space><apos><at>Value<openparen>zone_id<closeparen><apos><semicolon><lf>,ReadNewOccupancy_RoseGardenParkade)" }    READER_TYPE          { MSSQL_JDBC_NONSPATIAL_2 }    READER_DATASET       { "Autovu" }    COMBINE_ATTRIBUTES   { RESULT_ONLY }    IGNORE_NULLS         { <Unused> }    COMBINE_GEOMETRY     { QUERY_ONLY }    QUERYFCT_OUTPUT      { "BASED_ON_CONNECTIONS" }    CONTINUE_ON_READER_ERROR YES    QUERYFCT_PROPAGATE_IDS_ON_SQL_EXECUTE YES    READER_PARAMS        { $(ReadNewOccupancy_RoseGardenParkade_DIRECTIVES) }    OUTPUT { RESULT FEATURE_TYPE ReadNewOccupancy_RoseGardenParkade_RESULT        @SupplyAttributes(fme_feature_type,ReadNewOccupancy_RoseGardenParkade)         }    OUTPUT { SCHEMA FEATURE_TYPE ReadNewOccupancy_RoseGardenParkade_<SCHEMA>           }    OUTPUT { QUERY FEATURE_TYPE ReadNewOccupancy_RoseGardenParkade_INITIATOR            }    OUTPUT { READER_ERROR FEATURE_TYPE ReadNewOccupancy_RoseGardenParkade_<REJECTED>         }
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "ReadNewOccupancy_RoseGardenParkade_<SCHEMA> Feature Recorder -1 2147614777" INPUT FEATURE_TYPE ReadNewOccupancy_RoseGardenParkade_<SCHEMA> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_ReadNewOccupancy_RoseGardenParka -1 57 fo 0 _lt_SCHEMA_gt_  0  1d9c64a13c5d2856df0d3f9d0e71fd9df8edf39d.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { fme_feature_type_name,buffer,attribute<opencurly><closecurly>.name,buffer,attribute<opencurly><closecurly>.fme_data_type,buffer,attribute<opencurly><closecurly>.native_data_type,buffer,fme_basename,buffer }  FEAT_TYPE_DISPLAY_NAME { ReadNewOccupancy_RoseGardenParkade_<lt>Schema<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "ReadNewOccupancy_RoseGardenParkade_RESULT Feature Recorder -1 2147680313" INPUT FEATURE_TYPE ReadNewOccupancy_RoseGardenParkade_RESULT FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_ReadNewOccupancy_RoseGardenParka -1 57 fo 1 RESULT  0  b798a9aa60a4857d6d7d52237d2a821d5d310b87.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { ZoneId,buffer,TimestampUtc,buffer,Timestamp,buffer,TimezoneId,buffer,Capacity,buffer,Vehicles,buffer,Violations,buffer,ViolationsEnforced,buffer }  FEAT_TYPE_DISPLAY_NAME { ReadNewOccupancy_RoseGardenParkade_Result } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "ReadNewOccupancy_RoseGardenParkade_INITIATOR Feature Recorder -1 2147745849" INPUT FEATURE_TYPE ReadNewOccupancy_RoseGardenParkade_INITIATOR FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_ReadNewOccupancy_RoseGardenParka -1 57 fo 2 INITIATOR  0  057548c8adede3562590c51b3deddd28461fb7d9.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { zone_id,varchar<openparen>255<closeparen>,latest_timestamp,int64,_matched_records,uint32 }  FEAT_TYPE_DISPLAY_NAME { ReadNewOccupancy_RoseGardenParkade_Initiator } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "ReadNewOccupancy_RoseGardenParkade_<REJECTED> Feature Recorder -1 2147811385" INPUT FEATURE_TYPE ReadNewOccupancy_RoseGardenParkade_<REJECTED> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_ReadNewOccupancy_RoseGardenParka -1 57 fo 3 _lt_REJECTED_gt_  0  100d579e585801d663d1ca099bae83ec1039b7ec.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { zone_id,varchar<openparen>255<closeparen>,latest_timestamp,int64,_reader_error,buffer,ZoneId,buffer,TimestampUtc,buffer,Timestamp,buffer,TimezoneId,buffer,Capacity,buffer,Vehicles,buffer,Violations,buffer,ViolationsEnforced,buffer }  FEAT_TYPE_DISPLAY_NAME { ReadNewOccupancy_RoseGardenParkade_<lt>Rejected<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
.metadata XFORMER_END ReadNewOccupancy_RoseGardenParkade;57:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "ReadNewOccupancy_RoseGardenParkade_<SCHEMA> Feature Counter -1 2147614777"   INPUT FEATURE_TYPE ReadNewOccupancy_RoseGardenParkade_<SCHEMA>     @LogCount("PORT -1 2147614777")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "ReadNewOccupancy_RoseGardenParkade_RESULT Feature Counter -1 61"   INPUT FEATURE_TYPE ReadNewOccupancy_RoseGardenParkade_RESULT   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 61")
FACTORY_DEF * TeeFactory   FACTORY_NAME "ReadNewOccupancy_RoseGardenParkade_INITIATOR Feature Counter -1 2147745849"   INPUT FEATURE_TYPE ReadNewOccupancy_RoseGardenParkade_INITIATOR     @LogCount("PORT -1 2147745849")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "ReadNewOccupancy_RoseGardenParkade_<REJECTED> Feature Counter -1 2147811385"   INPUT FEATURE_TYPE ReadNewOccupancy_RoseGardenParkade_<REJECTED>     @LogCount("PORT -1 2147811385")   NO_LOGGING    OUTPUT FEATURE_TYPE *
DEFAULT_MACRO _WB_BYPASS_TERMINATION No
FACTORY_DEF * TeeFactory FACTORY_NAME ReadNewOccupancy_RoseGardenParkade_<Rejected> INPUT FEATURE_TYPE ReadNewOccupancy_RoseGardenParkade_<REJECTED>  NO_LOGGING   OUTPUT FAILED FEATURE_TYPE * @Abort(ENCODED, ReadNewOccupancy_RoseGardenParkade<space>output<space>a<space><lt>Rejected<gt><space>feature.<space><space>To<space>continue<space>translation<space>when<space>features<space>are<space>rejected<comma><space>change<space><apos>Workspace<space>Parameters<apos><space><gt><space>Translation<space><gt><space><apos>Rejected<space>Feature<space>Handling<apos><space>to<space><apos>Continue<space>Translation<apos>)
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN CreateSQL_Statements_5;58:Main
FME_PYTHON_PATH "$(FME_MF_DIR)"
FACTORY_DEF {*} PythonFactory    FACTORY_NAME { CreateSQL_Statements_5 }    FLUSH_WHEN_GROUPS_CHANGE { <Unused> }    INPUT  FEATURE_TYPE ReadNewOccupancy_RoseGardenParkade_RESULT    SYMBOL_NAME { FeatureProcessor }    PYTHON_NAMESPACE FMEOBJECTS    SOURCE_CODE { import<space>fme<lf>import<space>fmeobjects<lf>import<space>datetime<lf>import<space>time<lf><lf>class<space>FeatureProcessor<openparen>object<closeparen>:<lf><space><space><space><space><quote><quote><quote>Template<space>Class<space>Interface:<lf><space><space><space><space>When<space>using<space>this<space>class<comma><space>make<space>sure<space>its<space>name<space>is<space>set<space>as<space>the<space>value<space>of<space>the<space><apos>Class<lf><space><space><space><space>to<space>Process<space>Features<apos><space>transformer<space>parameter.<lf><space><space><space><space><quote><quote><quote><lf><lf><space><space><space><space>def<space>__init__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote>Base<space>constructor<space>for<space>class<space>members.<quote><quote><quote><lf><space><space><space><space><space><space><space><space>self.accumulated_data<space>=<space><quote><openparen><quote><lf><space><space><space><space><space><space><space><space>self.counter<space>=<space>0<lf><space><space><space><space><space><space><space><space>pass<lf><lf><space><space><space><space>def<space>input<openparen>self<comma><space>feature<closeparen>:<lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>self.counter<space>=<space>self.counter<space>+<space>1<lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Get<space>the<space>required<space>attributes<space>from<space>the<space>feature<lf><space><space><space><space><space><space><space><space>zone_id<space>=<space>feature.getAttribute<openparen><apos>ZoneId<apos><closeparen><lf><space><space><space><space><space><space><space><space>timezone_id<space>=<space>feature.getAttribute<openparen><apos>TimezoneId<apos><closeparen><lf><space><space><space><space><space><space><space><space>capacity<space>=<space>feature.getAttribute<openparen><apos>Capacity<apos><closeparen><lf><space><space><space><space><space><space><space><space>vehicles<space>=<space>feature.getAttribute<openparen><apos>Vehicles<apos><closeparen><lf><space><space><space><space><space><space><space><space>violations<space>=<space>feature.getAttribute<openparen><apos>Violations<apos><closeparen><lf><space><space><space><space><space><space><space><space>enforced_violations<space>=<space>feature.getAttribute<openparen><apos>ViolationsEnforced<apos><closeparen><lf><space><space><space><space><space><space><space><space>timestamp_utc<space>=<space>feature.getAttribute<openparen><apos>TimestampUtc<apos><closeparen><lf><space><space><space><space><space><space><space><space>timestamp_str<space>=<space>feature.getAttribute<openparen><apos>Timestamp<apos><closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Define<space>the<space>format<space>of<space>the<space>incoming<space>timestamp<lf><space><space><space><space><space><space><space><space>format_str<space>=<space><apos>%Y%m%d%H%M%S.%f<apos><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Adjust<space>the<space>timestamp<space>string<space>to<space>ensure<space>it<space>matches<space>the<space>expected<space>format<lf><space><space><space><space><space><space><space><space>if<space>len<openparen>timestamp_str.split<openparen><apos>.<apos><closeparen><openbracket>1<closebracket><closeparen><space><gt><space>6:<lf><space><space><space><space><space><space><space><space><space><space><space><space>timestamp_str<space>=<space>timestamp_str<openbracket>:21<closebracket><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Convert<space>the<space>timestamp<space>string<space>to<space>a<space>datetime<space>object<lf><space><space><space><space><space><space><space><space>dt<space>=<space>datetime.datetime.strptime<openparen>timestamp_str<comma><space>format_str<closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Convert<space>the<space>datetime<space>object<space>to<space>a<space>Unix<space>timestamp<lf><space><space><space><space><space><space><space><space>unix_timestamp<space>=<space>int<openparen>time.mktime<openparen>dt.timetuple<openparen><closeparen><closeparen><closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Add<space>the<space>Unix<space>timestamp<space>as<space>a<space>new<space>attribute<lf><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>TimestampUnix<apos><comma><space>unix_timestamp<closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Concatenate<space>the<space>attributes<space>into<space>a<space>single<space>string<lf><space><space><space><space><space><space><space><space>feature_string<space>=<space>f<quote><apos><opencurly>zone_id<closecurly><apos><comma><apos><opencurly>timezone_id<closecurly><apos><comma><opencurly>capacity<closecurly><comma><opencurly>vehicles<closecurly><comma><opencurly>violations<closecurly><comma><opencurly>enforced_violations<closecurly><comma><opencurly>timestamp_utc<closecurly><comma><opencurly>timestamp_str<closecurly><comma><opencurly>unix_timestamp<closecurly><quote><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Append<space>the<space>feature<space>string<space>to<space>the<space>accumulated<space>string<lf><space><space><space><space><space><space><space><space>if<space>self.accumulated_data:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.accumulated_data<space>+=<space>f<quote><opencurly>feature_string<closecurly><closeparen><comma><space><openparen><quote><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>if<openparen>self.counter<space>==<space>999<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.accumulated_data<space>=<space>self.accumulated_data<openbracket>:-3<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>Create<space>a<space>new<space>output<space>feature<space>with<space>accumulated<space>data<lf><space><space><space><space><space><space><space><space><space><space><space><space>out_feature<space>=<space>fmeobjects.FMEFeature<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>out_feature.setAttribute<openparen><apos>accumulated_data<apos><comma><space>self.accumulated_data.strip<openparen><closeparen><closeparen><space><space>#<space>Remove<space>trailing<space>space<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.pyoutput<openparen>out_feature<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.accumulated_data<space>=<space><quote><openparen><quote><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.counter<space>=<space>0<lf><lf><space><space><space><space>def<space>close<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote>This<space>method<space>is<space>called<space>once<space>all<space>the<space>FME<space>Features<space>have<space>been<space>processed<lf><space><space><space><space><space><space><space><space>from<space>input<openparen><closeparen>.<lf><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space>if<openparen>self.accumulated_data<space>!=<space><quote><openparen><quote><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.accumulated_data<space>=<space>self.accumulated_data<openbracket>:-3<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>Create<space>a<space>new<space>output<space>feature<space>with<space>accumulated<space>data<lf><space><space><space><space><space><space><space><space><space><space><space><space>out_feature<space>=<space>fmeobjects.FMEFeature<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>out_feature.setAttribute<openparen><apos>accumulated_data<apos><comma><space>self.accumulated_data.strip<openparen><closeparen><closeparen><space><space>#<space>Remove<space>trailing<space>space<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.pyoutput<openparen>out_feature<closeparen><lf><space><space><space><space><space><space><space><space>pass<lf><lf><space><space><space><space>def<space>process_group<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote>When<space><apos>Group<space>By<apos><space>attribute<openparen>s<closeparen><space>are<space>specified<comma><space>this<space>method<space>is<space>called<space><lf><space><space><space><space><space><space><space><space>once<space>all<space>the<space>FME<space>Features<space>in<space>a<space>current<space>group<space>have<space>been<space>sent<space>to<space>input<openparen><closeparen>.<lf><lf><space><space><space><space><space><space><space><space>FME<space>Features<space>sent<space>to<space>input<openparen><closeparen><space>should<space>generally<space>be<space>cached<space>for<space>group-by<space><lf><space><space><space><space><space><space><space><space>processing<space>in<space>this<space>method<space>when<space>knowledge<space>of<space>all<space>Features<space>is<space>required.<space><lf><space><space><space><space><space><space><space><space>The<space>resulting<space>Feature<openparen>s<closeparen><space>from<space>the<space>group-by<space>processing<space>should<space>be<space>emitted<space><lf><space><space><space><space><space><space><space><space>through<space>self.pyoutput<openparen><closeparen>.<lf><lf><space><space><space><space><space><space><space><space>FME<space>will<space>continue<space>calling<space>input<openparen><closeparen><space>a<space>number<space>of<space>times<space>followed<lf><space><space><space><space><space><space><space><space>by<space>process_group<openparen><closeparen><space>for<space>each<space><apos>Group<space>By<apos><space>attribute<comma><space>so<space>this<space><lf><space><space><space><space><space><space><space><space>implementation<space>should<space>reset<space>any<space>class<space>members<space>for<space>the<space>next<space>group.<lf><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space>pass<lf><lf><space><space><space><space>def<space>has_support_for<openparen>self<comma><space>support_type<closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote>This<space>method<space>returns<space>whether<space>this<space>PythonCaller<space>supports<space>a<space>certain<space>type.<lf><space><space><space><space><space><space><space><space>The<space>only<space>supported<space>type<space>is<space>fmeobjects.FME_SUPPORT_FEATURE_TABLE_SHIM.<lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>:param<space>int<space>support_type:<space>The<space>support<space>type<space>being<space>queried.<lf><space><space><space><space><space><space><space><space>:returns:<space>True<space>if<space>the<space>passed<space>in<space>support<space>type<space>is<space>supported.<lf><space><space><space><space><space><space><space><space>:rtype:<space>bool<lf><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space>if<space>support_type<space>==<space>fmeobjects.FME_SUPPORT_FEATURE_TABLE_SHIM:<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>If<space>this<space>is<space>set<space>to<space>return<space>True<comma><space>FME<space>will<space>pass<space>features<space>to<space>the<space>input<openparen><closeparen><space>method<space>that<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>come<space>from<space>a<space>feature<space>table<space>object.<space>This<space>allows<space>for<space>significant<space>performance<space>gains<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>when<space>processing<space>large<space>numbers<space>of<space>features.<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>To<space>enable<space>this<comma><space>the<space>following<space>conditions<space>must<space>be<space>met:<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space><space><space>1<closeparen><space>features<space>passed<space>into<space>the<space>input<openparen><closeparen><space>method<space>cannot<space>be<space>copied<space>or<space>cached<space>for<space>later<space>use<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space><space><space>2<closeparen><space>features<space>cannot<space>be<space>read<space>or<space>modified<space>after<space>being<space>passed<space>to<space>self.pyoutput<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space><space><space>3<closeparen><space>Group<space>Processing<space>must<space>not<space>be<space>enabled<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>Violations<space>will<space>cause<space>undefined<space>behavior.<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>False<lf><space><lf><space><space><space><space><space><space><space><space>return<space>False<lf> }    OUTPUT { PYOUTPUT FEATURE_TYPE CreateSQL_Statements_5_OUTPUT         }
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "CreateSQL_Statements_5_OUTPUT Feature Recorder -1 2147614778" INPUT FEATURE_TYPE CreateSQL_Statements_5_OUTPUT FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_CreateSQL_Statements_5 -1 58 fo 0 OUTPUT  0  a0fc5b3868bc1adeed5acdb4b707c5b8f282242d.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { ZoneId,buffer,TimestampUtc,buffer,Timestamp,buffer,TimezoneId,buffer,Capacity,buffer,Vehicles,buffer,Violations,buffer,ViolationsEnforced,buffer,accumulated_data,buffer }  FEAT_TYPE_DISPLAY_NAME { CreateSQL_Statements_5_Output } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
.metadata XFORMER_END CreateSQL_Statements_5;58:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "CreateSQL_Statements_5_OUTPUT Feature Counter -1 60"   INPUT FEATURE_TYPE CreateSQL_Statements_5_OUTPUT   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 60")
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN WriteNewOccupancy_RoseGardenParkade;59:Main
MACRO WriteNewOccupancy_RoseGardenParkade_DIRECTIVES APPLICATION_INTENT ReadWrite NAMED_CONNECTION AWS_UBCParking CREATE_FEATURE_TABLES_FROM_DATA Yes QUERY_FEATURE_TYPES_FOR_MERGE_FILTERS Yes QUERY_TIMEOUT 30
FACTORY_DEF {*} QueryFactory    FACTORY_NAME { WriteNewOccupancy_RoseGardenParkade }    INPUT  FEATURE_TYPE CreateSQL_Statements_5_OUTPUT    QUERY_SQL            { "@EvaluateExpression(FDIV,STRING_ENCODED,INSERT<space>INTO<space>RoseGardenParkade_Occupancy<space><openparen><lf><space><space><space><space><space><space><space><space>zone_id<comma><lf><space><space><space><space><space><space><space><space>TimezoneId<comma><lf><space><space><space><space><space><space><space><space>Capacity<comma><lf><space><space><space><space><space><space><space><space>Vehicles<comma><lf><space><space><space><space><space><space><space><space>Violations<comma><lf><space><space><space><space><space><space><space><space>ViolationsEnforced<comma><lf><space><space><space><space><space><space><space><space>TimestampUtc<comma><lf><space><space><space><space><space><space><space><space>Timestamp<comma><lf><space><space><space><space><space><space><space><space>TimestampUnix<space><closeparen><lf>VALUES<space><lf><space><space><space><space><at>Value<openparen>accumulated_data<closeparen><semicolon><lf>,WriteNewOccupancy_RoseGardenParkade)" }    READER_TYPE          { MSSQL_JDBC_NONSPATIAL_2 }    READER_DATASET       { "AWS_UBCParking" }    COMBINE_ATTRIBUTES   { RESULT_ONLY }    IGNORE_NULLS         { <Unused> }    COMBINE_GEOMETRY     { QUERY_ONLY }    QUERYFCT_OUTPUT      { "BASED_ON_CONNECTIONS" }    CONTINUE_ON_READER_ERROR YES    QUERYFCT_PROPAGATE_IDS_ON_SQL_EXECUTE YES    READER_PARAMS        { $(WriteNewOccupancy_RoseGardenParkade_DIRECTIVES) }    OUTPUT { RESULT FEATURE_TYPE WriteNewOccupancy_RoseGardenParkade_RESULT        @SupplyAttributes(fme_feature_type,WriteNewOccupancy_RoseGardenParkade)         }    OUTPUT { SCHEMA FEATURE_TYPE WriteNewOccupancy_RoseGardenParkade_<SCHEMA>           }    OUTPUT { QUERY FEATURE_TYPE WriteNewOccupancy_RoseGardenParkade_INITIATOR            }    OUTPUT { READER_ERROR FEATURE_TYPE WriteNewOccupancy_RoseGardenParkade_<REJECTED>         }
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "WriteNewOccupancy_RoseGardenParkade_<SCHEMA> Feature Recorder -1 2147614779" INPUT FEATURE_TYPE WriteNewOccupancy_RoseGardenParkade_<SCHEMA> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_WriteNewOccupancy_RoseGardenPark -1 59 fo 0 _lt_SCHEMA_gt_  0  d496f4209cc84637586a2ff80d670e59721359c0.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { fme_feature_type_name,buffer,attribute<opencurly><closecurly>.name,buffer,attribute<opencurly><closecurly>.fme_data_type,buffer,attribute<opencurly><closecurly>.native_data_type,buffer,fme_basename,buffer }  FEAT_TYPE_DISPLAY_NAME { WriteNewOccupancy_RoseGardenParkade_<lt>Schema<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "WriteNewOccupancy_RoseGardenParkade_RESULT Feature Recorder -1 2147680315" INPUT FEATURE_TYPE WriteNewOccupancy_RoseGardenParkade_RESULT FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_WriteNewOccupancy_RoseGardenPark -1 59 fo 1 RESULT  0  711285873e405d2d872464df705bb347e0c5a9f8.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA {  }  FEAT_TYPE_DISPLAY_NAME { WriteNewOccupancy_RoseGardenParkade_Result } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "WriteNewOccupancy_RoseGardenParkade_INITIATOR Feature Recorder -1 2147745851" INPUT FEATURE_TYPE WriteNewOccupancy_RoseGardenParkade_INITIATOR FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_WriteNewOccupancy_RoseGardenPark -1 59 fo 2 INITIATOR  0  c7a4afc52885a73443b8ad54c39326647769dee5.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { ZoneId,buffer,TimestampUtc,buffer,Timestamp,buffer,TimezoneId,buffer,Capacity,buffer,Vehicles,buffer,Violations,buffer,ViolationsEnforced,buffer,accumulated_data,buffer,_matched_records,uint32 }  FEAT_TYPE_DISPLAY_NAME { WriteNewOccupancy_RoseGardenParkade_Initiator } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "WriteNewOccupancy_RoseGardenParkade_<REJECTED> Feature Recorder -1 2147811387" INPUT FEATURE_TYPE WriteNewOccupancy_RoseGardenParkade_<REJECTED> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_WriteNewOccupancy_RoseGardenPark -1 59 fo 3 _lt_REJECTED_gt_  0  146796c353755e7e434c077a0ff37a698a9babce.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { ZoneId,buffer,TimestampUtc,buffer,Timestamp,buffer,TimezoneId,buffer,Capacity,buffer,Vehicles,buffer,Violations,buffer,ViolationsEnforced,buffer,accumulated_data,buffer,_reader_error,buffer }  FEAT_TYPE_DISPLAY_NAME { WriteNewOccupancy_RoseGardenParkade_<lt>Rejected<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
.metadata XFORMER_END WriteNewOccupancy_RoseGardenParkade;59:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "WriteNewOccupancy_RoseGardenParkade_<SCHEMA> Feature Counter -1 2147614779"   INPUT FEATURE_TYPE WriteNewOccupancy_RoseGardenParkade_<SCHEMA>     @LogCount("PORT -1 2147614779")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "WriteNewOccupancy_RoseGardenParkade_RESULT Feature Counter -1 2147680315"   INPUT FEATURE_TYPE WriteNewOccupancy_RoseGardenParkade_RESULT     @LogCount("PORT -1 2147680315")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "WriteNewOccupancy_RoseGardenParkade_INITIATOR Feature Counter -1 2147745851"   INPUT FEATURE_TYPE WriteNewOccupancy_RoseGardenParkade_INITIATOR     @LogCount("PORT -1 2147745851")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "WriteNewOccupancy_RoseGardenParkade_<REJECTED> Feature Counter -1 2147811387"   INPUT FEATURE_TYPE WriteNewOccupancy_RoseGardenParkade_<REJECTED>     @LogCount("PORT -1 2147811387")   NO_LOGGING    OUTPUT FEATURE_TYPE *
DEFAULT_MACRO _WB_BYPASS_TERMINATION No
FACTORY_DEF * TeeFactory FACTORY_NAME WriteNewOccupancy_RoseGardenParkade_<Rejected> INPUT FEATURE_TYPE WriteNewOccupancy_RoseGardenParkade_<REJECTED>  NO_LOGGING   OUTPUT FAILED FEATURE_TYPE * @Abort(ENCODED, WriteNewOccupancy_RoseGardenParkade<space>output<space>a<space><lt>Rejected<gt><space>feature.<space><space>To<space>continue<space>translation<space>when<space>features<space>are<space>rejected<comma><space>change<space><apos>Workspace<space>Parameters<apos><space><gt><space>Translation<space><gt><space><apos>Rejected<space>Feature<space>Handling<apos><space>to<space><apos>Continue<space>Translation<apos>)
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN HealthSciences_Parkade_Latest_Timestamp;25:Main
MACRO HealthSciences_Parkade_Latest_Timestamp_DIRECTIVES APPLICATION_INTENT ReadWrite NAMED_CONNECTION AWS_UBCParking CREATE_FEATURE_TABLES_FROM_DATA Yes QUERY_FEATURE_TYPES_FOR_MERGE_FILTERS Yes QUERY_TIMEOUT 30
FACTORY_DEF {*} QueryFactory    FACTORY_NAME { HealthSciences_Parkade_Latest_Timestamp }    INPUT  FEATURE_TYPE Creator_CREATED_5_HlnuBgcITog=    QUERY_SQL            { "SELECT<space>zone_id<comma><space>MAX<openparen>TimestampUnix<closeparen><space>AS<space>latest_timestamp<space>FROM<space>Parking.dbo.HealthSciencesParkade_Occupancy<space>GROUP<space>BY<space>zone_id<lf>" }    READER_TYPE          { MSSQL_JDBC_NONSPATIAL_2 }    READER_DATASET       { "AWS_UBCParking" }    COMBINE_ATTRIBUTES   { RESULT_ONLY }    IGNORE_NULLS         { <Unused> }    COMBINE_GEOMETRY     { QUERY_ONLY }    QUERYFCT_OUTPUT      { "BASED_ON_CONNECTIONS" }    CONTINUE_ON_READER_ERROR YES    QUERYFCT_PROPAGATE_IDS_ON_SQL_EXECUTE YES    READER_PARAMS        { $(HealthSciences_Parkade_Latest_Timestamp_DIRECTIVES) }    OUTPUT { RESULT FEATURE_TYPE HealthSciences_Parkade_Latest_Timestamp_RESULT        @SupplyAttributes(fme_feature_type,HealthSciences_Parkade_Latest_Timestamp)         }    OUTPUT { SCHEMA FEATURE_TYPE HealthSciences_Parkade_Latest_Timestamp_<SCHEMA>           }    OUTPUT { QUERY FEATURE_TYPE HealthSciences_Parkade_Latest_Timestamp_INITIATOR            }    OUTPUT { READER_ERROR FEATURE_TYPE HealthSciences_Parkade_Latest_Timestamp_<REJECTED>         }
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "HealthSciences_Parkade_Latest_Timestamp_<SCHEMA> Feature Recorder -1 2147614745" INPUT FEATURE_TYPE HealthSciences_Parkade_Latest_Timestamp_<SCHEMA> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_HealthSciences_Parkade_Latest_Ti -1 25 fo 0 _lt_SCHEMA_gt_  0  1875d2e956690e7d6fb14c7ad7731826c9c198cf.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { fme_feature_type_name,buffer,attribute<opencurly><closecurly>.name,buffer,attribute<opencurly><closecurly>.fme_data_type,buffer,attribute<opencurly><closecurly>.native_data_type,buffer,fme_basename,buffer }  FEAT_TYPE_DISPLAY_NAME { HealthSciences_Parkade_Latest_Timestamp_<lt>Schema<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "HealthSciences_Parkade_Latest_Timestamp_RESULT Feature Recorder -1 2147680281" INPUT FEATURE_TYPE HealthSciences_Parkade_Latest_Timestamp_RESULT FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_HealthSciences_Parkade_Latest_Ti -1 25 fo 1 RESULT  0  e6a2d9143c4783be13460a0e7f48974c255d2b21.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { zone_id,varchar<openparen>255<closeparen>,latest_timestamp,int64 }  FEAT_TYPE_DISPLAY_NAME { HealthSciences_Parkade_Latest_Timestamp_Result } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "HealthSciences_Parkade_Latest_Timestamp_INITIATOR Feature Recorder -1 2147745817" INPUT FEATURE_TYPE HealthSciences_Parkade_Latest_Timestamp_INITIATOR FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_HealthSciences_Parkade_Latest_Ti -1 25 fo 2 INITIATOR  0  18feedd158c987c99dcce4b2f890a56774ea153a.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { _creation_instance,uint64,_matched_records,uint32 }  FEAT_TYPE_DISPLAY_NAME { HealthSciences_Parkade_Latest_Timestamp_Initiator } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "HealthSciences_Parkade_Latest_Timestamp_<REJECTED> Feature Recorder -1 2147811353" INPUT FEATURE_TYPE HealthSciences_Parkade_Latest_Timestamp_<REJECTED> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_HealthSciences_Parkade_Latest_Ti -1 25 fo 3 _lt_REJECTED_gt_  0  9f867e2159ce16867642973a4e5c1624b17fa78a.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { _creation_instance,uint64,_reader_error,buffer,zone_id,varchar<openparen>255<closeparen>,latest_timestamp,int64 }  FEAT_TYPE_DISPLAY_NAME { HealthSciences_Parkade_Latest_Timestamp_<lt>Rejected<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
.metadata XFORMER_END HealthSciences_Parkade_Latest_Timestamp;25:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "HealthSciences_Parkade_Latest_Timestamp_<SCHEMA> Feature Counter -1 2147614745"   INPUT FEATURE_TYPE HealthSciences_Parkade_Latest_Timestamp_<SCHEMA>     @LogCount("PORT -1 2147614745")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "HealthSciences_Parkade_Latest_Timestamp_RESULT Feature Counter -1 68"   INPUT FEATURE_TYPE HealthSciences_Parkade_Latest_Timestamp_RESULT   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 68")
FACTORY_DEF * TeeFactory   FACTORY_NAME "HealthSciences_Parkade_Latest_Timestamp_INITIATOR Feature Counter -1 2147745817"   INPUT FEATURE_TYPE HealthSciences_Parkade_Latest_Timestamp_INITIATOR     @LogCount("PORT -1 2147745817")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "HealthSciences_Parkade_Latest_Timestamp_<REJECTED> Feature Counter -1 2147811353"   INPUT FEATURE_TYPE HealthSciences_Parkade_Latest_Timestamp_<REJECTED>     @LogCount("PORT -1 2147811353")   NO_LOGGING    OUTPUT FEATURE_TYPE *
DEFAULT_MACRO _WB_BYPASS_TERMINATION No
FACTORY_DEF * TeeFactory FACTORY_NAME HealthSciences_Parkade_Latest_Timestamp_<Rejected> INPUT FEATURE_TYPE HealthSciences_Parkade_Latest_Timestamp_<REJECTED>  NO_LOGGING   OUTPUT FAILED FEATURE_TYPE * @Abort(ENCODED, HealthSciences_Parkade_Latest_Timestamp<space>output<space>a<space><lt>Rejected<gt><space>feature.<space><space>To<space>continue<space>translation<space>when<space>features<space>are<space>rejected<comma><space>change<space><apos>Workspace<space>Parameters<apos><space><gt><space>Translation<space><gt><space><apos>Rejected<space>Feature<space>Handling<apos><space>to<space><apos>Continue<space>Translation<apos>)
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN ReadNewOccupancy_HealthSciencesParkade;63:Main
MACRO ReadNewOccupancy_HealthSciencesParkade_DIRECTIVES QUERY_FEATURE_TYPES_FOR_MERGE_FILTERS Yes CREATE_FEATURE_TABLES_FROM_DATA Yes QUERY_TIMEOUT 30 NAMED_CONNECTION Autovu APPLICATION_INTENT ReadWrite
FACTORY_DEF {*} QueryFactory    FACTORY_NAME { ReadNewOccupancy_HealthSciencesParkade }    INPUT  FEATURE_TYPE HealthSciences_Parkade_Latest_Timestamp_RESULT    QUERY_SQL            { "@EvaluateExpression(FDIV,STRING_ENCODED,DECLARE<space><at>formatted_timestamp<space>VARCHAR<openparen>30<closeparen><semicolon><lf><lf>SET<space><at>formatted_timestamp<space>=<space>DATEADD<openparen>SECOND<comma><space><at>Value<openparen>latest_timestamp<closeparen><space>-<space>25200<comma><space><apos>1970-01-01<apos><closeparen><semicolon><lf><lf>SELECT<space>*<lf>FROM<space>dbo.ParkingOccupancies<lf>WHERE<space>Timestamp<space><gt><space><at>formatted_timestamp<lf><space><space>AND<space>ZoneId<space>=<space><apos><at>Value<openparen>zone_id<closeparen><apos><semicolon><lf>,ReadNewOccupancy_HealthSciencesParkade)" }    READER_TYPE          { MSSQL_JDBC_NONSPATIAL_2 }    READER_DATASET       { "Autovu" }    COMBINE_ATTRIBUTES   { RESULT_ONLY }    IGNORE_NULLS         { <Unused> }    COMBINE_GEOMETRY     { QUERY_ONLY }    QUERYFCT_OUTPUT      { "BASED_ON_CONNECTIONS" }    CONTINUE_ON_READER_ERROR YES    QUERYFCT_PROPAGATE_IDS_ON_SQL_EXECUTE YES    READER_PARAMS        { $(ReadNewOccupancy_HealthSciencesParkade_DIRECTIVES) }    OUTPUT { RESULT FEATURE_TYPE ReadNewOccupancy_HealthSciencesParkade_RESULT        @SupplyAttributes(fme_feature_type,ReadNewOccupancy_HealthSciencesParkade)         }    OUTPUT { SCHEMA FEATURE_TYPE ReadNewOccupancy_HealthSciencesParkade_<SCHEMA>           }    OUTPUT { QUERY FEATURE_TYPE ReadNewOccupancy_HealthSciencesParkade_INITIATOR            }    OUTPUT { READER_ERROR FEATURE_TYPE ReadNewOccupancy_HealthSciencesParkade_<REJECTED>         }
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "ReadNewOccupancy_HealthSciencesParkade_<SCHEMA> Feature Recorder -1 2147614783" INPUT FEATURE_TYPE ReadNewOccupancy_HealthSciencesParkade_<SCHEMA> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_ReadNewOccupancy_HealthSciencesP -1 63 fo 0 _lt_SCHEMA_gt_  0  17021ba1c435b9ac3611da428831cd5e3fc225cf.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { fme_feature_type_name,buffer,attribute<opencurly><closecurly>.name,buffer,attribute<opencurly><closecurly>.fme_data_type,buffer,attribute<opencurly><closecurly>.native_data_type,buffer,fme_basename,buffer }  FEAT_TYPE_DISPLAY_NAME { ReadNewOccupancy_HealthSciencesParkade_<lt>Schema<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "ReadNewOccupancy_HealthSciencesParkade_RESULT Feature Recorder -1 2147680319" INPUT FEATURE_TYPE ReadNewOccupancy_HealthSciencesParkade_RESULT FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_ReadNewOccupancy_HealthSciencesP -1 63 fo 1 RESULT  0  e7ac778c80cbecb75faa0790ca13bc3b982f9d12.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { ZoneId,buffer,TimestampUtc,buffer,Timestamp,buffer,TimezoneId,buffer,Capacity,buffer,Vehicles,buffer,Violations,buffer,ViolationsEnforced,buffer }  FEAT_TYPE_DISPLAY_NAME { ReadNewOccupancy_HealthSciencesParkade_Result } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "ReadNewOccupancy_HealthSciencesParkade_INITIATOR Feature Recorder -1 2147745855" INPUT FEATURE_TYPE ReadNewOccupancy_HealthSciencesParkade_INITIATOR FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_ReadNewOccupancy_HealthSciencesP -1 63 fo 2 INITIATOR  0  3e082ac4040c026cee5b92fd9c2e72bbc889f35e.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { zone_id,varchar<openparen>255<closeparen>,latest_timestamp,int64,_matched_records,uint32 }  FEAT_TYPE_DISPLAY_NAME { ReadNewOccupancy_HealthSciencesParkade_Initiator } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "ReadNewOccupancy_HealthSciencesParkade_<REJECTED> Feature Recorder -1 2147811391" INPUT FEATURE_TYPE ReadNewOccupancy_HealthSciencesParkade_<REJECTED> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_ReadNewOccupancy_HealthSciencesP -1 63 fo 3 _lt_REJECTED_gt_  0  9b38f2e8688050fa2c69e2048d03d68d8e167ce5.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { zone_id,varchar<openparen>255<closeparen>,latest_timestamp,int64,_reader_error,buffer,ZoneId,buffer,TimestampUtc,buffer,Timestamp,buffer,TimezoneId,buffer,Capacity,buffer,Vehicles,buffer,Violations,buffer,ViolationsEnforced,buffer }  FEAT_TYPE_DISPLAY_NAME { ReadNewOccupancy_HealthSciencesParkade_<lt>Rejected<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
.metadata XFORMER_END ReadNewOccupancy_HealthSciencesParkade;63:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "ReadNewOccupancy_HealthSciencesParkade_<SCHEMA> Feature Counter -1 2147614783"   INPUT FEATURE_TYPE ReadNewOccupancy_HealthSciencesParkade_<SCHEMA>     @LogCount("PORT -1 2147614783")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "ReadNewOccupancy_HealthSciencesParkade_RESULT Feature Counter -1 67"   INPUT FEATURE_TYPE ReadNewOccupancy_HealthSciencesParkade_RESULT   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 67")
FACTORY_DEF * TeeFactory   FACTORY_NAME "ReadNewOccupancy_HealthSciencesParkade_INITIATOR Feature Counter -1 2147745855"   INPUT FEATURE_TYPE ReadNewOccupancy_HealthSciencesParkade_INITIATOR     @LogCount("PORT -1 2147745855")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "ReadNewOccupancy_HealthSciencesParkade_<REJECTED> Feature Counter -1 2147811391"   INPUT FEATURE_TYPE ReadNewOccupancy_HealthSciencesParkade_<REJECTED>     @LogCount("PORT -1 2147811391")   NO_LOGGING    OUTPUT FEATURE_TYPE *
DEFAULT_MACRO _WB_BYPASS_TERMINATION No
FACTORY_DEF * TeeFactory FACTORY_NAME ReadNewOccupancy_HealthSciencesParkade_<Rejected> INPUT FEATURE_TYPE ReadNewOccupancy_HealthSciencesParkade_<REJECTED>  NO_LOGGING   OUTPUT FAILED FEATURE_TYPE * @Abort(ENCODED, ReadNewOccupancy_HealthSciencesParkade<space>output<space>a<space><lt>Rejected<gt><space>feature.<space><space>To<space>continue<space>translation<space>when<space>features<space>are<space>rejected<comma><space>change<space><apos>Workspace<space>Parameters<apos><space><gt><space>Translation<space><gt><space><apos>Rejected<space>Feature<space>Handling<apos><space>to<space><apos>Continue<space>Translation<apos>)
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN CreateSQL_Statements_6;64:Main
FME_PYTHON_PATH "$(FME_MF_DIR)"
FACTORY_DEF {*} PythonFactory    FACTORY_NAME { CreateSQL_Statements_6 }    FLUSH_WHEN_GROUPS_CHANGE { <Unused> }    INPUT  FEATURE_TYPE ReadNewOccupancy_HealthSciencesParkade_RESULT    SYMBOL_NAME { FeatureProcessor }    PYTHON_NAMESPACE FMEOBJECTS    SOURCE_CODE { import<space>fme<lf>import<space>fmeobjects<lf>import<space>datetime<lf>import<space>time<lf><lf>class<space>FeatureProcessor<openparen>object<closeparen>:<lf><space><space><space><space><quote><quote><quote>Template<space>Class<space>Interface:<lf><space><space><space><space>When<space>using<space>this<space>class<comma><space>make<space>sure<space>its<space>name<space>is<space>set<space>as<space>the<space>value<space>of<space>the<space><apos>Class<lf><space><space><space><space>to<space>Process<space>Features<apos><space>transformer<space>parameter.<lf><space><space><space><space><quote><quote><quote><lf><lf><space><space><space><space>def<space>__init__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote>Base<space>constructor<space>for<space>class<space>members.<quote><quote><quote><lf><space><space><space><space><space><space><space><space>self.accumulated_data<space>=<space><quote><openparen><quote><lf><space><space><space><space><space><space><space><space>self.counter<space>=<space>0<lf><space><space><space><space><space><space><space><space>pass<lf><lf><space><space><space><space>def<space>input<openparen>self<comma><space>feature<closeparen>:<lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>self.counter<space>=<space>self.counter<space>+<space>1<lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Get<space>the<space>required<space>attributes<space>from<space>the<space>feature<lf><space><space><space><space><space><space><space><space>zone_id<space>=<space>feature.getAttribute<openparen><apos>ZoneId<apos><closeparen><lf><space><space><space><space><space><space><space><space>timezone_id<space>=<space>feature.getAttribute<openparen><apos>TimezoneId<apos><closeparen><lf><space><space><space><space><space><space><space><space>capacity<space>=<space>feature.getAttribute<openparen><apos>Capacity<apos><closeparen><lf><space><space><space><space><space><space><space><space>vehicles<space>=<space>feature.getAttribute<openparen><apos>Vehicles<apos><closeparen><lf><space><space><space><space><space><space><space><space>violations<space>=<space>feature.getAttribute<openparen><apos>Violations<apos><closeparen><lf><space><space><space><space><space><space><space><space>enforced_violations<space>=<space>feature.getAttribute<openparen><apos>ViolationsEnforced<apos><closeparen><lf><space><space><space><space><space><space><space><space>timestamp_utc<space>=<space>feature.getAttribute<openparen><apos>TimestampUtc<apos><closeparen><lf><space><space><space><space><space><space><space><space>timestamp_str<space>=<space>feature.getAttribute<openparen><apos>Timestamp<apos><closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Define<space>the<space>format<space>of<space>the<space>incoming<space>timestamp<lf><space><space><space><space><space><space><space><space>format_str<space>=<space><apos>%Y%m%d%H%M%S.%f<apos><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Adjust<space>the<space>timestamp<space>string<space>to<space>ensure<space>it<space>matches<space>the<space>expected<space>format<lf><space><space><space><space><space><space><space><space>if<space>len<openparen>timestamp_str.split<openparen><apos>.<apos><closeparen><openbracket>1<closebracket><closeparen><space><gt><space>6:<lf><space><space><space><space><space><space><space><space><space><space><space><space>timestamp_str<space>=<space>timestamp_str<openbracket>:21<closebracket><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Convert<space>the<space>timestamp<space>string<space>to<space>a<space>datetime<space>object<lf><space><space><space><space><space><space><space><space>dt<space>=<space>datetime.datetime.strptime<openparen>timestamp_str<comma><space>format_str<closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Convert<space>the<space>datetime<space>object<space>to<space>a<space>Unix<space>timestamp<lf><space><space><space><space><space><space><space><space>unix_timestamp<space>=<space>int<openparen>time.mktime<openparen>dt.timetuple<openparen><closeparen><closeparen><closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Add<space>the<space>Unix<space>timestamp<space>as<space>a<space>new<space>attribute<lf><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>TimestampUnix<apos><comma><space>unix_timestamp<closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Concatenate<space>the<space>attributes<space>into<space>a<space>single<space>string<lf><space><space><space><space><space><space><space><space>feature_string<space>=<space>f<quote><apos><opencurly>zone_id<closecurly><apos><comma><apos><opencurly>timezone_id<closecurly><apos><comma><opencurly>capacity<closecurly><comma><opencurly>vehicles<closecurly><comma><opencurly>violations<closecurly><comma><opencurly>enforced_violations<closecurly><comma><opencurly>timestamp_utc<closecurly><comma><opencurly>timestamp_str<closecurly><comma><opencurly>unix_timestamp<closecurly><quote><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Append<space>the<space>feature<space>string<space>to<space>the<space>accumulated<space>string<lf><space><space><space><space><space><space><space><space>if<space>self.accumulated_data:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.accumulated_data<space>+=<space>f<quote><opencurly>feature_string<closecurly><closeparen><comma><space><openparen><quote><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>if<openparen>self.counter<space>==<space>999<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.accumulated_data<space>=<space>self.accumulated_data<openbracket>:-3<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>Create<space>a<space>new<space>output<space>feature<space>with<space>accumulated<space>data<lf><space><space><space><space><space><space><space><space><space><space><space><space>out_feature<space>=<space>fmeobjects.FMEFeature<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>out_feature.setAttribute<openparen><apos>accumulated_data<apos><comma><space>self.accumulated_data.strip<openparen><closeparen><closeparen><space><space>#<space>Remove<space>trailing<space>space<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.pyoutput<openparen>out_feature<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.accumulated_data<space>=<space><quote><openparen><quote><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.counter<space>=<space>0<lf><lf><space><space><space><space>def<space>close<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote>This<space>method<space>is<space>called<space>once<space>all<space>the<space>FME<space>Features<space>have<space>been<space>processed<lf><space><space><space><space><space><space><space><space>from<space>input<openparen><closeparen>.<lf><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space>if<openparen>self.accumulated_data<space>!=<space><quote><openparen><quote><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.accumulated_data<space>=<space>self.accumulated_data<openbracket>:-3<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>Create<space>a<space>new<space>output<space>feature<space>with<space>accumulated<space>data<lf><space><space><space><space><space><space><space><space><space><space><space><space>out_feature<space>=<space>fmeobjects.FMEFeature<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>out_feature.setAttribute<openparen><apos>accumulated_data<apos><comma><space>self.accumulated_data.strip<openparen><closeparen><closeparen><space><space>#<space>Remove<space>trailing<space>space<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.pyoutput<openparen>out_feature<closeparen><lf><space><space><space><space><space><space><space><space>pass<lf><lf><space><space><space><space>def<space>process_group<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote>When<space><apos>Group<space>By<apos><space>attribute<openparen>s<closeparen><space>are<space>specified<comma><space>this<space>method<space>is<space>called<space><lf><space><space><space><space><space><space><space><space>once<space>all<space>the<space>FME<space>Features<space>in<space>a<space>current<space>group<space>have<space>been<space>sent<space>to<space>input<openparen><closeparen>.<lf><lf><space><space><space><space><space><space><space><space>FME<space>Features<space>sent<space>to<space>input<openparen><closeparen><space>should<space>generally<space>be<space>cached<space>for<space>group-by<space><lf><space><space><space><space><space><space><space><space>processing<space>in<space>this<space>method<space>when<space>knowledge<space>of<space>all<space>Features<space>is<space>required.<space><lf><space><space><space><space><space><space><space><space>The<space>resulting<space>Feature<openparen>s<closeparen><space>from<space>the<space>group-by<space>processing<space>should<space>be<space>emitted<space><lf><space><space><space><space><space><space><space><space>through<space>self.pyoutput<openparen><closeparen>.<lf><lf><space><space><space><space><space><space><space><space>FME<space>will<space>continue<space>calling<space>input<openparen><closeparen><space>a<space>number<space>of<space>times<space>followed<lf><space><space><space><space><space><space><space><space>by<space>process_group<openparen><closeparen><space>for<space>each<space><apos>Group<space>By<apos><space>attribute<comma><space>so<space>this<space><lf><space><space><space><space><space><space><space><space>implementation<space>should<space>reset<space>any<space>class<space>members<space>for<space>the<space>next<space>group.<lf><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space>pass<lf><lf><space><space><space><space>def<space>has_support_for<openparen>self<comma><space>support_type<closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote>This<space>method<space>returns<space>whether<space>this<space>PythonCaller<space>supports<space>a<space>certain<space>type.<lf><space><space><space><space><space><space><space><space>The<space>only<space>supported<space>type<space>is<space>fmeobjects.FME_SUPPORT_FEATURE_TABLE_SHIM.<lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>:param<space>int<space>support_type:<space>The<space>support<space>type<space>being<space>queried.<lf><space><space><space><space><space><space><space><space>:returns:<space>True<space>if<space>the<space>passed<space>in<space>support<space>type<space>is<space>supported.<lf><space><space><space><space><space><space><space><space>:rtype:<space>bool<lf><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space>if<space>support_type<space>==<space>fmeobjects.FME_SUPPORT_FEATURE_TABLE_SHIM:<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>If<space>this<space>is<space>set<space>to<space>return<space>True<comma><space>FME<space>will<space>pass<space>features<space>to<space>the<space>input<openparen><closeparen><space>method<space>that<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>come<space>from<space>a<space>feature<space>table<space>object.<space>This<space>allows<space>for<space>significant<space>performance<space>gains<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>when<space>processing<space>large<space>numbers<space>of<space>features.<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>To<space>enable<space>this<comma><space>the<space>following<space>conditions<space>must<space>be<space>met:<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space><space><space>1<closeparen><space>features<space>passed<space>into<space>the<space>input<openparen><closeparen><space>method<space>cannot<space>be<space>copied<space>or<space>cached<space>for<space>later<space>use<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space><space><space>2<closeparen><space>features<space>cannot<space>be<space>read<space>or<space>modified<space>after<space>being<space>passed<space>to<space>self.pyoutput<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space><space><space>3<closeparen><space>Group<space>Processing<space>must<space>not<space>be<space>enabled<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>Violations<space>will<space>cause<space>undefined<space>behavior.<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>False<lf><space><lf><space><space><space><space><space><space><space><space>return<space>False<lf> }    OUTPUT { PYOUTPUT FEATURE_TYPE CreateSQL_Statements_6_OUTPUT         }
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "CreateSQL_Statements_6_OUTPUT Feature Recorder -1 2147614784" INPUT FEATURE_TYPE CreateSQL_Statements_6_OUTPUT FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_CreateSQL_Statements_6 -1 64 fo 0 OUTPUT  0  b4f09c49ef79849f7125616b95a9ef934f06d3ee.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { ZoneId,buffer,TimestampUtc,buffer,Timestamp,buffer,TimezoneId,buffer,Capacity,buffer,Vehicles,buffer,Violations,buffer,ViolationsEnforced,buffer,accumulated_data,buffer }  FEAT_TYPE_DISPLAY_NAME { CreateSQL_Statements_6_Output } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
.metadata XFORMER_END CreateSQL_Statements_6;64:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "CreateSQL_Statements_6_OUTPUT Feature Counter -1 66"   INPUT FEATURE_TYPE CreateSQL_Statements_6_OUTPUT   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 66")
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN WriteNewOccupancy_HealthSciencesParkade;65:Main
MACRO WriteNewOccupancy_HealthSciencesParkade_DIRECTIVES APPLICATION_INTENT ReadWrite NAMED_CONNECTION AWS_UBCParking CREATE_FEATURE_TABLES_FROM_DATA Yes QUERY_FEATURE_TYPES_FOR_MERGE_FILTERS Yes QUERY_TIMEOUT 30
FACTORY_DEF {*} QueryFactory    FACTORY_NAME { WriteNewOccupancy_HealthSciencesParkade }    INPUT  FEATURE_TYPE CreateSQL_Statements_6_OUTPUT    QUERY_SQL            { "@EvaluateExpression(FDIV,STRING_ENCODED,INSERT<space>INTO<space>HealthSciencesParkade_Occupancy<space><openparen><lf><space><space><space><space><space><space><space><space>zone_id<comma><lf><space><space><space><space><space><space><space><space>TimezoneId<comma><lf><space><space><space><space><space><space><space><space>Capacity<comma><lf><space><space><space><space><space><space><space><space>Vehicles<comma><lf><space><space><space><space><space><space><space><space>Violations<comma><lf><space><space><space><space><space><space><space><space>ViolationsEnforced<comma><lf><space><space><space><space><space><space><space><space>TimestampUtc<comma><lf><space><space><space><space><space><space><space><space>Timestamp<comma><lf><space><space><space><space><space><space><space><space>TimestampUnix<space><closeparen><lf>VALUES<space><lf><space><space><space><space><at>Value<openparen>accumulated_data<closeparen><semicolon><lf>,WriteNewOccupancy_HealthSciencesParkade)" }    READER_TYPE          { MSSQL_JDBC_NONSPATIAL_2 }    READER_DATASET       { "AWS_UBCParking" }    COMBINE_ATTRIBUTES   { RESULT_ONLY }    IGNORE_NULLS         { <Unused> }    COMBINE_GEOMETRY     { QUERY_ONLY }    QUERYFCT_OUTPUT      { "BASED_ON_CONNECTIONS" }    CONTINUE_ON_READER_ERROR YES    QUERYFCT_PROPAGATE_IDS_ON_SQL_EXECUTE YES    READER_PARAMS        { $(WriteNewOccupancy_HealthSciencesParkade_DIRECTIVES) }    OUTPUT { RESULT FEATURE_TYPE WriteNewOccupancy_HealthSciencesParkade_RESULT        @SupplyAttributes(fme_feature_type,WriteNewOccupancy_HealthSciencesParkade)         }    OUTPUT { SCHEMA FEATURE_TYPE WriteNewOccupancy_HealthSciencesParkade_<SCHEMA>           }    OUTPUT { QUERY FEATURE_TYPE WriteNewOccupancy_HealthSciencesParkade_INITIATOR            }    OUTPUT { READER_ERROR FEATURE_TYPE WriteNewOccupancy_HealthSciencesParkade_<REJECTED>         }
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "WriteNewOccupancy_HealthSciencesParkade_<SCHEMA> Feature Recorder -1 2147614785" INPUT FEATURE_TYPE WriteNewOccupancy_HealthSciencesParkade_<SCHEMA> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_WriteNewOccupancy_HealthSciences -1 65 fo 0 _lt_SCHEMA_gt_  0  7c7b30fa42147f3f845ed7ce3f9f8d957c9b51b5.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { fme_feature_type_name,buffer,attribute<opencurly><closecurly>.name,buffer,attribute<opencurly><closecurly>.fme_data_type,buffer,attribute<opencurly><closecurly>.native_data_type,buffer,fme_basename,buffer }  FEAT_TYPE_DISPLAY_NAME { WriteNewOccupancy_HealthSciencesParkade_<lt>Schema<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "WriteNewOccupancy_HealthSciencesParkade_RESULT Feature Recorder -1 2147680321" INPUT FEATURE_TYPE WriteNewOccupancy_HealthSciencesParkade_RESULT FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_WriteNewOccupancy_HealthSciences -1 65 fo 1 RESULT  0  839b82fe8367d05d06d9c6aa9ed1009658f43956.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA {  }  FEAT_TYPE_DISPLAY_NAME { WriteNewOccupancy_HealthSciencesParkade_Result } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "WriteNewOccupancy_HealthSciencesParkade_INITIATOR Feature Recorder -1 2147745857" INPUT FEATURE_TYPE WriteNewOccupancy_HealthSciencesParkade_INITIATOR FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_WriteNewOccupancy_HealthSciences -1 65 fo 2 INITIATOR  0  98cbdbcddafd9400a0fd1f645b66b18373c4bc9b.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { ZoneId,buffer,TimestampUtc,buffer,Timestamp,buffer,TimezoneId,buffer,Capacity,buffer,Vehicles,buffer,Violations,buffer,ViolationsEnforced,buffer,accumulated_data,buffer,_matched_records,uint32 }  FEAT_TYPE_DISPLAY_NAME { WriteNewOccupancy_HealthSciencesParkade_Initiator } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "WriteNewOccupancy_HealthSciencesParkade_<REJECTED> Feature Recorder -1 2147811393" INPUT FEATURE_TYPE WriteNewOccupancy_HealthSciencesParkade_<REJECTED> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_WriteNewOccupancy_HealthSciences -1 65 fo 3 _lt_REJECTED_gt_  0  2efa35c191a35b11d6e251ea3f77bd3d0a983042.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { ZoneId,buffer,TimestampUtc,buffer,Timestamp,buffer,TimezoneId,buffer,Capacity,buffer,Vehicles,buffer,Violations,buffer,ViolationsEnforced,buffer,accumulated_data,buffer,_reader_error,buffer }  FEAT_TYPE_DISPLAY_NAME { WriteNewOccupancy_HealthSciencesParkade_<lt>Rejected<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
.metadata XFORMER_END WriteNewOccupancy_HealthSciencesParkade;65:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "WriteNewOccupancy_HealthSciencesParkade_<SCHEMA> Feature Counter -1 2147614785"   INPUT FEATURE_TYPE WriteNewOccupancy_HealthSciencesParkade_<SCHEMA>     @LogCount("PORT -1 2147614785")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "WriteNewOccupancy_HealthSciencesParkade_RESULT Feature Counter -1 2147680321"   INPUT FEATURE_TYPE WriteNewOccupancy_HealthSciencesParkade_RESULT     @LogCount("PORT -1 2147680321")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "WriteNewOccupancy_HealthSciencesParkade_INITIATOR Feature Counter -1 2147745857"   INPUT FEATURE_TYPE WriteNewOccupancy_HealthSciencesParkade_INITIATOR     @LogCount("PORT -1 2147745857")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "WriteNewOccupancy_HealthSciencesParkade_<REJECTED> Feature Counter -1 2147811393"   INPUT FEATURE_TYPE WriteNewOccupancy_HealthSciencesParkade_<REJECTED>     @LogCount("PORT -1 2147811393")   NO_LOGGING    OUTPUT FEATURE_TYPE *
DEFAULT_MACRO _WB_BYPASS_TERMINATION No
FACTORY_DEF * TeeFactory FACTORY_NAME WriteNewOccupancy_HealthSciencesParkade_<Rejected> INPUT FEATURE_TYPE WriteNewOccupancy_HealthSciencesParkade_<REJECTED>  NO_LOGGING   OUTPUT FAILED FEATURE_TYPE * @Abort(ENCODED, WriteNewOccupancy_HealthSciencesParkade<space>output<space>a<space><lt>Rejected<gt><space>feature.<space><space>To<space>continue<space>translation<space>when<space>features<space>are<space>rejected<comma><space>change<space><apos>Workspace<space>Parameters<apos><space><gt><space>Translation<space><gt><space><apos>Rejected<space>Feature<space>Handling<apos><space>to<space><apos>Continue<space>Translation<apos>)
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN UnivWstBlvd_Parkade_Latest_Timestamp;26:Main
MACRO UnivWstBlvd_Parkade_Latest_Timestamp_DIRECTIVES APPLICATION_INTENT ReadWrite NAMED_CONNECTION AWS_UBCParking CREATE_FEATURE_TABLES_FROM_DATA Yes QUERY_FEATURE_TYPES_FOR_MERGE_FILTERS Yes QUERY_TIMEOUT 30
FACTORY_DEF {*} QueryFactory    FACTORY_NAME { UnivWstBlvd_Parkade_Latest_Timestamp }    INPUT  FEATURE_TYPE Creator_CREATED_6_62VWAKFdvog=    QUERY_SQL            { "SELECT<space>zone_id<comma><space>MAX<openparen>TimestampUnix<closeparen><space>AS<space>latest_timestamp<space>FROM<space>Parking.dbo.UnivWstBlvdParkade_Occupancy<space>GROUP<space>BY<space>zone_id<lf>" }    READER_TYPE          { MSSQL_JDBC_NONSPATIAL_2 }    READER_DATASET       { "AWS_UBCParking" }    COMBINE_ATTRIBUTES   { RESULT_ONLY }    IGNORE_NULLS         { <Unused> }    COMBINE_GEOMETRY     { QUERY_ONLY }    QUERYFCT_OUTPUT      { "BASED_ON_CONNECTIONS" }    CONTINUE_ON_READER_ERROR YES    QUERYFCT_PROPAGATE_IDS_ON_SQL_EXECUTE YES    READER_PARAMS        { $(UnivWstBlvd_Parkade_Latest_Timestamp_DIRECTIVES) }    OUTPUT { RESULT FEATURE_TYPE UnivWstBlvd_Parkade_Latest_Timestamp_RESULT        @SupplyAttributes(fme_feature_type,UnivWstBlvd_Parkade_Latest_Timestamp)         }    OUTPUT { SCHEMA FEATURE_TYPE UnivWstBlvd_Parkade_Latest_Timestamp_<SCHEMA>           }    OUTPUT { QUERY FEATURE_TYPE UnivWstBlvd_Parkade_Latest_Timestamp_INITIATOR            }    OUTPUT { READER_ERROR FEATURE_TYPE UnivWstBlvd_Parkade_Latest_Timestamp_<REJECTED>         }
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "UnivWstBlvd_Parkade_Latest_Timestamp_<SCHEMA> Feature Recorder -1 2147614746" INPUT FEATURE_TYPE UnivWstBlvd_Parkade_Latest_Timestamp_<SCHEMA> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_UnivWstBlvd_Parkade_Latest_Times -1 26 fo 0 _lt_SCHEMA_gt_  0  3ae8f4681a6dc3005841f52b371085685c7f6d99.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { fme_feature_type_name,buffer,attribute<opencurly><closecurly>.name,buffer,attribute<opencurly><closecurly>.fme_data_type,buffer,attribute<opencurly><closecurly>.native_data_type,buffer,fme_basename,buffer }  FEAT_TYPE_DISPLAY_NAME { UnivWstBlvd_Parkade_Latest_Timestamp_<lt>Schema<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "UnivWstBlvd_Parkade_Latest_Timestamp_RESULT Feature Recorder -1 2147680282" INPUT FEATURE_TYPE UnivWstBlvd_Parkade_Latest_Timestamp_RESULT FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_UnivWstBlvd_Parkade_Latest_Times -1 26 fo 1 RESULT  0  cac757181bebdda32c969ce0e911f5bf0ebf5359.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { zone_id,varchar<openparen>255<closeparen>,latest_timestamp,int64 }  FEAT_TYPE_DISPLAY_NAME { UnivWstBlvd_Parkade_Latest_Timestamp_Result } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "UnivWstBlvd_Parkade_Latest_Timestamp_INITIATOR Feature Recorder -1 2147745818" INPUT FEATURE_TYPE UnivWstBlvd_Parkade_Latest_Timestamp_INITIATOR FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_UnivWstBlvd_Parkade_Latest_Times -1 26 fo 2 INITIATOR  0  3125977a0887775efa9ebd203d74cf7bf98e3ca9.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { _creation_instance,uint64,_matched_records,uint32 }  FEAT_TYPE_DISPLAY_NAME { UnivWstBlvd_Parkade_Latest_Timestamp_Initiator } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "UnivWstBlvd_Parkade_Latest_Timestamp_<REJECTED> Feature Recorder -1 2147811354" INPUT FEATURE_TYPE UnivWstBlvd_Parkade_Latest_Timestamp_<REJECTED> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_UnivWstBlvd_Parkade_Latest_Times -1 26 fo 3 _lt_REJECTED_gt_  0  b1b145897cb9a5ac0036a7baa99a44efbcc55247.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { _creation_instance,uint64,_reader_error,buffer,zone_id,varchar<openparen>255<closeparen>,latest_timestamp,int64 }  FEAT_TYPE_DISPLAY_NAME { UnivWstBlvd_Parkade_Latest_Timestamp_<lt>Rejected<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
.metadata XFORMER_END UnivWstBlvd_Parkade_Latest_Timestamp;26:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "UnivWstBlvd_Parkade_Latest_Timestamp_<SCHEMA> Feature Counter -1 2147614746"   INPUT FEATURE_TYPE UnivWstBlvd_Parkade_Latest_Timestamp_<SCHEMA>     @LogCount("PORT -1 2147614746")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "UnivWstBlvd_Parkade_Latest_Timestamp_RESULT Feature Counter -1 74"   INPUT FEATURE_TYPE UnivWstBlvd_Parkade_Latest_Timestamp_RESULT   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 74")
FACTORY_DEF * TeeFactory   FACTORY_NAME "UnivWstBlvd_Parkade_Latest_Timestamp_INITIATOR Feature Counter -1 2147745818"   INPUT FEATURE_TYPE UnivWstBlvd_Parkade_Latest_Timestamp_INITIATOR     @LogCount("PORT -1 2147745818")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "UnivWstBlvd_Parkade_Latest_Timestamp_<REJECTED> Feature Counter -1 2147811354"   INPUT FEATURE_TYPE UnivWstBlvd_Parkade_Latest_Timestamp_<REJECTED>     @LogCount("PORT -1 2147811354")   NO_LOGGING    OUTPUT FEATURE_TYPE *
DEFAULT_MACRO _WB_BYPASS_TERMINATION No
FACTORY_DEF * TeeFactory FACTORY_NAME UnivWstBlvd_Parkade_Latest_Timestamp_<Rejected> INPUT FEATURE_TYPE UnivWstBlvd_Parkade_Latest_Timestamp_<REJECTED>  NO_LOGGING   OUTPUT FAILED FEATURE_TYPE * @Abort(ENCODED, UnivWstBlvd_Parkade_Latest_Timestamp<space>output<space>a<space><lt>Rejected<gt><space>feature.<space><space>To<space>continue<space>translation<space>when<space>features<space>are<space>rejected<comma><space>change<space><apos>Workspace<space>Parameters<apos><space><gt><space>Translation<space><gt><space><apos>Rejected<space>Feature<space>Handling<apos><space>to<space><apos>Continue<space>Translation<apos>)
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN ReadNewOccupancy_UnivWstBlvdParkade;69:Main
MACRO ReadNewOccupancy_UnivWstBlvdParkade_DIRECTIVES QUERY_FEATURE_TYPES_FOR_MERGE_FILTERS Yes CREATE_FEATURE_TABLES_FROM_DATA Yes QUERY_TIMEOUT 30 NAMED_CONNECTION Autovu APPLICATION_INTENT ReadWrite
FACTORY_DEF {*} QueryFactory    FACTORY_NAME { ReadNewOccupancy_UnivWstBlvdParkade }    INPUT  FEATURE_TYPE UnivWstBlvd_Parkade_Latest_Timestamp_RESULT    QUERY_SQL            { "@EvaluateExpression(FDIV,STRING_ENCODED,DECLARE<space><at>formatted_timestamp<space>VARCHAR<openparen>30<closeparen><semicolon><lf><lf>SET<space><at>formatted_timestamp<space>=<space>DATEADD<openparen>SECOND<comma><space><at>Value<openparen>latest_timestamp<closeparen><space>-<space>25200<comma><space><apos>1970-01-01<apos><closeparen><semicolon><lf><lf>SELECT<space>*<lf>FROM<space>dbo.ParkingOccupancies<lf>WHERE<space>Timestamp<space><gt><space><at>formatted_timestamp<lf><space><space>AND<space>ZoneId<space>=<space><apos><at>Value<openparen>zone_id<closeparen><apos><semicolon><lf>,ReadNewOccupancy_UnivWstBlvdParkade)" }    READER_TYPE          { MSSQL_JDBC_NONSPATIAL_2 }    READER_DATASET       { "Autovu" }    COMBINE_ATTRIBUTES   { RESULT_ONLY }    IGNORE_NULLS         { <Unused> }    COMBINE_GEOMETRY     { QUERY_ONLY }    QUERYFCT_OUTPUT      { "BASED_ON_CONNECTIONS" }    CONTINUE_ON_READER_ERROR YES    QUERYFCT_PROPAGATE_IDS_ON_SQL_EXECUTE YES    READER_PARAMS        { $(ReadNewOccupancy_UnivWstBlvdParkade_DIRECTIVES) }    OUTPUT { RESULT FEATURE_TYPE ReadNewOccupancy_UnivWstBlvdParkade_RESULT        @SupplyAttributes(fme_feature_type,ReadNewOccupancy_UnivWstBlvdParkade)         }    OUTPUT { SCHEMA FEATURE_TYPE ReadNewOccupancy_UnivWstBlvdParkade_<SCHEMA>           }    OUTPUT { QUERY FEATURE_TYPE ReadNewOccupancy_UnivWstBlvdParkade_INITIATOR            }    OUTPUT { READER_ERROR FEATURE_TYPE ReadNewOccupancy_UnivWstBlvdParkade_<REJECTED>         }
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "ReadNewOccupancy_UnivWstBlvdParkade_<SCHEMA> Feature Recorder -1 2147614789" INPUT FEATURE_TYPE ReadNewOccupancy_UnivWstBlvdParkade_<SCHEMA> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_ReadNewOccupancy_UnivWstBlvdPark -1 69 fo 0 _lt_SCHEMA_gt_  0  eecd4c449f7f930b0b310d75fd77b741481eeb26.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { fme_feature_type_name,buffer,attribute<opencurly><closecurly>.name,buffer,attribute<opencurly><closecurly>.fme_data_type,buffer,attribute<opencurly><closecurly>.native_data_type,buffer,fme_basename,buffer }  FEAT_TYPE_DISPLAY_NAME { ReadNewOccupancy_UnivWstBlvdParkade_<lt>Schema<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "ReadNewOccupancy_UnivWstBlvdParkade_RESULT Feature Recorder -1 2147680325" INPUT FEATURE_TYPE ReadNewOccupancy_UnivWstBlvdParkade_RESULT FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_ReadNewOccupancy_UnivWstBlvdPark -1 69 fo 1 RESULT  0  456297781911ed08e80c5e5080f138f326f81e8a.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { ZoneId,buffer,TimestampUtc,buffer,Timestamp,buffer,TimezoneId,buffer,Capacity,buffer,Vehicles,buffer,Violations,buffer,ViolationsEnforced,buffer }  FEAT_TYPE_DISPLAY_NAME { ReadNewOccupancy_UnivWstBlvdParkade_Result } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "ReadNewOccupancy_UnivWstBlvdParkade_INITIATOR Feature Recorder -1 2147745861" INPUT FEATURE_TYPE ReadNewOccupancy_UnivWstBlvdParkade_INITIATOR FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_ReadNewOccupancy_UnivWstBlvdPark -1 69 fo 2 INITIATOR  0  45c73b7acd110a4bb644a1980c4323ebe2728f03.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { zone_id,varchar<openparen>255<closeparen>,latest_timestamp,int64,_matched_records,uint32 }  FEAT_TYPE_DISPLAY_NAME { ReadNewOccupancy_UnivWstBlvdParkade_Initiator } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "ReadNewOccupancy_UnivWstBlvdParkade_<REJECTED> Feature Recorder -1 2147811397" INPUT FEATURE_TYPE ReadNewOccupancy_UnivWstBlvdParkade_<REJECTED> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_ReadNewOccupancy_UnivWstBlvdPark -1 69 fo 3 _lt_REJECTED_gt_  0  6bd89697b92f4c9c16d909aa4340a9d87566be66.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { zone_id,varchar<openparen>255<closeparen>,latest_timestamp,int64,_reader_error,buffer,ZoneId,buffer,TimestampUtc,buffer,Timestamp,buffer,TimezoneId,buffer,Capacity,buffer,Vehicles,buffer,Violations,buffer,ViolationsEnforced,buffer }  FEAT_TYPE_DISPLAY_NAME { ReadNewOccupancy_UnivWstBlvdParkade_<lt>Rejected<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
.metadata XFORMER_END ReadNewOccupancy_UnivWstBlvdParkade;69:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "ReadNewOccupancy_UnivWstBlvdParkade_<SCHEMA> Feature Counter -1 2147614789"   INPUT FEATURE_TYPE ReadNewOccupancy_UnivWstBlvdParkade_<SCHEMA>     @LogCount("PORT -1 2147614789")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "ReadNewOccupancy_UnivWstBlvdParkade_RESULT Feature Counter -1 73"   INPUT FEATURE_TYPE ReadNewOccupancy_UnivWstBlvdParkade_RESULT   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 73")
FACTORY_DEF * TeeFactory   FACTORY_NAME "ReadNewOccupancy_UnivWstBlvdParkade_INITIATOR Feature Counter -1 2147745861"   INPUT FEATURE_TYPE ReadNewOccupancy_UnivWstBlvdParkade_INITIATOR     @LogCount("PORT -1 2147745861")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "ReadNewOccupancy_UnivWstBlvdParkade_<REJECTED> Feature Counter -1 2147811397"   INPUT FEATURE_TYPE ReadNewOccupancy_UnivWstBlvdParkade_<REJECTED>     @LogCount("PORT -1 2147811397")   NO_LOGGING    OUTPUT FEATURE_TYPE *
DEFAULT_MACRO _WB_BYPASS_TERMINATION No
FACTORY_DEF * TeeFactory FACTORY_NAME ReadNewOccupancy_UnivWstBlvdParkade_<Rejected> INPUT FEATURE_TYPE ReadNewOccupancy_UnivWstBlvdParkade_<REJECTED>  NO_LOGGING   OUTPUT FAILED FEATURE_TYPE * @Abort(ENCODED, ReadNewOccupancy_UnivWstBlvdParkade<space>output<space>a<space><lt>Rejected<gt><space>feature.<space><space>To<space>continue<space>translation<space>when<space>features<space>are<space>rejected<comma><space>change<space><apos>Workspace<space>Parameters<apos><space><gt><space>Translation<space><gt><space><apos>Rejected<space>Feature<space>Handling<apos><space>to<space><apos>Continue<space>Translation<apos>)
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN CreateSQL_Statements_7;70:Main
FME_PYTHON_PATH "$(FME_MF_DIR)"
FACTORY_DEF {*} PythonFactory    FACTORY_NAME { CreateSQL_Statements_7 }    FLUSH_WHEN_GROUPS_CHANGE { <Unused> }    INPUT  FEATURE_TYPE ReadNewOccupancy_UnivWstBlvdParkade_RESULT    SYMBOL_NAME { FeatureProcessor }    PYTHON_NAMESPACE FMEOBJECTS    SOURCE_CODE { import<space>fme<lf>import<space>fmeobjects<lf>import<space>datetime<lf>import<space>time<lf><lf>class<space>FeatureProcessor<openparen>object<closeparen>:<lf><space><space><space><space><quote><quote><quote>Template<space>Class<space>Interface:<lf><space><space><space><space>When<space>using<space>this<space>class<comma><space>make<space>sure<space>its<space>name<space>is<space>set<space>as<space>the<space>value<space>of<space>the<space><apos>Class<lf><space><space><space><space>to<space>Process<space>Features<apos><space>transformer<space>parameter.<lf><space><space><space><space><quote><quote><quote><lf><lf><space><space><space><space>def<space>__init__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote>Base<space>constructor<space>for<space>class<space>members.<quote><quote><quote><lf><space><space><space><space><space><space><space><space>self.accumulated_data<space>=<space><quote><openparen><quote><lf><space><space><space><space><space><space><space><space>self.counter<space>=<space>0<lf><space><space><space><space><space><space><space><space>pass<lf><lf><space><space><space><space>def<space>input<openparen>self<comma><space>feature<closeparen>:<lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>self.counter<space>=<space>self.counter<space>+<space>1<lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Get<space>the<space>required<space>attributes<space>from<space>the<space>feature<lf><space><space><space><space><space><space><space><space>zone_id<space>=<space>feature.getAttribute<openparen><apos>ZoneId<apos><closeparen><lf><space><space><space><space><space><space><space><space>timezone_id<space>=<space>feature.getAttribute<openparen><apos>TimezoneId<apos><closeparen><lf><space><space><space><space><space><space><space><space>capacity<space>=<space>feature.getAttribute<openparen><apos>Capacity<apos><closeparen><lf><space><space><space><space><space><space><space><space>vehicles<space>=<space>feature.getAttribute<openparen><apos>Vehicles<apos><closeparen><lf><space><space><space><space><space><space><space><space>violations<space>=<space>feature.getAttribute<openparen><apos>Violations<apos><closeparen><lf><space><space><space><space><space><space><space><space>enforced_violations<space>=<space>feature.getAttribute<openparen><apos>ViolationsEnforced<apos><closeparen><lf><space><space><space><space><space><space><space><space>timestamp_utc<space>=<space>feature.getAttribute<openparen><apos>TimestampUtc<apos><closeparen><lf><space><space><space><space><space><space><space><space>timestamp_str<space>=<space>feature.getAttribute<openparen><apos>Timestamp<apos><closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Define<space>the<space>format<space>of<space>the<space>incoming<space>timestamp<lf><space><space><space><space><space><space><space><space>format_str<space>=<space><apos>%Y%m%d%H%M%S.%f<apos><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Adjust<space>the<space>timestamp<space>string<space>to<space>ensure<space>it<space>matches<space>the<space>expected<space>format<lf><space><space><space><space><space><space><space><space>if<space>len<openparen>timestamp_str.split<openparen><apos>.<apos><closeparen><openbracket>1<closebracket><closeparen><space><gt><space>6:<lf><space><space><space><space><space><space><space><space><space><space><space><space>timestamp_str<space>=<space>timestamp_str<openbracket>:21<closebracket><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Convert<space>the<space>timestamp<space>string<space>to<space>a<space>datetime<space>object<lf><space><space><space><space><space><space><space><space>dt<space>=<space>datetime.datetime.strptime<openparen>timestamp_str<comma><space>format_str<closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Convert<space>the<space>datetime<space>object<space>to<space>a<space>Unix<space>timestamp<lf><space><space><space><space><space><space><space><space>unix_timestamp<space>=<space>int<openparen>time.mktime<openparen>dt.timetuple<openparen><closeparen><closeparen><closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Add<space>the<space>Unix<space>timestamp<space>as<space>a<space>new<space>attribute<lf><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>TimestampUnix<apos><comma><space>unix_timestamp<closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Concatenate<space>the<space>attributes<space>into<space>a<space>single<space>string<lf><space><space><space><space><space><space><space><space>feature_string<space>=<space>f<quote><apos><opencurly>zone_id<closecurly><apos><comma><apos><opencurly>timezone_id<closecurly><apos><comma><opencurly>capacity<closecurly><comma><opencurly>vehicles<closecurly><comma><opencurly>violations<closecurly><comma><opencurly>enforced_violations<closecurly><comma><opencurly>timestamp_utc<closecurly><comma><opencurly>timestamp_str<closecurly><comma><opencurly>unix_timestamp<closecurly><quote><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Append<space>the<space>feature<space>string<space>to<space>the<space>accumulated<space>string<lf><space><space><space><space><space><space><space><space>if<space>self.accumulated_data:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.accumulated_data<space>+=<space>f<quote><opencurly>feature_string<closecurly><closeparen><comma><space><openparen><quote><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>if<openparen>self.counter<space>==<space>999<closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.accumulated_data<space>=<space>self.accumulated_data<openbracket>:-3<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>Create<space>a<space>new<space>output<space>feature<space>with<space>accumulated<space>data<lf><space><space><space><space><space><space><space><space><space><space><space><space>out_feature<space>=<space>fmeobjects.FMEFeature<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>out_feature.setAttribute<openparen><apos>accumulated_data<apos><comma><space>self.accumulated_data.strip<openparen><closeparen><closeparen><space><space>#<space>Remove<space>trailing<space>space<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.pyoutput<openparen>out_feature<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.accumulated_data<space>=<space><quote><openparen><quote><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.counter<space>=<space>0<lf><lf><space><space><space><space>def<space>close<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote>This<space>method<space>is<space>called<space>once<space>all<space>the<space>FME<space>Features<space>have<space>been<space>processed<lf><space><space><space><space><space><space><space><space>from<space>input<openparen><closeparen>.<lf><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space>if<openparen>self.accumulated_data<space>!=<space><quote><openparen><quote><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.accumulated_data<space>=<space>self.accumulated_data<openbracket>:-3<closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>Create<space>a<space>new<space>output<space>feature<space>with<space>accumulated<space>data<lf><space><space><space><space><space><space><space><space><space><space><space><space>out_feature<space>=<space>fmeobjects.FMEFeature<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>out_feature.setAttribute<openparen><apos>accumulated_data<apos><comma><space>self.accumulated_data.strip<openparen><closeparen><closeparen><space><space>#<space>Remove<space>trailing<space>space<lf><space><space><space><space><space><space><space><space><space><space><space><space>self.pyoutput<openparen>out_feature<closeparen><lf><space><space><space><space><space><space><space><space>pass<lf><lf><space><space><space><space>def<space>process_group<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote>When<space><apos>Group<space>By<apos><space>attribute<openparen>s<closeparen><space>are<space>specified<comma><space>this<space>method<space>is<space>called<space><lf><space><space><space><space><space><space><space><space>once<space>all<space>the<space>FME<space>Features<space>in<space>a<space>current<space>group<space>have<space>been<space>sent<space>to<space>input<openparen><closeparen>.<lf><lf><space><space><space><space><space><space><space><space>FME<space>Features<space>sent<space>to<space>input<openparen><closeparen><space>should<space>generally<space>be<space>cached<space>for<space>group-by<space><lf><space><space><space><space><space><space><space><space>processing<space>in<space>this<space>method<space>when<space>knowledge<space>of<space>all<space>Features<space>is<space>required.<space><lf><space><space><space><space><space><space><space><space>The<space>resulting<space>Feature<openparen>s<closeparen><space>from<space>the<space>group-by<space>processing<space>should<space>be<space>emitted<space><lf><space><space><space><space><space><space><space><space>through<space>self.pyoutput<openparen><closeparen>.<lf><lf><space><space><space><space><space><space><space><space>FME<space>will<space>continue<space>calling<space>input<openparen><closeparen><space>a<space>number<space>of<space>times<space>followed<lf><space><space><space><space><space><space><space><space>by<space>process_group<openparen><closeparen><space>for<space>each<space><apos>Group<space>By<apos><space>attribute<comma><space>so<space>this<space><lf><space><space><space><space><space><space><space><space>implementation<space>should<space>reset<space>any<space>class<space>members<space>for<space>the<space>next<space>group.<lf><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space>pass<lf><lf><space><space><space><space>def<space>has_support_for<openparen>self<comma><space>support_type<closeparen>:<lf><space><space><space><space><space><space><space><space><quote><quote><quote>This<space>method<space>returns<space>whether<space>this<space>PythonCaller<space>supports<space>a<space>certain<space>type.<lf><space><space><space><space><space><space><space><space>The<space>only<space>supported<space>type<space>is<space>fmeobjects.FME_SUPPORT_FEATURE_TABLE_SHIM.<lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>:param<space>int<space>support_type:<space>The<space>support<space>type<space>being<space>queried.<lf><space><space><space><space><space><space><space><space>:returns:<space>True<space>if<space>the<space>passed<space>in<space>support<space>type<space>is<space>supported.<lf><space><space><space><space><space><space><space><space>:rtype:<space>bool<lf><space><space><space><space><space><space><space><space><quote><quote><quote><lf><space><space><space><space><space><space><space><space>if<space>support_type<space>==<space>fmeobjects.FME_SUPPORT_FEATURE_TABLE_SHIM:<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>If<space>this<space>is<space>set<space>to<space>return<space>True<comma><space>FME<space>will<space>pass<space>features<space>to<space>the<space>input<openparen><closeparen><space>method<space>that<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>come<space>from<space>a<space>feature<space>table<space>object.<space>This<space>allows<space>for<space>significant<space>performance<space>gains<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>when<space>processing<space>large<space>numbers<space>of<space>features.<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>To<space>enable<space>this<comma><space>the<space>following<space>conditions<space>must<space>be<space>met:<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space><space><space>1<closeparen><space>features<space>passed<space>into<space>the<space>input<openparen><closeparen><space>method<space>cannot<space>be<space>copied<space>or<space>cached<space>for<space>later<space>use<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space><space><space>2<closeparen><space>features<space>cannot<space>be<space>read<space>or<space>modified<space>after<space>being<space>passed<space>to<space>self.pyoutput<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space><space><space>3<closeparen><space>Group<space>Processing<space>must<space>not<space>be<space>enabled<lf><space><space><space><space><space><space><space><space><space><space><space><space>#<space>Violations<space>will<space>cause<space>undefined<space>behavior.<lf><space><space><space><space><space><space><space><space><space><space><space><space>return<space>False<lf><space><lf><space><space><space><space><space><space><space><space>return<space>False<lf> }    OUTPUT { PYOUTPUT FEATURE_TYPE CreateSQL_Statements_7_OUTPUT         }
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "CreateSQL_Statements_7_OUTPUT Feature Recorder -1 2147614790" INPUT FEATURE_TYPE CreateSQL_Statements_7_OUTPUT FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_CreateSQL_Statements_7 -1 70 fo 0 OUTPUT  0  ec63f7be27f2a9e600656882c6e6a15c215f178b.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { ZoneId,buffer,TimestampUtc,buffer,Timestamp,buffer,TimezoneId,buffer,Capacity,buffer,Vehicles,buffer,Violations,buffer,ViolationsEnforced,buffer,accumulated_data,buffer }  FEAT_TYPE_DISPLAY_NAME { CreateSQL_Statements_7_Output } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
.metadata XFORMER_END CreateSQL_Statements_7;70:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "CreateSQL_Statements_7_OUTPUT Feature Counter -1 72"   INPUT FEATURE_TYPE CreateSQL_Statements_7_OUTPUT   NO_LOGGING    OUTPUT FEATURE_TYPE *     @LogCount("LINK -1 72")
# -------------------------------------------------------------------------
.metadata XFORMER_BEGIN WriteNewOccupancy_UnivWstBlvdParkade;71:Main
MACRO WriteNewOccupancy_UnivWstBlvdParkade_DIRECTIVES APPLICATION_INTENT ReadWrite NAMED_CONNECTION AWS_UBCParking CREATE_FEATURE_TABLES_FROM_DATA Yes QUERY_FEATURE_TYPES_FOR_MERGE_FILTERS Yes QUERY_TIMEOUT 30
FACTORY_DEF {*} QueryFactory    FACTORY_NAME { WriteNewOccupancy_UnivWstBlvdParkade }    INPUT  FEATURE_TYPE CreateSQL_Statements_7_OUTPUT    QUERY_SQL            { "@EvaluateExpression(FDIV,STRING_ENCODED,INSERT<space>INTO<space>UnivWstBlvdParkade_Occupancy<space><openparen><lf><space><space><space><space><space><space><space><space>zone_id<comma><lf><space><space><space><space><space><space><space><space>TimezoneId<comma><lf><space><space><space><space><space><space><space><space>Capacity<comma><lf><space><space><space><space><space><space><space><space>Vehicles<comma><lf><space><space><space><space><space><space><space><space>Violations<comma><lf><space><space><space><space><space><space><space><space>ViolationsEnforced<comma><lf><space><space><space><space><space><space><space><space>TimestampUtc<comma><lf><space><space><space><space><space><space><space><space>Timestamp<comma><lf><space><space><space><space><space><space><space><space>TimestampUnix<space><closeparen><lf>VALUES<space><lf><space><space><space><space><at>Value<openparen>accumulated_data<closeparen><semicolon><lf>,WriteNewOccupancy_UnivWstBlvdParkade)" }    READER_TYPE          { MSSQL_JDBC_NONSPATIAL_2 }    READER_DATASET       { "AWS_UBCParking" }    COMBINE_ATTRIBUTES   { RESULT_ONLY }    IGNORE_NULLS         { <Unused> }    COMBINE_GEOMETRY     { QUERY_ONLY }    QUERYFCT_OUTPUT      { "BASED_ON_CONNECTIONS" }    CONTINUE_ON_READER_ERROR YES    QUERYFCT_PROPAGATE_IDS_ON_SQL_EXECUTE YES    READER_PARAMS        { $(WriteNewOccupancy_UnivWstBlvdParkade_DIRECTIVES) }    OUTPUT { RESULT FEATURE_TYPE WriteNewOccupancy_UnivWstBlvdParkade_RESULT        @SupplyAttributes(fme_feature_type,WriteNewOccupancy_UnivWstBlvdParkade)         }    OUTPUT { SCHEMA FEATURE_TYPE WriteNewOccupancy_UnivWstBlvdParkade_<SCHEMA>           }    OUTPUT { QUERY FEATURE_TYPE WriteNewOccupancy_UnivWstBlvdParkade_INITIATOR            }    OUTPUT { READER_ERROR FEATURE_TYPE WriteNewOccupancy_UnivWstBlvdParkade_<REJECTED>         }
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "WriteNewOccupancy_UnivWstBlvdParkade_<SCHEMA> Feature Recorder -1 2147614791" INPUT FEATURE_TYPE WriteNewOccupancy_UnivWstBlvdParkade_<SCHEMA> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_WriteNewOccupancy_UnivWstBlvdPar -1 71 fo 0 _lt_SCHEMA_gt_  0  3e2921c6b84367531bcec2e209f7411af32c7483.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { fme_feature_type_name,buffer,attribute<opencurly><closecurly>.name,buffer,attribute<opencurly><closecurly>.fme_data_type,buffer,attribute<opencurly><closecurly>.native_data_type,buffer,fme_basename,buffer }  FEAT_TYPE_DISPLAY_NAME { WriteNewOccupancy_UnivWstBlvdParkade_<lt>Schema<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "WriteNewOccupancy_UnivWstBlvdParkade_RESULT Feature Recorder -1 2147680327" INPUT FEATURE_TYPE WriteNewOccupancy_UnivWstBlvdParkade_RESULT FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_WriteNewOccupancy_UnivWstBlvdPar -1 71 fo 1 RESULT  0  c356e63c4b2c1cc584295188698319514e11423d.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA {  }  FEAT_TYPE_DISPLAY_NAME { WriteNewOccupancy_UnivWstBlvdParkade_Result } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "WriteNewOccupancy_UnivWstBlvdParkade_INITIATOR Feature Recorder -1 2147745863" INPUT FEATURE_TYPE WriteNewOccupancy_UnivWstBlvdParkade_INITIATOR FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_WriteNewOccupancy_UnivWstBlvdPar -1 71 fo 2 INITIATOR  0  d485229cbbef2ca6092bb964d0cb8e59c31aeb6c.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { ZoneId,buffer,TimestampUtc,buffer,Timestamp,buffer,TimezoneId,buffer,Capacity,buffer,Vehicles,buffer,Violations,buffer,ViolationsEnforced,buffer,accumulated_data,buffer,_matched_records,uint32 }  FEAT_TYPE_DISPLAY_NAME { WriteNewOccupancy_UnivWstBlvdParkade_Initiator } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
FACTORY_DEF {*} RecorderFactory FACTORY_NAME "WriteNewOccupancy_UnivWstBlvdParkade_<REJECTED> Feature Recorder -1 2147811399" INPUT FEATURE_TYPE WriteNewOccupancy_UnivWstBlvdParkade_<REJECTED> FEATURE_FILE  { "C:/Users/mauer4.stu/AppData/Local/Temp/wb-cache-parking_occupancy-PKKieM/Main_WriteNewOccupancy_UnivWstBlvdPar -1 71 fo 3 _lt_REJECTED_gt_  0  46393718e51cb4a0ea9f2e8385729d9c00a6df4b.ffsupdating" } MODE RECORD_PASS_THROUGH STORE_SCANNED_SCHEMA YES NORMALIZE_LIST_ATTRIBUTES_ON_SCHEMA YES CREATE_SPATIAL_INDEX YES INSPECTOR YES RECORD_DIRECTLY_TO_DISK YES FSC_SCHEMA { ZoneId,buffer,TimestampUtc,buffer,Timestamp,buffer,TimezoneId,buffer,Capacity,buffer,Vehicles,buffer,Violations,buffer,ViolationsEnforced,buffer,accumulated_data,buffer,_reader_error,buffer }  FEAT_TYPE_DISPLAY_NAME { WriteNewOccupancy_UnivWstBlvdParkade_<lt>Rejected<gt> } STORE_SCANNED_METADATA PASS_THROUGH_FME_TYPE NO_LOGGING OUTPUT RECORDED FEATURE_TYPE *
.metadata XFORMER_END WriteNewOccupancy_UnivWstBlvdParkade;71:Main
FACTORY_DEF * TeeFactory   FACTORY_NAME "WriteNewOccupancy_UnivWstBlvdParkade_<SCHEMA> Feature Counter -1 2147614791"   INPUT FEATURE_TYPE WriteNewOccupancy_UnivWstBlvdParkade_<SCHEMA>     @LogCount("PORT -1 2147614791")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "WriteNewOccupancy_UnivWstBlvdParkade_RESULT Feature Counter -1 2147680327"   INPUT FEATURE_TYPE WriteNewOccupancy_UnivWstBlvdParkade_RESULT     @LogCount("PORT -1 2147680327")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "WriteNewOccupancy_UnivWstBlvdParkade_INITIATOR Feature Counter -1 2147745863"   INPUT FEATURE_TYPE WriteNewOccupancy_UnivWstBlvdParkade_INITIATOR     @LogCount("PORT -1 2147745863")   NO_LOGGING 
FACTORY_DEF * TeeFactory   FACTORY_NAME "WriteNewOccupancy_UnivWstBlvdParkade_<REJECTED> Feature Counter -1 2147811399"   INPUT FEATURE_TYPE WriteNewOccupancy_UnivWstBlvdParkade_<REJECTED>     @LogCount("PORT -1 2147811399")   NO_LOGGING    OUTPUT FEATURE_TYPE *
DEFAULT_MACRO _WB_BYPASS_TERMINATION No
FACTORY_DEF * TeeFactory FACTORY_NAME WriteNewOccupancy_UnivWstBlvdParkade_<Rejected> INPUT FEATURE_TYPE WriteNewOccupancy_UnivWstBlvdParkade_<REJECTED>  NO_LOGGING   OUTPUT FAILED FEATURE_TYPE * @Abort(ENCODED, WriteNewOccupancy_UnivWstBlvdParkade<space>output<space>a<space><lt>Rejected<gt><space>feature.<space><space>To<space>continue<space>translation<space>when<space>features<space>are<space>rejected<comma><space>change<space><apos>Workspace<space>Parameters<apos><space><gt><space>Translation<space><gt><space><apos>Rejected<space>Feature<space>Handling<apos><space>to<space><apos>Continue<space>Translation<apos>)
# -------------------------------------------------------------------------

FACTORY_DEF * RoutingFactory FACTORY_NAME "Destination Feature Type Routing Correlator"   COMMAND_PARM_EVALUATION SINGLE_PASS   INPUT FEATURE_TYPE *   FEATURE_TYPE_ATTRIBUTE __wb_out_feat_type__   OUTPUT ROUTED FEATURE_TYPE *    OUTPUT NOT_ROUTED FEATURE_TYPE __nuke_me__ @Tcl2("FME_StatMessage 818059 [FME_GetAttribute fme_template_feature_type] 818060 818061 fme_warn")
# -------------------------------------------------------------------------

FACTORY_DEF * TeeFactory   FACTORY_NAME "Final Output Nuker"   INPUT FEATURE_TYPE __nuke_me__

